@echo off
chcp 65001 >nul
echo ========================================
echo üîë –°–û–ó–î–ê–ù–ò–ï SSH –ö–õ–Æ–ß–ê –î–õ–Ø –ù–û–í–û–ì–û VPS
echo ========================================
echo.
echo VPS: 45.155.205.43
echo –õ–æ–≥–∏–Ω: root11
echo.

REM –°–æ–∑–¥–∞–µ–º SSH –∫–ª—é—á –¥–ª—è –Ω–æ–≤–æ–≥–æ VPS
set SSH_KEY_PATH=%USERPROFILE%\.ssh\id_rsa_new_vps

echo –°–æ–∑–¥–∞–Ω–∏–µ SSH –∫–ª—é—á–∞...
ssh-keygen -t rsa -b 4096 -f "%SSH_KEY_PATH%" -N "" -C "key-for-new-vps"

if errorlevel 1 (
    echo ‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª—é—á–∞!
    pause
    exit /b 1
)

echo.
echo ‚úÖ SSH –∫–ª—é—á —Å–æ–∑–¥–∞–Ω: %SSH_KEY_PATH%
echo.
echo üìã –ü–£–ë–õ–ò–ß–ù–´–ô –ö–õ–Æ–ß (—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ):
echo ========================================
type "%SSH_KEY_PATH%.pub"
echo ========================================
echo.
echo üîß –ß–¢–û –î–ï–õ–ê–¢–¨ –î–ê–õ–¨–®–ï:
echo.
echo 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –≤—ã—à–µ
echo 2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VPS —á–µ—Ä–µ–∑ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å –∏–ª–∏ –¥—Ä—É–≥–∏–º —Å–ø–æ—Å–æ–±–æ–º
echo 3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã:
echo.
echo    mkdir -p ~/.ssh
echo    echo "–í–°–¢–ê–í–¨–¢–ï_–ü–£–ë–õ–ò–ß–ù–´–ô_–ö–õ–Æ–ß_–°–Æ–î–ê" ^>^> ~/.ssh/authorized_keys
echo    chmod 600 ~/.ssh/authorized_keys
echo    chmod 700 ~/.ssh
echo.
echo 4. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ: –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è-–Ω–æ–≤—ã–π-vps-–∫–ª—é—á.bat
echo.
pause