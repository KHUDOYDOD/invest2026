"use strict";(()=>{var e={};e.id=7184,e.ids=[7184],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2664:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>x,requestAsyncStorage:()=>c,routeModule:()=>m,serverHooks:()=>y,staticGenerationAsyncStorage:()=>_});var n={};r.r(n),r.d(n,{GET:()=>d,POST:()=>p,PUT:()=>l});var s=r(73278),a=r(45002),o=r(54877),i=r(71309),u=r(86660);async function d(){try{let e=(0,u.e)(),{data:t,error:r}=await e.from("payment_settings").select("*").order("created_at",{ascending:!1});if(r)return console.error("Error fetching payment settings:",r),i.NextResponse.json({error:"Failed to fetch payment settings"},{status:500});return i.NextResponse.json(t||[])}catch(e){return console.error("Error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function p(e){try{let t=(0,u.e)(),r=await e.json(),{data:n,error:s}=await t.from("payment_settings").insert([{method_name:r.method_name,method_type:r.method_type,wallet_address:r.wallet_address,qr_code_url:r.qr_code_url,instructions:r.instructions,min_amount:r.min_amount,max_amount:r.max_amount,fee_percent:r.fee_percent,is_active:r.is_active||!0,display_order:r.display_order||1}]).select().single();if(s)return console.error("Error creating payment setting:",s),i.NextResponse.json({error:"Failed to create payment setting"},{status:500});return i.NextResponse.json(n)}catch(e){return console.error("Error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function l(e){try{let t=(0,u.e)(),r=await e.json();if(!r.id)return i.NextResponse.json({error:"ID is required"},{status:400});let{data:n,error:s}=await t.from("payment_settings").update({method_name:r.method_name,method_type:r.method_type,wallet_address:r.wallet_address,qr_code_url:r.qr_code_url,instructions:r.instructions,min_amount:r.min_amount,max_amount:r.max_amount,fee_percent:r.fee_percent,is_active:r.is_active,display_order:r.display_order,updated_at:new Date().toISOString()}).eq("id",r.id).select().single();if(s)return console.error("Error updating payment setting:",s),i.NextResponse.json({error:"Failed to update payment setting"},{status:500});return i.NextResponse.json(n)}catch(e){return console.error("Error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}let m=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/admin/payment-settings/route",pathname:"/api/admin/payment-settings",filename:"route",bundlePath:"app/api/admin/payment-settings/route"},resolvedPagePath:"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\api\\admin\\payment-settings\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:c,staticGenerationAsyncStorage:_,serverHooks:y}=m,g="/api/admin/payment-settings/route";function x(){return(0,o.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:_})}},86660:(e,t,r)=>{r.d(t,{e:()=>n});function n(){return{auth:{getUser:async()=>({data:{user:null},error:null})},from:()=>({select:()=>({eq:()=>({data:[],error:null}),data:[],error:null}),insert:()=>({data:[],error:null}),update:()=>({data:[],error:null}),delete:()=>({data:[],error:null})})}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[7787,4833],()=>r(2664));module.exports=n})();