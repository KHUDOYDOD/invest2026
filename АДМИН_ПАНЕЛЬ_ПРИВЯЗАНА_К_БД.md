# ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö!

## üéØ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. –°–æ–∑–¥–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ `site_settings`
**–§–∞–π–ª:** `scripts/create-site-settings-table.sql`

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã:
```sql
CREATE TABLE site_settings (
  id SERIAL PRIMARY KEY,
  setting_key VARCHAR(100) UNIQUE NOT NULL,
  setting_value TEXT NOT NULL,
  setting_type VARCHAR(20) DEFAULT 'string',
  category VARCHAR(50) DEFAULT 'general',
  description TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### 2. –ù–∞—á–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

#### üìÅ GENERAL (–û–±—â–∏–µ):
- `site_name` - –ù–∞–∑–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞
- `site_description` - –û–ø–∏—Å–∞–Ω–∏–µ —Å–∞–π—Ç–∞
- `maintenance_mode` - –†–µ–∂–∏–º –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
- `registration_enabled` - –†–∞–∑—Ä–µ—à–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é

#### üí∞ FINANCIAL (–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ):
- `min_deposit` - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–µ–ø–æ–∑–∏—Ç ($50)
- `min_withdrawal` - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ ($10)
- `withdrawal_fee` - –ö–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—ã–≤–æ–¥ (0%)

#### üë• REFERRAL (–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞):
- `referral_bonus` - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –±–æ–Ω—É—Å (10%)

#### üîî NOTIFICATIONS (–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è):
- `email_notifications` - Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `sms_notifications` - SMS —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### 3. API Endpoints

#### GET `/api/settings/site`
–ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```typescript
const result = await query(
  `SELECT setting_key, setting_value, setting_type 
   FROM site_settings 
   WHERE category = 'general'`
)
```

#### PUT `/api/settings/site`
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
```typescript
await query(
  `INSERT INTO site_settings (setting_key, setting_value, category, updated_at)
   VALUES ($1, $2, 'general', CURRENT_TIMESTAMP)
   ON CONFLICT (setting_key) 
   DO UPDATE SET setting_value = $2, updated_at = CURRENT_TIMESTAMP`,
  [settingKey, settingValue]
)
```

### 4. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
**–§–∞–π–ª:** `app/admin/site-management/page.tsx`

‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ –ë–î –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏
‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ –ë–î –ø–æ –∫–Ω–æ–ø–∫–µ "–û–±–Ω–æ–≤–∏—Ç—å"
‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "–°–∞–π—Ç –∞–∫—Ç–∏–≤–µ–Ω" –∏–∑ –ë–î

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

–ó–∞–ø—É—Å—Ç–∏—Ç–µ bat-—Ñ–∞–π–ª:
```bash
setup-site-settings.bat
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
node scripts/setup-site-settings.js
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: `http://localhost:3000/admin/site-management`
2. –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ PostgreSQL
3. –ò–∑–º–µ–Ω–∏—Ç–µ –ª—é–±—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É
4. –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"
5. –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `site_settings`

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

```sql
-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
SELECT * FROM site_settings ORDER BY category, setting_key;

-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
SELECT * FROM site_settings WHERE category = 'general';

-- –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤—Ä—É—á–Ω—É—é
UPDATE site_settings 
SET setting_value = 'MyNewSiteName' 
WHERE setting_key = 'site_name';
```

## üìä –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏:

–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ç–∞–∫–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å:

1. **`investment_plans`** - –¢–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã
   - API: `/api/investment-plans`
   - –°–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤

2. **`statistics_settings`** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
   - API: `/api/statistics`
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏

3. **`users`** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
   - API: `/api/admin/users`
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

4. **`transactions`** - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
   - API: `/api/admin/transactions`
   - –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

‚úÖ –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ PostgreSQL
‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (updated_at)
‚úÖ –¢–∏–ø–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (string, number, boolean)
‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (ON CONFLICT)

## üîß –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫:

```sql
INSERT INTO site_settings (setting_key, setting_value, setting_type, category, description) 
VALUES ('new_setting', 'value', 'string', 'general', '–û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏');
```

–ò–ª–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å - –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤–æ–µ –ø–æ–ª–µ –≤ —Ñ–æ—Ä–º—É!

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

### –í–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è:
```sql
UPDATE site_settings 
SET setting_value = 'true' 
WHERE setting_key = 'maintenance_mode';
```

### –ò–∑–º–µ–Ω–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–µ–ø–æ–∑–∏—Ç:
```sql
UPDATE site_settings 
SET setting_value = '100' 
WHERE setting_key = 'min_deposit';
```

### –û—Ç–∫–ª—é—á–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é:
```sql
UPDATE site_settings 
SET setting_value = 'false' 
WHERE setting_key = 'registration_enabled';
```

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤—Å—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å `/admin/site-management` –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL!

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –≤—Å–µ–º—É —Å–∞–π—Ç—É! üöÄ
