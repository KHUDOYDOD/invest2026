# ‚úÖ –§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï - –ó–ê–Ø–í–ö–ò –ù–ê –ü–û–ü–û–õ–ù–ï–ù–ò–ï

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–ª—é—á–æ–º JWT
**–ë—ã–ª–æ:** API –¥–ª—è –≤—Ö–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `NEXTAUTH_SECRET`, –∞ API –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ - `JWT_SECRET`  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –í—Å–µ API —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç `NEXTAUTH_SECRET` (–∫–∞–∫ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞)

### 2. –°–æ–∑–¥–∞–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ API
- ‚úÖ `POST /api/deposit-requests` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏
- ‚úÖ `GET /api/user/deposit-requests` - –ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ `GET /api/admin/deposit-requests` - –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞—è–≤–æ–∫ (–∞–¥–º–∏–Ω)
- ‚úÖ `PATCH /api/admin/deposit-requests/[id]` - –æ–¥–æ–±—Ä–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- User ID 4 (`123456@123456.123456`) —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç —Ä–æ–ª—å `admin`

## üö® –í–ê–ñ–ù–û: –ù–£–ñ–ù–û –û–ë–ù–û–í–ò–¢–¨ –¢–û–ö–ï–ù!

–í–∞—à —Ç–µ–∫—É—â–∏–π —Ç–æ–∫–µ–Ω –±—ã–ª —Å–æ–∑–¥–∞–Ω —Å–æ —Å—Ç–∞—Ä—ã–º –∫–ª—é—á–æ–º –∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω.

### –®–∞–≥ 1: –û—á–∏—Å—Ç–∏—Ç—å localStorage

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```javascript
localStorage.clear()
alert('–¢–æ–∫–µ–Ω —É–¥–∞–ª–µ–Ω! –°–µ–π—á–∞—Å –æ–±–Ω–æ–≤–ª—é —Å—Ç—Ä–∞–Ω–∏—Ü—É')
setTimeout(() => location.reload(), 1000)
```

### –®–∞–≥ 2: –í–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ

1. –í–≤–µ–¥–∏—Ç–µ email: `123456@123456.123456`
2. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å
3. –ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏"

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω

–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```javascript
const token = localStorage.getItem('authToken')
console.log('‚úÖ Token length:', token?.length)
```

–î–ª–∏–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å **–±–æ–ª—å—à–µ 100 —Å–∏–º–≤–æ–ª–æ–≤**!

## –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞

### 1. –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
1. –û—Ç–∫—Ä–æ–π—Ç–µ –¥–∞—à–±–æ—Ä–¥
2. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–ø–æ–ª–Ω–∏—Ç—å"
3. –í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, $100)
4. –í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã
5. –ù–∞–∂–º–∏—Ç–µ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É"
6. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è: "–ó–∞—è–≤–∫–∞ —Å–æ–∑–¥–∞–Ω–∞!"

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å "–ú–æ–∏ –∑–∞—è–≤–∫–∏"
1. –û—Ç–∫—Ä–æ–π—Ç–µ `/dashboard/requests`
2. –î–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤–∞—à–∏ –∑–∞—è–≤–∫–∏
3. –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Å–ø–∏—Å–∫–µ

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
1. –û—Ç–∫—Ä–æ–π—Ç–µ `/admin/requests`
2. –î–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –í–°–ï –∑–∞—è–≤–∫–∏
3. –°—Ç–∞—Ä—ã–µ 4 –∑–∞—è–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `salamoni@salamoni.salamoni`
4. –í–∞—à–∞ –Ω–æ–≤–∞—è –∑–∞—è–≤–∫–∞
5. –ö–Ω–æ–ø–∫–∏ "–û–¥–æ–±—Ä–∏—Ç—å" –∏ "–û—Ç–∫–ª–æ–Ω–∏—Ç—å"

### 4. –û–¥–æ–±—Ä–∏—Ç—å –∑–∞—è–≤–∫—É
1. –í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±—É—é –∑–∞—è–≤–∫—É
2. –ù–∞–∂–º–∏—Ç–µ "–û–¥–æ–±—Ä–∏—Ç—å"
3. –°—Ä–µ–¥—Å—Ç–≤–∞ –∑–∞—á–∏—Å–ª—è—Ç—Å—è –Ω–∞ –±–∞–ª–∞–Ω—Å
4. –°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ "–û–¥–æ–±—Ä–µ–Ω–æ"

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏:

```
üîÑ Fetching admin requests...
Deposit response status: 200
‚úÖ Deposit requests loaded: 4
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏:

```
Admin API - Auth header: present
Admin API - Token extracted, length: 200+ (–Ω–µ 20!)
Admin API - Token verified for user: 4
Admin loading deposit requests...
Found 4 deposit requests
```

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ID 4:
- Email: 123456@123456.123456
- Role: admin
- Balance: $0.00

–ó–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ (–≤—Å–µ–≥–æ 4):
- ID: 1, User: 1, $500, Bitcoin, pending
- ID: 2, User: 1, $2500, –°–ë–ü, pending
- ID: 3, User: 1, $1000, –°–ë–ü, pending
- ID: 4, User: 1, $250, –ö–∞—Ä—Ç–∞, pending
```

## –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ (Ctrl+C)
npm run dev
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
type .env.local
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
```
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production
NEXTAUTH_SECRET=your_super_secret_nextauth_key_change_this_in_production
```

### 3. –í–æ–π—Ç–∏ –∫–∞–∫ –¥—Ä—É–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ –∫–∞–∫ `salamoni@salamoni.salamoni` - —É –Ω–µ–≥–æ —É–∂–µ –µ—Å—Ç—å 4 –∑–∞—è–≤–∫–∏

## –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
node check-user-structure.js

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞—è–≤–∫–∏
node check-deposit-requests.js

# –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç
node test-deposit-flow.js
```

## ‚úÖ –ì–û–¢–û–í–û!

–ü–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—Ö–æ–¥–∞:
1. ‚úÖ –¢–æ–∫–µ–Ω –±—É–¥–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º
2. ‚úÖ –ó–∞—è–≤–∫–∏ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è
3. ‚úÖ –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∑–∞—è–≤–∫–∏
4. ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
5. ‚úÖ –ú–æ–∂–Ω–æ –æ–¥–æ–±—Ä—è—Ç—å/–æ—Ç–∫–ª–æ–Ω—è—Ç—å –∑–∞—è–≤–∫–∏

**–ì–ª–∞–≤–Ω–æ–µ - –æ—á–∏—Å—Ç–∏—Ç—å localStorage –∏ –≤–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ!** üéâ
