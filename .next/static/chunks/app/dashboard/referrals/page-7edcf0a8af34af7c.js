(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4580],{18213:function(e,t,s){Promise.resolve().then(s.bind(s,16182))},16182:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Z}});var a=s(57437),l=s(28033),r=s(37064),i=s(77661),n=s(2265),c=s(66070),d=s(62869),o=s(95186),x=s(26815),h=s(35974),m=s(95805),u=s(95252),p=s(70525),f=s(87414),j=s(78867);let b=(0,s(79205).Z)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);var g=s(33327),y=s(37806),N=s(98239),v=s(14438);function w(){let[e,t]=(0,n.useState)(null),[s,l]=(0,n.useState)(!0),[r,i]=(0,n.useState)(!1);(0,n.useEffect)(()=>{w()},[]);let w=async()=>{try{let e=localStorage.getItem("userId");if(!e)return;let s=await fetch("/api/user/referrals?userId=".concat(e)),a=await s.json();s.ok&&t(a)}catch(e){console.error("Error loading referral data:",e)}finally{l(!1)}},k=(null==e?void 0:e.referralCode)?"".concat(window.location.origin,"/register?ref=").concat(e.referralCode):"",Z=()=>{k&&(navigator.clipboard.writeText(k),i(!0),v.Am.success("Ссылка скопирована в буфер обмена!"),setTimeout(()=>i(!1),2e3))},C=e=>{let t="Присоединяйся к InvestPro и начни зарабатывать!",s={telegram:"https://t.me/share/url?url=".concat(encodeURIComponent(k),"&text=").concat(encodeURIComponent(t)),whatsapp:"https://wa.me/?text=".concat(encodeURIComponent(t+" "+k)),twitter:"https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(t),"&url=").concat(encodeURIComponent(k))};s[e]&&window.open(s[e],"_blank")};if(s)return(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-blue-400 border-t-transparent rounded-full animate-spin"})});let I=(null==e?void 0:e.totalReferrals)||0,S=(null==e?void 0:e.totalEarned)||0,E=(null==e?void 0:e.totalInvested)||0,R=(null==e?void 0:e.referrals)||[];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(N.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,a.jsx)(c.Zb,{className:"bg-gradient-to-br from-blue-600/20 to-blue-800/20 backdrop-blur-xl border-blue-400/30 text-white hover:scale-105 transition-transform",children:(0,a.jsx)(c.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-white/70",children:"Всего рефералов"}),(0,a.jsx)("p",{className:"text-3xl font-bold",children:I})]}),(0,a.jsx)("div",{className:"p-3 bg-blue-500/30 rounded-full",children:(0,a.jsx)(m.Z,{className:"h-8 w-8 text-blue-300"})})]})})})}),(0,a.jsx)(N.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,a.jsx)(c.Zb,{className:"bg-gradient-to-br from-green-600/20 to-emerald-800/20 backdrop-blur-xl border-green-400/30 text-white hover:scale-105 transition-transform",children:(0,a.jsx)(c.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-white/70",children:"Заработано"}),(0,a.jsxs)("p",{className:"text-3xl font-bold",children:["$",S.toFixed(2)]})]}),(0,a.jsx)("div",{className:"p-3 bg-green-500/30 rounded-full",children:(0,a.jsx)(u.Z,{className:"h-8 w-8 text-green-300"})})]})})})}),(0,a.jsx)(N.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,a.jsx)(c.Zb,{className:"bg-gradient-to-br from-purple-600/20 to-purple-800/20 backdrop-blur-xl border-purple-400/30 text-white hover:scale-105 transition-transform",children:(0,a.jsx)(c.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-white/70",children:"Инвестировано"}),(0,a.jsxs)("p",{className:"text-3xl font-bold",children:["$",E.toLocaleString()]})]}),(0,a.jsx)("div",{className:"p-3 bg-purple-500/30 rounded-full",children:(0,a.jsx)(p.Z,{className:"h-8 w-8 text-purple-300"})})]})})})})]}),(0,a.jsx)(N.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,a.jsxs)(c.Zb,{className:"bg-white/10 backdrop-blur-xl border-white/20 text-white",children:[(0,a.jsxs)(c.Ol,{children:[(0,a.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"h-5 w-5 text-yellow-400"}),"Ваша реферальная ссылка"]}),(0,a.jsx)(c.SZ,{className:"text-white/70",children:"Поделитесь этой ссылкой и получайте до 10% от депозитов приглашенных пользователей"})]}),(0,a.jsxs)(c.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x._,{htmlFor:"referral-link",className:"text-white/90",children:"Реферальная ссылка"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(o.I,{id:"referral-link",value:k,readOnly:!0,className:"bg-white/10 border-white/20 text-white"}),(0,a.jsxs)(d.z,{onClick:Z,className:"bg-blue-600 hover:bg-blue-700",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),r?"Скопировано!":"Копировать"]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(d.z,{onClick:()=>C("telegram"),className:"flex-1 bg-[#0088cc] hover:bg-[#0077b3]",children:[(0,a.jsx)(b,{className:"h-4 w-4 mr-2"}),"Telegram"]}),(0,a.jsxs)(d.z,{onClick:()=>C("whatsapp"),className:"flex-1 bg-[#25D366] hover:bg-[#20bd5a]",children:[(0,a.jsx)(b,{className:"h-4 w-4 mr-2"}),"WhatsApp"]}),(0,a.jsxs)(d.z,{onClick:()=>C("twitter"),className:"flex-1 bg-[#1DA1F2] hover:bg-[#1a8cd8]",children:[(0,a.jsx)(b,{className:"h-4 w-4 mr-2"}),"Twitter"]})]}),(0,a.jsxs)("div",{className:"p-4 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-lg border border-blue-400/30",children:[(0,a.jsxs)("h4",{className:"font-medium text-white mb-3 flex items-center gap-2",children:[(0,a.jsx)(g.Z,{className:"h-5 w-5 text-yellow-400"}),"Условия реферальной программы"]}),(0,a.jsxs)("ul",{className:"text-sm text-white/80 space-y-2",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-yellow-400",children:"•"}),(0,a.jsxs)("span",{children:["1-й уровень: ",(0,a.jsx)("strong",{className:"text-green-400",children:"5%"})," от депозитов приглашенных пользователей"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-yellow-400",children:"•"}),(0,a.jsxs)("span",{children:["2-й уровень: ",(0,a.jsx)("strong",{className:"text-green-400",children:"3%"})," от депозитов пользователей 2-го уровня"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-yellow-400",children:"•"}),(0,a.jsxs)("span",{children:["3-й уровень: ",(0,a.jsx)("strong",{className:"text-green-400",children:"2%"})," от депозитов пользователей 3-го уровня"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-yellow-400",children:"•"}),(0,a.jsx)("span",{children:"Выплаты происходят автоматически при каждом депозите реферала"})]})]})]})]})]})}),(0,a.jsx)(N.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:(0,a.jsxs)(c.Zb,{className:"bg-white/10 backdrop-blur-xl border-white/20 text-white",children:[(0,a.jsxs)(c.Ol,{children:[(0,a.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"h-5 w-5 text-blue-400"}),"Ваши рефералы"]}),(0,a.jsx)(c.SZ,{className:"text-white/70",children:"Список пользователей, зарегистрированных по вашей ссылке"})]}),(0,a.jsx)(c.aY,{children:R.length>0?(0,a.jsx)("div",{className:"space-y-3",children:R.map((e,t)=>(0,a.jsxs)(N.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+.1*t},className:"flex items-center justify-between p-4 bg-white/5 border border-white/10 rounded-lg hover:bg-white/10 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:e.name.charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-white",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-white/60",children:e.email}),(0,a.jsxs)("p",{className:"text-xs text-white/40",children:["Регистрация: ",new Date(e.registrationDate).toLocaleDateString("ru-RU")]})]})]}),(0,a.jsxs)("div",{className:"text-right space-y-2",children:[(0,a.jsxs)(h.C,{variant:1===e.level?"default":"secondary",className:1===e.level?"bg-blue-600":"bg-purple-600",children:[e.level," уровень"]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-white/60",children:"Инвестировал:"}),(0,a.jsxs)("span",{className:"text-white font-medium",children:[" $",e.totalInvested.toFixed(2)]})]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-white/60",children:"Заработано:"}),(0,a.jsxs)("span",{className:"text-green-400 font-medium",children:[" $",e.earned.toFixed(2)]})]})]})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(N.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},children:(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500/20 to-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(y.Z,{className:"h-10 w-10 text-blue-400"})})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Нет рефералов"}),(0,a.jsx)("p",{className:"text-white/60 mb-6",children:"Поделитесь своей реферальной ссылкой, чтобы начать зарабатывать"}),(0,a.jsxs)(d.z,{onClick:Z,className:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"Скопировать ссылку"]})]})})]})})]})}function k(){return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:[(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse"}),(0,a.jsx)("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,a.jsx)(r.x,{}),(0,a.jsxs)("div",{className:"flex relative z-10",children:[(0,a.jsx)(i.T,{activeItem:"referrals"}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,a.jsxs)(N.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-white",children:"Реферальная программа"}),(0,a.jsx)("p",{className:"text-white/70 text-lg",children:"Приглашайте друзей и получайте до 10% от их депозитов"})]}),(0,a.jsx)(N.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,a.jsx)(w,{})})]})})]})]})}function Z(){return(0,a.jsx)(l.a,{children:(0,a.jsx)(k,{})})}},28033:function(e,t,s){"use strict";s.d(t,{a:function(){return i}});var a=s(57437),l=s(2265),r=s(99376);function i(e){let{children:t}=e,s=(0,r.useRouter)(),[i,n]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!0),[o,x]=(0,l.useState)(null);return((0,l.useEffect)(()=>{(()=>{try{console.log("AuthGuard: Checking authentication...");let e=localStorage.getItem("userEmail"),t=localStorage.getItem("isAuthenticated"),s=localStorage.getItem("authToken"),a=localStorage.getItem("userId");if(console.log("AuthGuard: Checking auth data",{userEmail:e,isAuth:t,hasToken:!!s,userId:a}),!e||!t||!s||!a){console.log("AuthGuard: Missing auth data, redirecting to login"),x("Необходима авторизация"),d(!1),setTimeout(()=>{window.location.href="/login"},1e3);return}console.log("AuthGuard: User authenticated successfully"),n(!0),x(null)}catch(e){console.error("AuthGuard: Auth check error:",e),x("Ошибка проверки авторизации")}finally{d(!1)}})()},[]),c)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-t-blue-500 border-r-transparent border-b-blue-500 border-l-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-white text-lg",children:"Проверка авторизации..."})]})}):o||!i?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"text-red-400 text-xl mb-4",children:o||"Требуется авторизация"}),(0,a.jsx)("button",{onClick:()=>s.push("/login"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Перейти к авторизации"})]})}):(0,a.jsx)(a.Fragment,{children:t})}},66070:function(e,t,s){"use strict";s.d(t,{Ol:function(){return n},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},eW:function(){return x},ll:function(){return c}});var a=s(57437),l=s(2265),r=s(94508);let i=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...l})});i.displayName="Card";let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...l})});n.displayName="CardHeader";let c=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",s),...l})});c.displayName="CardTitle";let d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...l})});d.displayName="CardDescription";let o=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",s),...l})});o.displayName="CardContent";let x=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",s),...l})});x.displayName="CardFooter"},26815:function(e,t,s){"use strict";s.d(t,{_:function(){return d}});var a=s(57437),l=s(2265),r=s(6394),i=s(90535),n=s(94508);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.f,{ref:t,className:(0,n.cn)(c(),s),...l})});d.displayName=r.f.displayName},33327:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},78867:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},95252:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},87414:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},37806:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},6394:function(e,t,s){"use strict";s.d(t,{f:function(){return n}});var a=s(2265),l=s(66840),r=s(57437),i=a.forwardRef((e,t)=>(0,r.jsx)(l.WV.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var n=i}},function(e){e.O(0,[9203,3513,282,2696,8239,4438,9390,8391,6210,1133,8631,2971,2117,1744],function(){return e(e.s=18213)}),_N_E=e.O()}]);