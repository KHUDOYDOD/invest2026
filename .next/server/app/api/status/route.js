"use strict";(()=>{var e={};e.id=6492,e.ids=[6492],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8678:e=>{e.exports=import("pg")},35704:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{originalPathname:()=>d,patchFetch:()=>c,requestAsyncStorage:()=>E,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l});var r=s(73278),n=s(45002),o=s(54877),i=s(89191),u=e([i]);i=(u.then?(await u)():u)[0];let p=new r.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/status/route",pathname:"/api/status",filename:"route",bundlePath:"app/api/status/route"},resolvedPagePath:"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\api\\status\\route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:E,staticGenerationAsyncStorage:l,serverHooks:m}=p,d="/api/status/route";function c(){return(0,o.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}a()}catch(e){a(e)}})},89191:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{GET:()=>i});var r=s(71309),n=s(64985),o=e([n]);async function i(){try{let e=await (0,n.I)("SELECT NOW() as current_time, version() as version"),t={DATABASE_URL:process.env.DATABASE_URL?"SET":"NOT SET",JWT_SECRET:process.env.JWT_SECRET?"SET":"NOT SET",NEXTAUTH_SECRET:process.env.NEXTAUTH_SECRET?"SET":"NOT SET",NODE_ENV:"production"},s=(await (0,n.I)(`
      SELECT table_name 
      FROM information_schema.tables 
      WHERE table_schema = 'public' 
      ORDER BY table_name
    `)).rows.map(e=>e.table_name),a={};for(let e of["users","investment_plans","investments","transactions"])if(s.includes(e))try{let t=await (0,n.I)(`SELECT COUNT(*) as count FROM ${e}`);a[e]=parseInt(t.rows[0].count)}catch(t){a[e]=`ERROR: ${t.message}`}return r.NextResponse.json({status:"OK",timestamp:new Date().toISOString(),database:{connected:!0,time:e.rows[0].current_time,version:e.rows[0].version.split(" ")[0]+" "+e.rows[0].version.split(" ")[1]},environment:t,tables:{available:s,counts:a}})}catch(e){return r.NextResponse.json({status:"ERROR",timestamp:new Date().toISOString(),error:e.message,database:{connected:!1}},{status:500})}}n=(o.then?(await o)():o)[0],a()}catch(e){a(e)}})},64985:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{I:()=>o,d:()=>u});var r=s(8678),n=e([r]);r=(n.then?(await n)():n)[0];let i=process.env.POSTGRES_URL_NON_POOLING||process.env.DATABASE_URL||process.env.POSTGRES_URL;if(!i)throw Error("DATABASE_URL, POSTGRES_URL, or POSTGRES_URL_NON_POOLING must be set. Did you forget to provision a database?");let u=new r.Pool({connectionString:i,ssl:!!i?.includes("sslmode=require")&&{rejectUnauthorized:!1}});async function o(e,t){let s=await u.connect();try{return await s.query(e,t)}finally{s.release()}}a()}catch(e){a(e)}})}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[7787,4833],()=>s(35704));module.exports=a})();