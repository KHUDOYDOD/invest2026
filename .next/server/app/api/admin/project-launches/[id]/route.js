"use strict";(()=>{var e={};e.id=5689,e.ids=[5689],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8678:e=>{e.exports=import("pg")},97498:(e,t,n)=>{n.a(e,async(e,r)=>{try{n.r(t),n.d(t,{originalPathname:()=>_,patchFetch:()=>c,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>E,staticGenerationAsyncStorage:()=>p});var o=n(73278),a=n(45002),s=n(54877),i=n(56776),u=e([i]);i=(u.then?(await u)():u)[0];let l=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/admin/project-launches/[id]/route",pathname:"/api/admin/project-launches/[id]",filename:"route",bundlePath:"app/api/admin/project-launches/[id]/route"},resolvedPagePath:"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\api\\admin\\project-launches\\[id]\\route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:d,staticGenerationAsyncStorage:p,serverHooks:E}=l,_="/api/admin/project-launches/[id]/route";function c(){return(0,s.patchFetch)({serverHooks:E,staticGenerationAsyncStorage:p})}r()}catch(e){r(e)}})},56776:(e,t,n)=>{n.a(e,async(e,r)=>{try{n.r(t),n.d(t,{DELETE:()=>u,PATCH:()=>i});var o=n(71309),a=n(64985),s=e([a]);async function i(e,{params:t}){try{let{id:n}=t,r=await e.json(),s=await (0,a.I)("SELECT * FROM project_launches WHERE id = $1",[n]);if(0===s.rows.length)return o.NextResponse.json({error:"Project not found"},{status:404});s.rows[0];let i=await (0,a.I)(`UPDATE project_launches 
       SET name = COALESCE($1, name),
           title = COALESCE($2, title),
           description = COALESCE($3, description),
           status = COALESCE($4, status),
           launch_date = COALESCE($5, launch_date),
           target_amount = COALESCE($6, target_amount),
           raised_amount = COALESCE($7, raised_amount),
           is_launched = COALESCE($8, is_launched),
           is_active = COALESCE($9, is_active),
           show_on_site = COALESCE($10, show_on_site),
           position = COALESCE($11, position),
           icon_type = COALESCE($12, icon_type),
           background_type = COALESCE($13, background_type),
           color_scheme = COALESCE($14, color_scheme),
           updated_at = CURRENT_TIMESTAMP
       WHERE id = $15
       RETURNING *`,[r.name||null,r.title||null,r.description||null,r.status||null,r.launch_date||null,r.target_amount||null,r.raised_amount||null,void 0!==r.is_launched?r.is_launched:null,void 0!==r.is_active?r.is_active:null,void 0!==r.show_on_site?r.show_on_site:null,r.position||null,r.icon_type||null,r.background_type||null,r.color_scheme||null,n]);return o.NextResponse.json(i.rows[0])}catch(e){return console.error("Error updating project launch:",e),o.NextResponse.json({error:"Failed to update project launch"},{status:500})}}async function u(e,{params:t}){try{let{id:e}=t,n=await (0,a.I)("DELETE FROM project_launches WHERE id = $1 RETURNING id",[e]);if(0===n.rows.length)return o.NextResponse.json({error:"Project not found"},{status:404});return o.NextResponse.json({success:!0,id:e})}catch(e){return console.error("Error deleting project launch:",e),o.NextResponse.json({error:"Failed to delete project launch"},{status:500})}}a=(s.then?(await s)():s)[0],r()}catch(e){r(e)}})},64985:(e,t,n)=>{n.a(e,async(e,r)=>{try{n.d(t,{I:()=>s,d:()=>u});var o=n(8678),a=e([o]);o=(a.then?(await a)():a)[0];let i=process.env.POSTGRES_URL_NON_POOLING||process.env.DATABASE_URL||process.env.POSTGRES_URL;if(!i)throw Error("DATABASE_URL, POSTGRES_URL, or POSTGRES_URL_NON_POOLING must be set. Did you forget to provision a database?");let u=new o.Pool({connectionString:i,ssl:!!i?.includes("sslmode=require")&&{rejectUnauthorized:!1}});async function s(e,t){let n=await u.connect();try{return await n.query(e,t)}finally{n.release()}}r()}catch(e){r(e)}})}};var t=require("../../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[7787,4833],()=>n(97498));module.exports=r})();