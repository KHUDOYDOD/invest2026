(()=>{var e={};e.id=5053,e.ids=[5053],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},41733:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o}),s(85100),s(89045),s(93678),s(90996);var a=s(30170),r=s(45002),l=s(83876),i=s.n(l),n=s(66299),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let o=["",{children:["dashboard",{children:["testimonials",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,85100)),"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\dashboard\\testimonials\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,89045)),"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,93678)),"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\dashboard\\testimonials\\page.tsx"],m="/dashboard/testimonials/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/testimonials/page",pathname:"/dashboard/testimonials",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},11152:(e,t,s)=>{Promise.resolve().then(s.bind(s,77070))},77070:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(97247),r=s(28964),l=s(67699),i=s(41188),n=s(86294),d=s(27757),o=s(58053),c=s(70170),m=s(22394),x=s(44494),u=s(62752),h=s(58772),p=s(17712),b=s(90526),f=s(74974),g=s(1669),j=s(88736);function v(){let{user:e}=(0,j.a)(),[t,s]=(0,r.useState)(5),[l,v]=(0,r.useState)(""),[w,N]=(0,r.useState)(""),[y,k]=(0,r.useState)(!1),[Z,C]=(0,r.useState)(""),[S,_]=(0,r.useState)([]),[P,I]=(0,r.useState)(!0),D=async()=>{try{let e=localStorage.getItem("authToken");if(!e)return;let t=await fetch("/api/user/testimonials",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();e.success&&_(e.testimonials)}}catch(e){console.error("Error loading user testimonials:",e)}finally{I(!1)}},R=async e=>{if(e.preventDefault(),!l.trim()||!w.trim()){C("Пожалуйста, заполните все поля");return}if(w.length>1e3){C("Отзыв слишком длинный (максимум 1000 символов)");return}k(!0),C("");try{let e=localStorage.getItem("authToken");if(!e){C("Необходимо войти в систему");return}let a=await fetch("/api/testimonials/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({rating:t,title:l.trim(),content:w.trim()})}),r=await a.json();r.success?(C("Отзыв отправлен на модерацию. Спасибо!"),v(""),N(""),s(5),D()):C(r.error||"Произошла ошибка при отправке отзыва")}catch(e){C("Произошла ошибка при отправке отзыва")}finally{k(!1)}},z=e=>{switch(e){case"approved":return a.jsx(u.Z,{className:"h-5 w-5 text-green-400"});case"rejected":return a.jsx(h.Z,{className:"h-5 w-5 text-red-400"});default:return a.jsx(p.Z,{className:"h-5 w-5 text-yellow-400"})}},q=e=>{switch(e){case"approved":return"Одобрен";case"rejected":return"Отклонен";default:return"На модерации"}},A=e=>{switch(e){case"approved":return"text-green-400 bg-green-500/20 border-green-500/30";case"rejected":return"text-red-400 bg-red-500/20 border-red-500/30";default:return"text-yellow-400 bg-yellow-500/20 border-yellow-500/30"}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),a.jsx(i.x,{}),(0,a.jsxs)("div",{className:"flex relative z-10",children:[a.jsx(n.T,{activeItem:"testimonials"}),a.jsx("main",{className:"flex-1 p-4 md:p-6",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:"inline-flex items-center px-6 py-3 rounded-full bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30 mb-6 backdrop-blur-sm",children:[a.jsx(b.Z,{className:"h-5 w-5 mr-3 text-purple-400"}),a.jsx("span",{className:"text-purple-300 font-medium",children:"Отзывы"})]}),a.jsx("h1",{className:"text-4xl md:text-5xl font-black bg-gradient-to-r from-purple-400 via-blue-400 to-cyan-400 bg-clip-text text-transparent mb-4",children:"⭐ Ваши отзывы"}),a.jsx("p",{className:"text-white/80 max-w-2xl mx-auto",children:"Поделитесь своим опытом использования нашей платформы. Все отзывы проходят модерацию перед публикацией"})]}),(0,a.jsxs)(d.Zb,{className:"bg-white/10 backdrop-blur-xl border-white/20 shadow-2xl",children:[(0,a.jsxs)(d.Ol,{children:[(0,a.jsxs)(d.ll,{className:"text-white flex items-center gap-3",children:[a.jsx(f.Z,{className:"h-6 w-6 text-yellow-400"}),"Написать отзыв"]}),a.jsx(d.SZ,{className:"text-white/70",children:"Расскажите о своем опыте работы с нашей платформой"})]}),a.jsx(d.aY,{children:(0,a.jsxs)("form",{onSubmit:R,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(m._,{className:"text-white font-medium",children:"Оценка"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(e=>a.jsx("button",{type:"button",onClick:()=>s(e),className:"transition-colors",children:a.jsx(f.Z,{className:`h-8 w-8 ${e<=t?"text-yellow-400 fill-yellow-400":"text-gray-400 hover:text-yellow-300"}`})},e)),(0,a.jsxs)("span",{className:"ml-3 text-white/80",children:[t," из 5 звезд"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(m._,{htmlFor:"title",className:"text-white font-medium",children:"Заголовок отзыва"}),a.jsx(c.I,{id:"title",value:l,onChange:e=>v(e.target.value),placeholder:"Краткое описание вашего опыта",maxLength:200,className:"bg-white/10 border-white/20 text-white placeholder:text-white/50"}),(0,a.jsxs)("div",{className:"text-right text-sm text-white/60",children:[l.length,"/200"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(m._,{htmlFor:"content",className:"text-white font-medium",children:"Текст отзыва"}),a.jsx(x.g,{id:"content",value:w,onChange:e=>N(e.target.value),placeholder:"Расскажите подробнее о своем опыте использования платформы...",rows:6,maxLength:1e3,className:"bg-white/10 border-white/20 text-white placeholder:text-white/50 resize-none"}),(0,a.jsxs)("div",{className:"text-right text-sm text-white/60",children:[w.length,"/1000"]})]}),Z&&a.jsx("div",{className:`p-4 rounded-lg ${Z.includes("Спасибо")?"bg-green-500/20 border border-green-500/30 text-green-400":"bg-red-500/20 border border-red-500/30 text-red-400"}`,children:Z}),a.jsx(o.z,{type:"submit",disabled:y||!l.trim()||!w.trim(),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold py-3 disabled:opacity-50",children:y?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Отправляем..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(g.Z,{className:"h-5 w-5 mr-2"}),"Отправить отзыв"]})})]})})]}),(0,a.jsxs)(d.Zb,{className:"bg-white/10 backdrop-blur-xl border-white/20 shadow-2xl",children:[(0,a.jsxs)(d.Ol,{children:[(0,a.jsxs)(d.ll,{className:"text-white flex items-center gap-3",children:[a.jsx(b.Z,{className:"h-6 w-6 text-blue-400"}),"Ваши отзывы"]}),a.jsx(d.SZ,{className:"text-white/70",children:"История ваших отзывов и их статус модерации"})]}),a.jsx(d.aY,{children:P?(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400 mx-auto"}),a.jsx("p",{className:"text-white/60 mt-4",children:"Загрузка отзывов..."})]}):0===S.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(b.Z,{className:"h-12 w-12 text-white/40 mx-auto mb-4"}),a.jsx("p",{className:"text-white/60",children:"У вас пока нет отзывов"})]}):a.jsx("div",{className:"space-y-4",children:S.map(e=>(0,a.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((t,s)=>a.jsx(f.Z,{className:`h-4 w-4 ${s<e.rating?"text-yellow-400 fill-yellow-400":"text-gray-400"}`},s))}),(0,a.jsxs)("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full border ${A(e.status)}`,children:[z(e.status),a.jsx("span",{className:"text-sm font-medium",children:q(e.status)})]})]}),a.jsx("span",{className:"text-white/60 text-sm",children:new Date(e.createdAt).toLocaleDateString("ru-RU")})]}),a.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:e.title}),a.jsx("p",{className:"text-white/80 mb-4",children:e.content}),e.adminComment&&(0,a.jsxs)("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded-lg p-4",children:[a.jsx("p",{className:"text-blue-300 text-sm font-medium mb-1",children:"Комментарий модератора:"}),a.jsx("p",{className:"text-blue-200 text-sm",children:e.adminComment})]})]},e.id))})})]})]})})]})]})}function w(){return a.jsx(l.a,{children:a.jsx(v,{})})}},67699:(e,t,s)=>{"use strict";s.d(t,{a:()=>i});var a=s(97247),r=s(28964),l=s(34178);function i({children:e}){let t=(0,l.useRouter)(),[s,i]=(0,r.useState)(!1),[n,d]=(0,r.useState)(!0),[o,c]=(0,r.useState)(null);return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-t-blue-500 border-r-transparent border-b-blue-500 border-l-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-white text-lg",children:"Проверка авторизации..."})]})}):o||!s?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"text-red-400 text-xl mb-4",children:o||"Требуется авторизация"}),a.jsx("button",{onClick:()=>t.push("/login"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Перейти к авторизации"})]})}):a.jsx(a.Fragment,{children:e})}},27757:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>n,SZ:()=>o,Zb:()=>i,aY:()=>c,eW:()=>m,ll:()=>d});var a=s(97247),r=s(28964),l=s(25008);let i=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let n=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let d=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let o=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));o.displayName="CardDescription";let c=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,l.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let m=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",e),...t}));m.displayName="CardFooter"},22394:(e,t,s)=>{"use strict";s.d(t,{_:()=>o});var a=s(97247),r=s(28964),l=s(40768),i=s(87972),n=s(25008);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...t},s)=>a.jsx(l.f,{ref:s,className:(0,n.cn)(d(),e),...t}));o.displayName=l.f.displayName},44494:(e,t,s)=>{"use strict";s.d(t,{g:()=>i});var a=s(97247),r=s(28964),l=s(25008);let i=r.forwardRef(({className:e,...t},s)=>a.jsx("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));i.displayName="Textarea"},62752:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},58772:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},17712:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1669:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},74974:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},85100:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(45347).createProxy)(String.raw`C:\Users\x4539\Downloads\Invest2025-main\Invest2025-main\app\dashboard\testimonials\page.tsx#default`)},40768:(e,t,s)=>{"use strict";s.d(t,{f:()=>n});var a=s(28964),r=s(22251),l=s(97247),i=a.forwardRef((e,t)=>(0,l.jsx)(r.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var n=i}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[7787,4947,3514,4719,7818,6018,9498,2866],()=>s(41733));module.exports=a})();