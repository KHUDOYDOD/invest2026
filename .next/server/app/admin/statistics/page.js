(()=>{var e={};e.id=30,e.ids=[30],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},31305:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>d}),s(77254),s(70893),s(93678),s(90996);var a=s(30170),r=s(45002),n=s(83876),i=s.n(n),l=s(66299),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let d=["",{children:["admin",{children:["statistics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,77254)),"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\admin\\statistics\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,70893)),"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,93678)),"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\admin\\statistics\\page.tsx"],m="/admin/statistics/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/statistics/page",pathname:"/admin/statistics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},72859:(e,t,s)=>{Promise.resolve().then(s.bind(s,2612))},2612:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(97247),r=s(28964),n=s(27757),i=s(58053),l=s(70170),c=s(22394),d=s(76442),o=s(26974),m=s(57989),u=s(93587),x=s(74022),h=s(81621),p=s(28339),g=s(7663),v=s(70457),f=s(17818),j=s(89367);function y(){let[e,t]=(0,r.useState)({users_count:15420,users_change:12.5,investments_amount:285e4,investments_change:8.3,payouts_amount:192e4,payouts_change:15.7,profitability_rate:24.8,profitability_change:3.2}),[s,y]=(0,r.useState)(!0),[b,_]=(0,r.useState)(!1),[N,w]=(0,r.useState)(!1),Z=async()=>{try{y(!0);let e=await fetch("/api/statistics");if(e.ok){let s=await e.json();t({users_count:s.users_count||15420,users_change:s.users_change||12.5,investments_amount:s.investments_amount||285e4,investments_change:s.investments_change||8.3,payouts_amount:s.payouts_amount||192e4,payouts_change:s.payouts_change||15.7,profitability_rate:s.profitability_rate||24.8,profitability_change:s.profitability_change||3.2,updated_at:s.updated_at})}}catch(e){console.error("Error loading statistics:",e),f.Am.error("Ошибка загрузки статистики")}finally{y(!1)}},k=async()=>{try{_(!0);let t=localStorage.getItem("authToken");(await fetch("/api/statistics",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)})).ok?(f.Am.success("Статистика успешно обновлена!"),Z()):f.Am.error("Ошибка сохранения статистики")}catch(e){console.error("Error saving statistics:",e),f.Am.error("Ошибка сохранения статистики")}finally{_(!1)}},C=e=>e>=1e6?`${(e/1e6).toFixed(1)}М`:e>=1e3?`${(e/1e3).toFixed(1)}К`:e.toLocaleString("ru-RU"),I=e=>`${e>=0?"+":""}${e}%`,P=e=>e>=0?a.jsx(d.Z,{className:"h-4 w-4 text-emerald-400"}):a.jsx(o.Z,{className:"h-4 w-4 text-red-400"}),F=[{title:"Активные инвесторы",value:C(e.users_count),change:I(e.users_change),changeValue:e.users_change,icon:m.Z,gradient:"from-violet-500 to-purple-600",field:"users"},{title:"Месячные инвестиции",value:C(e.investments_amount),change:I(e.investments_change),changeValue:e.investments_change,icon:u.Z,gradient:"from-emerald-500 to-teal-600",field:"investments"},{title:"Выплачено прибыли",value:C(e.payouts_amount),change:I(e.payouts_change),changeValue:e.payouts_change,icon:x.Z,gradient:"from-orange-500 to-amber-600",field:"payouts"},{title:"Средняя доходность",value:`${e.profitability_rate}%`,change:I(e.profitability_change),changeValue:e.profitability_change,icon:h.Z,gradient:"from-pink-500 to-rose-600",field:"profitability"}];return s?a.jsx(j.u,{children:(0,a.jsxs)("div",{className:"flex items-center justify-center min-h-screen",children:[a.jsx(p.Z,{className:"w-8 h-8 animate-spin"}),a.jsx("span",{className:"ml-2",children:"Загрузка..."})]})}):a.jsx(j.u,{children:(0,a.jsxs)("div",{className:"container mx-auto p-6 max-w-7xl",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Редактирование статистики"}),a.jsx("p",{className:"text-gray-600",children:"Управление цифрами на главной странице сайта"})]}),(0,a.jsxs)("div",{className:"flex gap-4 mb-8",children:[(0,a.jsxs)(i.z,{onClick:k,disabled:b,className:"bg-green-600 hover:bg-green-700",children:[b?a.jsx(p.Z,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(g.Z,{className:"w-4 h-4 mr-2"}),"Сохранить изменения"]}),(0,a.jsxs)(i.z,{onClick:()=>w(!N),variant:"outline",children:[a.jsx(v.Z,{className:"w-4 h-4 mr-2"}),N?"Скрыть превью":"Показать превью"]}),(0,a.jsxs)(i.z,{onClick:Z,variant:"outline",children:[a.jsx(p.Z,{className:"w-4 h-4 mr-2"}),"Обновить"]})]}),N&&(0,a.jsxs)(n.Zb,{className:"mb-8 bg-gradient-to-br from-slate-950 via-gray-900 to-slate-950 border-2 border-cyan-500/30",children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{className:"text-white",children:"Превью на сайте"}),a.jsx(n.SZ,{className:"text-gray-400",children:"Так будет выглядеть статистика на главной странице"})]}),a.jsx(n.aY,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:F.map(e=>a.jsx("div",{className:`p-6 rounded-2xl border-2 bg-gradient-to-br ${e.gradient} bg-opacity-20 backdrop-blur-xl`,children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:`p-4 rounded-xl bg-gradient-to-br ${e.gradient} text-white mb-4`,children:a.jsx(e.icon,{className:"h-8 w-8"})}),a.jsx("h3",{className:"text-4xl font-black text-white mb-2",children:e.value}),a.jsx("p",{className:"text-white text-sm font-bold mb-3",children:e.title}),(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/20 backdrop-blur-sm text-white font-bold text-sm",children:[P(e.changeValue),e.change]})]})},e.title))})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:(0,a.jsxs)(n.ll,{className:"flex items-center gap-2",children:[a.jsx(m.Z,{className:"h-5 w-5 text-violet-500"}),"Активные инвесторы"]})}),(0,a.jsxs)(n.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx(c._,{htmlFor:"users_count",children:"Количество инвесторов"}),a.jsx(l.I,{id:"users_count",type:"number",value:e.users_count,onChange:s=>t({...e,users_count:parseInt(s.target.value)||0}),placeholder:"15420"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Будет отображаться как: ",C(e.users_count)]})]}),(0,a.jsxs)("div",{children:[a.jsx(c._,{htmlFor:"users_change",children:"Изменение (%)"}),a.jsx(l.I,{id:"users_change",type:"number",step:"0.1",value:e.users_change,onChange:s=>t({...e,users_change:parseFloat(s.target.value)||0}),placeholder:"12.5"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Будет отображаться как: ",I(e.users_change)]})]})]})]}),(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:(0,a.jsxs)(n.ll,{className:"flex items-center gap-2",children:[a.jsx(u.Z,{className:"h-5 w-5 text-emerald-500"}),"Месячные инвестиции"]})}),(0,a.jsxs)(n.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx(c._,{htmlFor:"investments_amount",children:"Сумма ($)"}),a.jsx(l.I,{id:"investments_amount",type:"number",value:e.investments_amount,onChange:s=>t({...e,investments_amount:parseInt(s.target.value)||0}),placeholder:"2850000"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Будет отображаться как: ",C(e.investments_amount)]})]}),(0,a.jsxs)("div",{children:[a.jsx(c._,{htmlFor:"investments_change",children:"Изменение (%)"}),a.jsx(l.I,{id:"investments_change",type:"number",step:"0.1",value:e.investments_change,onChange:s=>t({...e,investments_change:parseFloat(s.target.value)||0}),placeholder:"8.3"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Будет отображаться как: ",I(e.investments_change)]})]})]})]}),(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:(0,a.jsxs)(n.ll,{className:"flex items-center gap-2",children:[a.jsx(x.Z,{className:"h-5 w-5 text-orange-500"}),"Выплачено прибыли"]})}),(0,a.jsxs)(n.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx(c._,{htmlFor:"payouts_amount",children:"Сумма ($)"}),a.jsx(l.I,{id:"payouts_amount",type:"number",value:e.payouts_amount,onChange:s=>t({...e,payouts_amount:parseInt(s.target.value)||0}),placeholder:"1920000"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Будет отображаться как: ",C(e.payouts_amount)]})]}),(0,a.jsxs)("div",{children:[a.jsx(c._,{htmlFor:"payouts_change",children:"Изменение (%)"}),a.jsx(l.I,{id:"payouts_change",type:"number",step:"0.1",value:e.payouts_change,onChange:s=>t({...e,payouts_change:parseFloat(s.target.value)||0}),placeholder:"15.7"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Будет отображаться как: ",I(e.payouts_change)]})]})]})]}),(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:(0,a.jsxs)(n.ll,{className:"flex items-center gap-2",children:[a.jsx(h.Z,{className:"h-5 w-5 text-pink-500"}),"Средняя доходность"]})}),(0,a.jsxs)(n.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx(c._,{htmlFor:"profitability_rate",children:"Доходность (%)"}),a.jsx(l.I,{id:"profitability_rate",type:"number",step:"0.1",value:e.profitability_rate,onChange:s=>t({...e,profitability_rate:parseFloat(s.target.value)||0}),placeholder:"24.8"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Будет отображаться как: ",e.profitability_rate,"%"]})]}),(0,a.jsxs)("div",{children:[a.jsx(c._,{htmlFor:"profitability_change",children:"Изменение (%)"}),a.jsx(l.I,{id:"profitability_change",type:"number",step:"0.1",value:e.profitability_change,onChange:s=>t({...e,profitability_change:parseFloat(s.target.value)||0}),placeholder:"3.2"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Будет отображаться как: ",I(e.profitability_change)]})]})]})]})]}),a.jsx(n.Zb,{className:"mt-8 bg-blue-50 border-blue-200",children:a.jsx(n.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(x.Z,{className:"h-5 w-5 text-blue-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Советы по заполнению"}),(0,a.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:"• Используйте реалистичные цифры для доверия пользователей"}),a.jsx("li",{children:"• Изменения в процентах могут быть положительными (+) или отрицательными (-)"}),a.jsx("li",{children:"• Суммы автоматически форматируются (например, 2850000 → $2.9M)"}),a.jsx("li",{children:"• Изменения сразу отображаются на главной странице после сохранения"})]})]})]})})}),e.updated_at&&(0,a.jsxs)("p",{className:"text-center text-gray-500 text-sm mt-6",children:["Последнее обновление: ",new Date(e.updated_at).toLocaleString("ru-RU")]})]})})}},89367:(e,t,s)=>{"use strict";s.d(t,{u:()=>i});var a=s(97247),r=s(28964),n=s(34178);function i({children:e}){let[t,s]=(0,r.useState)(!1),[i,l]=(0,r.useState)(!0);return((0,n.useRouter)(),i)?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-400 mx-auto mb-4"}),a.jsx("p",{className:"text-white/60",children:"Проверка доступа..."})]})}):t?a.jsx(a.Fragment,{children:e}):null}},27757:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>l,SZ:()=>d,Zb:()=>i,aY:()=>o,eW:()=>m,ll:()=>c});var a=s(97247),r=s(28964),n=s(25008);let i=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let l=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let c=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle";let d=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let o=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent";let m=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t}));m.displayName="CardFooter"},70170:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var a=s(97247),r=s(28964),n=s(25008);let i=r.forwardRef(({className:e,type:t,...s},r)=>a.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));i.displayName="Input"},22394:(e,t,s)=>{"use strict";s.d(t,{_:()=>d});var a=s(97247),r=s(28964),n=s(40768),i=s(87972),l=s(25008);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef(({className:e,...t},s)=>a.jsx(n.f,{ref:s,className:(0,l.cn)(c(),e),...t}));d.displayName=n.f.displayName},26974:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])},76442:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},81621:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},70457:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},28339:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},7663:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},77254:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(45347).createProxy)(String.raw`C:\Users\x4539\Downloads\Invest2025-main\Invest2025-main\app\admin\statistics\page.tsx#default`)},40768:(e,t,s)=>{"use strict";s.d(t,{f:()=>l});var a=s(28964),r=s(22251),n=s(97247),i=a.forwardRef((e,t)=>(0,n.jsx)(r.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[7787,4947,3514,4268,7818,9498,5976],()=>s(31305));module.exports=a})();