(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5544],{29496:function(e,t,s){Promise.resolve().then(s.bind(s,98695))},98695:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return M}});var l=s(57437),a=s(2265),r=s(62869),i=s(95186),n=s(26815),c=s(66070),d=s(35974),o=s(37064),x=s(77661),h=s(98617);let m=(0,s(79205).Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);var u=s(32489),f=s(88906),p=s(82023),b=s(83229),g=s(95252),j=s(70525),N=s(33327),w=s(95805),v=s(89345),y=s(13041),k=s(83774),Z=s(31047),C=s(14438),_=s(61433);function M(){let{user:e,refreshUser:t}=(0,_.a)(),[s,M]=(0,a.useState)(!1),[z,S]=(0,a.useState)(!1),[A,I]=(0,a.useState)(null),[L,E]=(0,a.useState)({full_name:"",phone:"",country:"",city:""});(0,a.useEffect)(()=>{e&&E({full_name:e.full_name||"",phone:e.phone||"",country:e.country||"",city:e.city||""});let t=localStorage.getItem("userAvatar");t&&I(t)},[e]);let R=async()=>{try{S(!0);let e=localStorage.getItem("userId");if(!(await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,...L})})).ok)throw Error("Failed to update profile");await t(),M(!1),C.Am.success("Профиль успешно обновлен!")}catch(e){C.Am.error("Ошибка при обновлении профиля")}finally{S(!1)}};return e?(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 relative overflow-hidden",children:[(0,l.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,l.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-pulse"}),(0,l.jsx)("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,l.jsx)(o.x,{}),(0,l.jsxs)("div",{className:"flex relative z-10",children:[(0,l.jsx)(x.T,{activeItem:"settings"}),(0,l.jsx)("main",{className:"flex-1 p-4 md:p-6 lg:p-8",children:(0,l.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,l.jsxs)("div",{className:"relative bg-gradient-to-r from-blue-600/20 via-purple-600/20 to-pink-600/20 backdrop-blur-2xl rounded-3xl p-8 border-2 border-white/20 shadow-2xl overflow-hidden",children:[(0,l.jsx)("div",{className:"absolute top-0 left-0 w-40 h-40 bg-blue-500/30 rounded-full blur-3xl animate-pulse"}),(0,l.jsx)("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-purple-500/30 rounded-full blur-3xl animate-pulse delay-1000"}),(0,l.jsxs)("div",{className:"relative z-10 flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,l.jsxs)("div",{className:"relative group",children:[A?(0,l.jsx)("img",{src:A,alt:"Profile",className:"w-24 h-24 rounded-full object-cover shadow-2xl border-4 border-white/20"}):(0,l.jsx)("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-3xl font-bold shadow-2xl",children:e.full_name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}),"admin"===e.role&&(0,l.jsx)("div",{className:"absolute -top-2 -right-2 bg-yellow-500 rounded-full p-2 z-10",children:(0,l.jsx)(h.Z,{className:"h-5 w-5 text-white"})}),(0,l.jsxs)("div",{className:"absolute inset-0 bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",children:[(0,l.jsxs)("label",{htmlFor:"avatar-upload",className:"cursor-pointer flex flex-col items-center",children:[(0,l.jsx)(m,{className:"h-6 w-6 text-white mb-1"}),(0,l.jsx)("span",{className:"text-white text-xs",children:"Изменить"})]}),(0,l.jsx)("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){if(s.size>5242880){C.Am.error("Файл слишком большой. Максимум 5MB");return}if(!s.type.startsWith("image/")){C.Am.error("Можно загружать только изображения");return}let e=new FileReader;e.onloadend=()=>{let t=e.result;I(t),localStorage.setItem("userAvatar",t),localStorage.setItem("userName",L.full_name),C.Am.success("Фото профиля обновлено!"),window.location.reload()},e.readAsDataURL(s)}},className:"hidden"})]}),A&&(0,l.jsx)("button",{onClick:()=>{I(null),localStorage.removeItem("userAvatar"),C.Am.success("Фото профиля удалено"),window.location.reload()},className:"absolute -bottom-2 -right-2 bg-red-500 rounded-full p-2 hover:bg-red-600 transition-colors z-10",title:"Удалить фото",children:(0,l.jsx)(u.Z,{className:"h-4 w-4 text-white"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-4xl font-black bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent",children:e.full_name}),(0,l.jsx)("p",{className:"text-blue-200 text-lg mt-1",children:e.email}),(0,l.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,l.jsxs)(d.C,{className:"bg-blue-500/30 text-blue-200 border-blue-400/50",children:[(0,l.jsx)(f.Z,{className:"h-3 w-3 mr-1"}),"admin"===e.role?"Администратор":"Пользователь"]}),(0,l.jsxs)(d.C,{className:"bg-green-500/30 text-green-200 border-green-400/50",children:[(0,l.jsx)(p.Z,{className:"h-3 w-3 mr-1"}),"Активен"]})]})]})]}),s?(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(r.z,{onClick:R,disabled:z,className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",children:[(0,l.jsx)(b.Z,{className:"h-4 w-4 mr-2"}),z?"Сохранение...":"Сохранить"]}),(0,l.jsxs)(r.z,{onClick:()=>{M(!1),e&&E({full_name:e.full_name||"",phone:e.phone||"",country:e.country||"",city:e.city||""})},variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[(0,l.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Отмена"]})]}):(0,l.jsxs)(r.z,{onClick:()=>M(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[(0,l.jsx)(m,{className:"h-4 w-4 mr-2"}),"Редактировать"]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,l.jsx)(c.Zb,{className:"bg-gradient-to-br from-green-600/20 to-emerald-600/20 backdrop-blur-xl border-green-400/30 hover:scale-105 transition-transform",children:(0,l.jsx)(c.aY,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-white/70",children:"Баланс"}),(0,l.jsxs)("p",{className:"text-3xl font-bold text-white",children:["$",e.balance.toFixed(2)]})]}),(0,l.jsx)("div",{className:"p-3 bg-green-500/30 rounded-full",children:(0,l.jsx)(g.Z,{className:"h-8 w-8 text-green-300"})})]})})}),(0,l.jsx)(c.Zb,{className:"bg-gradient-to-br from-blue-600/20 to-cyan-600/20 backdrop-blur-xl border-blue-400/30 hover:scale-105 transition-transform",children:(0,l.jsx)(c.aY,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-white/70",children:"Инвестировано"}),(0,l.jsxs)("p",{className:"text-3xl font-bold text-white",children:["$",e.total_invested.toFixed(2)]})]}),(0,l.jsx)("div",{className:"p-3 bg-blue-500/30 rounded-full",children:(0,l.jsx)(j.Z,{className:"h-8 w-8 text-blue-300"})})]})})}),(0,l.jsx)(c.Zb,{className:"bg-gradient-to-br from-purple-600/20 to-pink-600/20 backdrop-blur-xl border-purple-400/30 hover:scale-105 transition-transform",children:(0,l.jsx)(c.aY,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-white/70",children:"Заработано"}),(0,l.jsxs)("p",{className:"text-3xl font-bold text-white",children:["$",e.total_earned.toFixed(2)]})]}),(0,l.jsx)("div",{className:"p-3 bg-purple-500/30 rounded-full",children:(0,l.jsx)(N.Z,{className:"h-8 w-8 text-purple-300"})})]})})}),(0,l.jsx)(c.Zb,{className:"bg-gradient-to-br from-orange-600/20 to-red-600/20 backdrop-blur-xl border-orange-400/30 hover:scale-105 transition-transform",children:(0,l.jsx)(c.aY,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-white/70",children:"Рефералы"}),(0,l.jsx)("p",{className:"text-3xl font-bold text-white",children:"0"})]}),(0,l.jsx)("div",{className:"p-3 bg-orange-500/30 rounded-full",children:(0,l.jsx)(w.Z,{className:"h-8 w-8 text-orange-300"})})]})})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,l.jsx)(c.Zb,{className:"bg-white/10 backdrop-blur-xl border-white/20",children:(0,l.jsxs)(c.aY,{className:"p-8",children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,l.jsx)(v.Z,{className:"h-6 w-6 text-blue-400"}),"Личная информация"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(n._,{className:"text-white/90 font-semibold",children:"Полное имя"}),s?(0,l.jsx)(i.I,{value:L.full_name,onChange:e=>E({...L,full_name:e.target.value}),placeholder:"Введите ваше полное имя",className:"bg-white/10 border-white/20 text-white placeholder:text-white/40 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/50"}):(0,l.jsx)("p",{className:"text-white text-lg bg-white/5 rounded-lg p-3",children:e.full_name})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(n._,{className:"text-white/90 flex items-center gap-2 font-semibold",children:[(0,l.jsx)(v.Z,{className:"h-4 w-4"}),"Email"]}),(0,l.jsx)("p",{className:"text-white text-lg bg-white/5 rounded-lg p-3",children:e.email})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(n._,{className:"text-white/90 flex items-center gap-2 font-semibold",children:[(0,l.jsx)(y.Z,{className:"h-4 w-4"}),"Телефон"]}),s?(0,l.jsx)(i.I,{value:L.phone,onChange:e=>E({...L,phone:e.target.value}),placeholder:"+7 (999) 123-45-67",className:"bg-white/10 border-white/20 text-white placeholder:text-white/40 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/50"}):(0,l.jsx)("p",{className:"text-white text-lg bg-white/5 rounded-lg p-3",children:e.phone||"Не указан"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(n._,{className:"text-white/90 flex items-center gap-2 font-semibold",children:[(0,l.jsx)(k.Z,{className:"h-4 w-4"}),"Страна"]}),s?(0,l.jsx)(i.I,{value:L.country,onChange:e=>E({...L,country:e.target.value}),placeholder:"Россия",className:"bg-white/10 border-white/20 text-white placeholder:text-white/40 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/50"}):(0,l.jsx)("p",{className:"text-white text-lg bg-white/5 rounded-lg p-3",children:e.country||"Не указана"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(n._,{className:"text-white/90 flex items-center gap-2 font-semibold",children:[(0,l.jsx)(k.Z,{className:"h-4 w-4"}),"Город"]}),s?(0,l.jsx)(i.I,{value:L.city,onChange:e=>E({...L,city:e.target.value}),placeholder:"Москва",className:"bg-white/10 border-white/20 text-white placeholder:text-white/40 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/50"}):(0,l.jsx)("p",{className:"text-white text-lg bg-white/5 rounded-lg p-3",children:e.city||"Не указан"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(n._,{className:"text-white/90 flex items-center gap-2 font-semibold",children:[(0,l.jsx)(Z.Z,{className:"h-4 w-4"}),"Дата регистрации"]}),(0,l.jsx)("p",{className:"text-white text-lg bg-white/5 rounded-lg p-3",children:new Date(e.created_at).toLocaleDateString("ru-RU")})]})]}),s&&(0,l.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,l.jsxs)(r.z,{onClick:R,disabled:z,className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",children:[(0,l.jsx)(b.Z,{className:"h-4 w-4 mr-2"}),z?"Сохранение...":"Сохранить изменения"]}),(0,l.jsxs)(r.z,{onClick:()=>M(!1),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[(0,l.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Отмена"]})]})]})}),(0,l.jsx)(c.Zb,{className:"bg-white/10 backdrop-blur-xl border-white/20",children:(0,l.jsxs)(c.aY,{className:"p-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Активность аккаунта"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,l.jsx)(j.Z,{className:"h-5 w-5 text-blue-400"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-white font-medium",children:"Активных инвестиций"}),(0,l.jsx)("p",{className:"text-white/60 text-sm",children:"Текущие вложения"})]})]}),(0,l.jsx)("p",{className:"text-2xl font-bold text-white",children:"0"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"p-2 bg-green-500/20 rounded-lg",children:(0,l.jsx)(N.Z,{className:"h-5 w-5 text-green-400"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-white font-medium",children:"Завершенных инвестиций"}),(0,l.jsx)("p",{className:"text-white/60 text-sm",children:"Всего за время"})]})]}),(0,l.jsx)("p",{className:"text-2xl font-bold text-white",children:"0"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:(0,l.jsx)(w.Z,{className:"h-5 w-5 text-purple-400"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-white font-medium",children:"Приглашенных друзей"}),(0,l.jsx)("p",{className:"text-white/60 text-sm",children:"Реферальная программа"})]})]}),(0,l.jsx)("p",{className:"text-2xl font-bold text-white",children:"0"})]})]})]})})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)(c.Zb,{className:"bg-gradient-to-br from-blue-600/20 to-purple-600/20 backdrop-blur-xl border-blue-400/30",children:(0,l.jsxs)(c.aY,{className:"p-6",children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Быстрые действия"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)(r.z,{className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",children:[(0,l.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Пополнить баланс"]}),(0,l.jsxs)(r.z,{className:"w-full bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700",children:[(0,l.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"Инвестировать"]}),(0,l.jsxs)(r.z,{className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700",children:[(0,l.jsx)(w.Z,{className:"h-4 w-4 mr-2"}),"Пригласить друга"]})]})]})}),(0,l.jsx)(c.Zb,{className:"bg-white/10 backdrop-blur-xl border-white/20",children:(0,l.jsxs)(c.aY,{className:"p-6",children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Статус аккаунта"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-white/70",children:"Уровень"}),(0,l.jsx)(d.C,{className:"bg-blue-500/30 text-blue-200",children:"Новичок"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-white/70",children:"Верификация"}),(0,l.jsx)(d.C,{className:"bg-yellow-500/30 text-yellow-200",children:"Не пройдена"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-white/70",children:"2FA"}),(0,l.jsx)(d.C,{className:"bg-red-500/30 text-red-200",children:"Отключена"})]})]})]})}),(0,l.jsx)(c.Zb,{className:"bg-gradient-to-br from-orange-600/20 to-red-600/20 backdrop-blur-xl border-orange-400/30",children:(0,l.jsxs)(c.aY,{className:"p-6",children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Реферальный код"}),(0,l.jsx)("p",{className:"text-white/70 text-sm mb-4",children:"Ваш уникальный код для приглашений"}),(0,l.jsx)("div",{className:"bg-white/10 rounded-lg p-3 text-center",children:(0,l.jsx)("p",{className:"text-2xl font-mono font-bold text-white",children:e.referral_code||"LOADING..."})})]})})]})]})]})})]})]}):(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-400"})})}},66070:function(e,t,s){"use strict";s.d(t,{Ol:function(){return n},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},eW:function(){return x},ll:function(){return c}});var l=s(57437),a=s(2265),r=s(94508);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});i.displayName="Card";let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...a})});n.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",s),...a})});o.displayName="CardContent";let x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",s),...a})});x.displayName="CardFooter"},26815:function(e,t,s){"use strict";s.d(t,{_:function(){return d}});var l=s(57437),a=s(2265),r=s(6394),i=s(90535),n=s(94508);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,l.jsx)(r.f,{ref:t,className:(0,n.cn)(c(),s),...a})});d.displayName=r.f.displayName},61433:function(e,t,s){"use strict";s.d(t,{UserProvider:function(){return i},a:function(){return n}});var l=s(57437),a=s(2265);let r=(0,a.createContext)(void 0);function i(e){let{children:t}=e,[s,i]=(0,a.useState)(null),[n,c]=(0,a.useState)(!0),[d,o]=(0,a.useState)(null),x=async()=>{try{c(!0),o(null);let e=localStorage.getItem("authToken"),t=localStorage.getItem("userId");if(!e||!t){i(null);return}let s=await fetch("/api/dashboard/all?userId=".concat(t),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!s.ok){if(401===s.status){localStorage.clear(),window.location.href="/login";return}throw Error("Failed to fetch user data")}let l=await s.json();i(l.user)}catch(e){console.error("Error loading user:",e),o(e instanceof Error?e.message:"Failed to load user")}finally{c(!1)}};return(0,a.useEffect)(()=>{x()},[]),(0,l.jsx)(r.Provider,{value:{user:s,loading:n,error:d,refreshUser:x,updateBalance:e=>{s&&i({...s,balance:e})}},children:t})}function n(){let e=(0,a.useContext)(r);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}},33327:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(79205).Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},31047:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(79205).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},98617:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(79205).Z)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},95252:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(79205).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},89345:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(79205).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},83774:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(79205).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},13041:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(79205).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},83229:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(79205).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},82023:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(79205).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},6394:function(e,t,s){"use strict";s.d(t,{f:function(){return n}});var l=s(2265),a=s(66840),r=s(57437),i=l.forwardRef((e,t)=>(0,r.jsx)(a.WV.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var n=i}},function(e){e.O(0,[9203,3513,282,2696,8239,4438,9390,8391,6210,1133,8631,2971,2117,1744],function(){return e(e.s=29496)}),_N_E=e.O()}]);