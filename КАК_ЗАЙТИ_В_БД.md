# –ö–∞–∫ –∑–∞–π—Ç–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL

## üéØ –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ pgAdmin (–°–ê–ú–´–ô –ü–†–û–°–¢–û–ô)

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ pgAdmin
1. –ù–∞–∂–º–∏—Ç–µ **Win + S** (–ø–æ–∏—Å–∫ Windows)
2. –í–≤–µ–¥–∏—Ç–µ: `pgAdmin`
3. –û—Ç–∫—Ä–æ–π—Ç–µ **pgAdmin 4**

### –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
1. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞–π–¥–∏—Ç–µ: **Servers** ‚Üí **PostgreSQL 15** (–∏–ª–∏ –≤–∞—à–∞ –≤–µ—Ä—Å–∏—è)
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
3. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å: `postgres`
4. –ù–∞–∂–º–∏—Ç–µ **OK**

### –®–∞–≥ 3: –û—Ç–∫—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
1. –†–∞—Å–∫—Ä–æ–π—Ç–µ: **Databases**
2. –ù–∞–π–¥–∏—Ç–µ: **investpro**
3. –ï—Å–ª–∏ –±–∞–∑—ã –Ω–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ –µ—ë (—Å–º. –Ω–∏–∂–µ)

### –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã —á–µ—Ä–µ–∑ pgAdmin:
1. –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–∞ **Databases**
2. **Create** ‚Üí **Database**
3. **Name:** `investpro`
4. **Owner:** `postgres`
5. –ù–∞–∂–º–∏—Ç–µ **Save**

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞–±–ª–∏—Ü:
1. **investpro** ‚Üí **Schemas** ‚Üí **public** ‚Üí **Tables**
2. –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–∞ —Ç–∞–±–ª–∏—Ü—É ‚Üí **View/Edit Data** ‚Üí **All Rows**

---

## üñ•Ô∏è –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç

–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
open-database.bat
```

–≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç –≤–∞—Å –∫ –±–∞–∑–µ `investpro`.

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –í—Ä—É—á–Ω—É—é

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É (cmd) –∏ –≤–≤–µ–¥–∏—Ç–µ:

```bash
psql -U postgres -d investpro
```

–ò–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É:
```bash
psql -U postgres
```

–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å: `postgres`

---

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã psql

–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:

### –û–±—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:
```sql
\l                    -- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
\c investpro          -- –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ investpro
\dt                   -- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
\d users              -- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã users
\du                   -- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π PostgreSQL
\q                    -- –í—ã—Ö–æ–¥
```

### –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏:
```sql
-- –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT * FROM users;

-- –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ email –∏ –∏–º—è
SELECT id, email, full_name FROM users;

-- –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT COUNT(*) FROM users;

-- –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email
SELECT * FROM users WHERE email = 'test@example.com';

-- –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT * FROM users ORDER BY created_at DESC LIMIT 5;

-- –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
DELETE FROM users WHERE email = 'test@example.com';

-- –û–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
UPDATE users SET balance = 1000 WHERE email = 'test@example.com';
```

---

## üîß –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
```bash
create-database.bat
```

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ psql
```bash
psql -U postgres
CREATE DATABASE investpro;
\q
```

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ pgAdmin
1. –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–∞ **Databases**
2. **Create** ‚Üí **Database**
3. –ò–º—è: `investpro`
4. Save

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
check-database.bat
```

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç:
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã users
- ‚úÖ –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ù–∞–ª–∏—á–∏–µ –ø–æ–ª—è password_hash

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –µ—ë –Ω–µ—Ç):
```bash
create-database.bat
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã:
```bash
setup-registration.bat
```

### 3. –û—Ç–∫—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
```bash
open-database.bat
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ:
```sql
\dt                    -- –°–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü
SELECT * FROM users;   -- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
\q                     -- –í—ã—Ö–æ–¥
```

---

## üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ pgAdmin

### –¢–∞–±–ª–∏—Ü–∞ users:
1. **investpro** ‚Üí **Schemas** ‚Üí **public** ‚Üí **Tables** ‚Üí **users**
2. –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí **View/Edit Data** ‚Üí **All Rows**

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL –∑–∞–ø—Ä–æ—Å–æ–≤:
1. –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–∞ **investpro** ‚Üí **Query Tool**
2. –í–≤–µ–¥–∏—Ç–µ SQL –∑–∞–ø—Ä–æ—Å:
   ```sql
   SELECT * FROM users;
   ```
3. –ù–∞–∂–º–∏—Ç–µ **F5** –∏–ª–∏ –∫–Ω–æ–ø–∫—É **Execute**

---

## ‚ùì –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### "psql: command not found"

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ PostgreSQL –≤ PATH –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å:
```bash
"C:\Program Files\PostgreSQL\15\bin\psql.exe" -U postgres
```

### "FATAL: database "investpro" does not exist"

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É:
```bash
create-database.bat
```

### "password authentication failed"

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–æ–ª—å –≤ .env.local:
```
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/investpro
```

---

## üéì –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è PostgreSQL:
- https://www.postgresql.org/docs/

### –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ psql:
- `\?` - –ø–æ–º–æ—â—å –ø–æ –∫–æ–º–∞–Ω–¥–∞–º psql
- `\h` - –ø–æ–º–æ—â—å –ø–æ SQL –∫–æ–º–∞–Ω–¥–∞–º
- `\h SELECT` - –ø–æ–º–æ—â—å –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–æ–º–∞–Ω–¥–µ

---

## üìû –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `test-connection.bat` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞—Ä–æ–ª—å –≤ .env.local –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö! üéâ
