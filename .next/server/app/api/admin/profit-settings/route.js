"use strict";(()=>{var e={};e.id=4653,e.ids=[4653],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},36244:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>g,patchFetch:()=>x,requestAsyncStorage:()=>m,routeModule:()=>c,serverHooks:()=>f,staticGenerationAsyncStorage:()=>_});var n={};t.r(n),t.d(n,{GET:()=>p,POST:()=>d,PUT:()=>l});var o=t(73278),a=t(45002),s=t(54877),i=t(71309),u=t(86660);async function p(){try{let e=(0,u.e)(),{data:r,error:t}=await e.from("profit_settings").select("*").order("created_at",{ascending:!1});if(t)return console.error("Error fetching profit settings:",t),i.NextResponse.json({error:"Failed to fetch profit settings"},{status:500});return i.NextResponse.json(r||[])}catch(e){return console.error("Error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function d(e){try{let r=(0,u.e)(),t=await e.json(),{data:n,error:o}=await r.from("profit_settings").insert([{plan_name:t.plan_name,min_amount:t.min_amount,max_amount:t.max_amount,daily_percent:t.daily_percent,duration_days:t.duration_days,payout_interval_hours:t.payout_interval_hours,is_active:t.is_active||!0,description:t.description}]).select().single();if(o)return console.error("Error creating profit setting:",o),i.NextResponse.json({error:"Failed to create profit setting"},{status:500});return i.NextResponse.json(n)}catch(e){return console.error("Error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function l(e){try{let r=(0,u.e)(),t=await e.json();if(!t.id)return i.NextResponse.json({error:"ID is required"},{status:400});let{data:n,error:o}=await r.from("profit_settings").update({plan_name:t.plan_name,min_amount:t.min_amount,max_amount:t.max_amount,daily_percent:t.daily_percent,duration_days:t.duration_days,payout_interval_hours:t.payout_interval_hours,is_active:t.is_active,description:t.description,updated_at:new Date().toISOString()}).eq("id",t.id).select().single();if(o)return console.error("Error updating profit setting:",o),i.NextResponse.json({error:"Failed to update profit setting"},{status:500});return i.NextResponse.json(n)}catch(e){return console.error("Error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/admin/profit-settings/route",pathname:"/api/admin/profit-settings",filename:"route",bundlePath:"app/api/admin/profit-settings/route"},resolvedPagePath:"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\api\\admin\\profit-settings\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:m,staticGenerationAsyncStorage:_,serverHooks:f}=c,g="/api/admin/profit-settings/route";function x(){return(0,s.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:_})}},86660:(e,r,t)=>{t.d(r,{e:()=>n});function n(){return{auth:{getUser:async()=>({data:{user:null},error:null})},from:()=>({select:()=>({eq:()=>({data:[],error:null}),data:[],error:null}),insert:()=>({data:[],error:null}),update:()=>({data:[],error:null}),delete:()=>({data:[],error:null})})}}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[7787,4833],()=>t(36244));module.exports=n})();