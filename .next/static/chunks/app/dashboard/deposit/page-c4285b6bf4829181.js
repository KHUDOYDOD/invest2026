(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3117],{41801:function(e,s,t){Promise.resolve().then(t.bind(t,83132))},83132:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return A}});var a=t(57437),l=t(2265),r=t(37064),i=t(77661),c=t(66304),n=t(66070),d=t(62869),o=t(95186),x=t(26815),h=t(74991),m=t(65613),u=t(35974),b=t(6512),g=t(14438),p=t(51817),j=t(60640),N=t(30401),w=t(88226),f=t(33388),v=t(24622),y=t(33245),C=t(76865),Z=t(67404),F=t(78867),S=t(92934),_=t(91723),k=t(82431),D=t(76858);function A(){let[e,s]=(0,l.useState)(!0),[t,A]=(0,l.useState)(!1),[z,P]=(0,l.useState)(1),[T,E]=(0,l.useState)(null),[G,I]=(0,l.useState)(""),[J,U]=(0,l.useState)(!1),[V,M]=(0,l.useState)(!1),[R,O]=(0,l.useState)(""),[X,Y]=(0,l.useState)(""),[$,B]=(0,l.useState)(""),[H,L]=(0,l.useState)(""),[W,q]=(0,l.useState)(""),[Q,K]=(0,l.useState)(""),[ee,es]=(0,l.useState)("trc20"),[et,ea]=(0,l.useState)(0),[el,er]=(0,l.useState)(0),[ei,ec]=(0,l.useState)(null),[en,ed]=(0,l.useState)(""),[eo,ex]=(0,l.useState)(""),eh={trc20:"TYN5CrEMj4hJcGpZHRq1qPgWwzfCVtJnEF",ton:"UQBFn2HwWvDRfYKCg2UNwBZUUPJG7Z3R1XGZS4SB-TW4Xneu"};(0,l.useEffect)(()=>{(()=>{try{if(!localStorage.getItem("userEmail")){window.location.href="/login";return}A(!0)}catch(e){console.error("Auth check error:",e),window.location.href="/login"}finally{s(!1)}})()},[]),(0,l.useEffect)(()=>{if(!G||!T){ea(0),er(0);return}let e=Number.parseFloat(G);if(isNaN(e)){ea(0),er(0);return}let s=0;switch(T){case"card":s=.02;break;case"sbp":s=.01;break;case"crypto":s=.005;break;default:s=0}let t=e*s;ea(t),er(e+t)},[G,T]);let em=e=>{let s=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"").match(/\d{4,16}/g),t=s&&s[0]||"",a=[];for(let e=0;e<t.length;e+=4)a.push(t.substring(e,e+4));return a.length?a.join(" "):e},eu=e=>{let s=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return s.length>=2?"".concat(s.substring(0,2),"/").concat(s.substring(2,4)):s},eb=e=>{let s=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return s?s.length<=1?"+".concat(s):s.length<=4?"+".concat(s.substring(0,1)," (").concat(s.substring(1)):s.length<=7?"+".concat(s.substring(0,1)," (").concat(s.substring(1,4),") ").concat(s.substring(4)):s.length<=10?"+".concat(s.substring(0,1)," (").concat(s.substring(1,4),") ").concat(s.substring(4,7),"-").concat(s.substring(7)):"+".concat(s.substring(0,1)," (").concat(s.substring(1,4),") ").concat(s.substring(4,7),"-").concat(s.substring(7,9),"-").concat(s.substring(9,11)):""},eg=e=>{navigator.clipboard.writeText(e),g.Am.success("Скопировано в буфер обмена")},ep=async()=>{U(!0);try{let e=localStorage.getItem("authToken");if(!e){g.Am.error("Необходима авторизация"),window.location.href="/login";return}let s=await fetch("/api/deposit",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({amount:Number.parseFloat(G),payment_method:T,wallet_address:"crypto"===T?eh[ee]:null,card_number:"card"===T?X:null,phone_number:"sbp"===T?Q:null,receipt:en||null,receipt_filename:(null==ei?void 0:ei.name)||null,transaction_hash:"crypto"===T?eo:null})}),t=await s.json();t.success?(O(t.transaction.id),M(!0),g.Am.success("Заявка на пополнение создана!")):g.Am.error(t.error||"Ошибка создания заявки")}catch(e){console.error("Payment error:",e),g.Am.error("Произошла ошибка при обработке платежа")}finally{U(!1)}};return e?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(p.Z,{className:"h-12 w-12 animate-spin text-blue-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-white text-lg",children:"Загрузка..."})]})}):t?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0",children:[(0,a.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500/20 rounded-full blur-3xl animate-float"}),(0,a.jsx)("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-float delay-1000"}),(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl animate-float delay-2000"}),(0,a.jsx)("div",{className:"absolute top-3/4 left-1/3 w-64 h-64 bg-cyan-500/15 rounded-full blur-3xl animate-float delay-3000"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:50px_50px] opacity-30"}),(0,a.jsx)("div",{className:"absolute inset-0",children:[...Array(20)].map((e,s)=>(0,a.jsx)("div",{className:"absolute w-1 h-1 bg-white/20 rounded-full animate-float",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(5*Math.random(),"s"),animationDuration:"".concat(3+4*Math.random(),"s")}},s))})]}),(0,a.jsx)(r.x,{}),(0,a.jsxs)("div",{className:"flex relative z-10",children:[(0,a.jsx)(i.T,{activeItem:"deposit"}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,a.jsxs)("div",{className:"relative bg-gradient-to-r from-blue-600/20 via-purple-600/20 to-pink-600/20 backdrop-blur-2xl rounded-3xl p-8 border-2 border-white/20 shadow-2xl overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-40 h-40 bg-blue-500/30 rounded-full blur-3xl animate-pulse"}),(0,a.jsx)("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-purple-500/30 rounded-full blur-3xl animate-pulse delay-1000"}),(0,a.jsxs)("div",{className:"relative z-10 text-center space-y-4",children:[(0,a.jsxs)("div",{className:"inline-flex items-center space-x-3 bg-gradient-to-r from-green-500/20 to-emerald-500/20 backdrop-blur-xl rounded-full px-6 py-3 border-2 border-green-400/30 shadow-lg mb-4",children:[(0,a.jsx)(j.Z,{className:"h-6 w-6 text-green-400 animate-pulse"}),(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"Пополнение баланса"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),(0,a.jsx)("h1",{className:"text-5xl md:text-7xl font-black bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent mb-4",children:"\uD83D\uDCB0 Пополнение"}),(0,a.jsx)("p",{className:"text-blue-100 max-w-2xl mx-auto text-xl font-medium",children:"Выберите удобный способ пополнения и внесите средства на ваш инвестиционный счет"})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-gray-700 -translate-y-1/2"}),(0,a.jsx)("div",{className:"absolute top-1/2 left-0 h-1 bg-gradient-to-r from-blue-500 to-purple-500 -translate-y-1/2 transition-all duration-300",style:{width:"".concat((z-1)/2*100,"%")}}),(0,a.jsxs)("div",{className:"relative flex justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center z-10 ".concat(z>=1?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-gray-700 text-gray-400"),children:z>1?(0,a.jsx)(N.Z,{className:"h-5 w-5"}):"1"}),(0,a.jsx)("span",{className:"text-xs mt-2 text-white",children:"Способ"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center z-10 ".concat(z>=2?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-gray-700 text-gray-400"),children:z>2?(0,a.jsx)(N.Z,{className:"h-5 w-5"}):"2"}),(0,a.jsx)("span",{className:"text-xs mt-2 text-white",children:"Детали"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center z-10 ".concat(z>=3?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-gray-700 text-gray-400"),children:V?(0,a.jsx)(N.Z,{className:"h-5 w-5"}):"3"}),(0,a.jsx)("span",{className:"text-xs mt-2 text-white",children:"Подтверждение"})]})]})]}),(0,a.jsxs)(n.Zb,{className:"bg-white/10 backdrop-blur-xl border border-white/20 shadow-xl overflow-hidden",children:[(0,a.jsxs)(n.Ol,{children:[(0,a.jsxs)(n.ll,{className:"text-white",children:[1===z&&"Выберите способ пополнения",2===z&&"Введите детали платежа",3===z&&(V?"Платеж обрабатывается":"Подтверждение платежа")]}),(0,a.jsxs)(n.SZ,{className:"text-white/70",children:[1===z&&"Выберите удобный способ пополнения и укажите сумму",2===z&&"Заполните необходимые данные для выбранного способа оплаты",3===z&&(V?"Ваш платеж обрабатывается. Это может занять некоторое время":"Проверьте данные перед подтверждением")]})]}),(0,a.jsxs)(n.aY,{className:"space-y-6",children:[1===z&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(h.E,{value:T||"",onValueChange:E,className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)(x._,{htmlFor:"card",className:"flex flex-col items-center justify-center p-4 rounded-lg border ".concat("card"===T?"border-blue-500 bg-blue-500/20":"border-white/20 bg-white/5 hover:bg-white/10"," cursor-pointer transition-all duration-200"),children:[(0,a.jsx)(h.m,{value:"card",id:"card",className:"sr-only"}),(0,a.jsx)(w.Z,{className:"h-10 w-10 mb-3 text-blue-400"}),(0,a.jsx)("span",{className:"text-white font-medium",children:"Банковская карта"}),(0,a.jsx)("span",{className:"text-white/60 text-xs mt-1",children:"Visa, MasterCard"}),(0,a.jsx)(u.C,{className:"mt-2 bg-blue-500/30 text-blue-200",children:"Комиссия 2%"})]}),(0,a.jsxs)(x._,{htmlFor:"sbp",className:"flex flex-col items-center justify-center p-4 rounded-lg border ".concat("sbp"===T?"border-green-500 bg-green-500/20":"border-white/20 bg-white/5 hover:bg-white/10"," cursor-pointer transition-all duration-200"),children:[(0,a.jsx)(h.m,{value:"sbp",id:"sbp",className:"sr-only"}),(0,a.jsx)(f.Z,{className:"h-10 w-10 mb-3 text-green-400"}),(0,a.jsx)("span",{className:"text-white font-medium",children:"Система быстрых платежей"}),(0,a.jsx)("span",{className:"text-white/60 text-xs mt-1",children:"СБП"}),(0,a.jsx)(u.C,{className:"mt-2 bg-green-500/30 text-green-200",children:"Комиссия 1%"})]}),(0,a.jsxs)(x._,{htmlFor:"crypto",className:"flex flex-col items-center justify-center p-4 rounded-lg border ".concat("crypto"===T?"border-purple-500 bg-purple-500/20":"border-white/20 bg-white/5 hover:bg-white/10"," cursor-pointer transition-all duration-200"),children:[(0,a.jsx)(h.m,{value:"crypto",id:"crypto",className:"sr-only"}),(0,a.jsx)(v.Z,{className:"h-10 w-10 mb-3 text-purple-400"}),(0,a.jsx)("span",{className:"text-white font-medium",children:"Криптовалюта"}),(0,a.jsx)("span",{className:"text-white/60 text-xs mt-1",children:"USDT TRC-20, TON"}),(0,a.jsx)(u.C,{className:"mt-2 bg-purple-500/30 text-purple-200",children:"Комиссия 0.5%"})]})]}),(0,a.jsxs)("div",{className:"pt-4",children:[(0,a.jsx)(x._,{htmlFor:"amount",className:"text-white mb-2 block",children:"Сумма пополнения"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.I,{id:"amount",type:"number",placeholder:"Введите сумму",value:G,onChange:e=>I(e.target.value),className:"bg-white/10 border-white/20 text-white placeholder:text-white/50 pr-12"}),(0,a.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,a.jsx)("span",{className:"text-white/70",children:"USD"})})]})]}),G&&Number.parseFloat(G)>0&&T&&(0,a.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-white/70",children:"Сумма:"}),(0,a.jsxs)("span",{className:"text-white",children:["$",Number.parseFloat(G).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-white/70",children:"Комиссия:"}),(0,a.jsxs)("span",{className:"text-white",children:["$",et.toFixed(2)]})]}),(0,a.jsx)(b.Z,{className:"my-2 bg-white/10"}),(0,a.jsxs)("div",{className:"flex justify-between items-center font-medium",children:[(0,a.jsx)("span",{className:"text-white",children:"Итого к оплате:"}),(0,a.jsxs)("span",{className:"text-white",children:["$",el.toFixed(2)]})]})]}),(0,a.jsxs)(m.bZ,{className:"bg-blue-500/20 border-blue-500/30 text-blue-200",children:[(0,a.jsx)(y.Z,{className:"h-4 w-4"}),(0,a.jsx)(m.Cd,{children:"Информация"}),(0,a.jsx)(m.X,{children:"Средства будут зачислены на ваш счет после подтверждения платежа. Обычно это занимает от нескольких минут до часа."})]})]}),2===z&&(0,a.jsxs)("div",{className:"space-y-6",children:["card"===T&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-1 rounded-lg",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-md p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,a.jsx)("div",{className:"w-12 h-8 bg-gradient-to-r from-yellow-400 to-yellow-300 rounded-md"}),(0,a.jsx)("div",{className:"text-white text-xs",children:"Secure Payment"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("div",{className:"text-white/60 text-xs mb-1",children:"Номер карты"}),(0,a.jsx)("div",{className:"text-white font-mono text-lg tracking-wider",children:X||"•••• •••• •••• ••••"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-white/60 text-xs mb-1",children:"Имя владельца"}),(0,a.jsx)("div",{className:"text-white font-mono uppercase",children:W||"ИМЯ ФАМИЛИЯ"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-white/60 text-xs mb-1",children:"Срок / CVV"}),(0,a.jsxs)("div",{className:"text-white font-mono",children:[$||"MM/YY"," / ","•••"]})]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x._,{htmlFor:"cardNumber",className:"text-white",children:"Номер карты"}),(0,a.jsx)(o.I,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:X,onChange:e=>Y(em(e.target.value)),maxLength:19,className:"bg-white/10 border-white/20 text-white placeholder:text-white/50"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x._,{htmlFor:"cardName",className:"text-white",children:"Имя владельца"}),(0,a.jsx)(o.I,{id:"cardName",placeholder:"IVAN IVANOV",value:W,onChange:e=>q(e.target.value.toUpperCase()),className:"bg-white/10 border-white/20 text-white placeholder:text-white/50"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x._,{htmlFor:"cardExpiry",className:"text-white",children:"Срок действия"}),(0,a.jsx)(o.I,{id:"cardExpiry",placeholder:"MM/YY",value:$,onChange:e=>B(eu(e.target.value)),maxLength:5,className:"bg-white/10 border-white/20 text-white placeholder:text-white/50"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x._,{htmlFor:"cardCvv",className:"text-white",children:"CVV код"}),(0,a.jsx)(o.I,{id:"cardCvv",type:"password",placeholder:"•••",value:H,onChange:e=>L(e.target.value.replace(/\D/g,"").slice(0,3)),maxLength:3,className:"bg-white/10 border-white/20 text-white placeholder:text-white/50"})]})]}),(0,a.jsxs)(m.bZ,{className:"bg-yellow-500/20 border-yellow-500/30 text-yellow-200",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4"}),(0,a.jsx)(m.Cd,{children:"Безопасность"}),(0,a.jsx)(m.X,{children:"Мы не храним данные вашей карты. Платежи обрабатываются через защищенный шлюз с использованием шифрования."})]})]}),"sbp"===T&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white/5 rounded-lg p-6 border border-white/10 text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(Z.Z,{className:"h-10 w-10 text-green-400"})}),(0,a.jsx)("h3",{className:"text-white text-lg font-medium mb-2",children:"Оплата через СБП"}),(0,a.jsx)("p",{className:"text-white/70 mb-4",children:"Введите номер телефона, привязанный к СБП, для получения QR-кода"}),(0,a.jsx)("div",{className:"space-y-4 max-w-xs mx-auto",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x._,{htmlFor:"phoneNumber",className:"text-gray-900 text-left block font-semibold",children:"Номер телефона"}),(0,a.jsx)(o.I,{id:"phoneNumber",placeholder:"+7 (999) 123-45-67",value:Q,onChange:e=>K(eb(e.target.value)),className:"bg-white border-gray-300 text-gray-900 placeholder:text-gray-500 focus:border-blue-500 focus:ring-blue-500"})]})})]}),(0,a.jsxs)(m.bZ,{className:"bg-green-500/20 border-green-500/30 text-green-200",children:[(0,a.jsx)(y.Z,{className:"h-4 w-4"}),(0,a.jsx)(m.Cd,{children:"Как это работает"}),(0,a.jsx)(m.X,{children:"После ввода номера телефона вы получите QR-код для оплаты через приложение вашего банка. Средства будут зачислены автоматически после подтверждения платежа."})]})]}),"crypto"===T&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-white/5 rounded-lg p-6 border border-white/10",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[(0,a.jsx)("div",{className:"w-32 h-32 bg-purple-500/20 rounded-lg flex items-center justify-center",children:(0,a.jsx)(Z.Z,{className:"h-16 w-16 text-purple-400"})}),(0,a.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-medium mb-1",children:"Выберите сеть"}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)(d.z,{type:"button",variant:"trc20"===ee?"default":"outline",className:"trc20"===ee?"bg-gradient-to-r from-green-600 to-emerald-600":"border-white/20 text-white hover:bg-white/10",onClick:()=>es("trc20"),children:"USDT TRC-20"}),(0,a.jsx)(d.z,{type:"button",variant:"ton"===ee?"default":"outline",className:"ton"===ee?"bg-gradient-to-r from-blue-600 to-cyan-600":"border-white/20 text-white hover:bg-white/10",onClick:()=>es("ton"),children:"USDT TON"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{className:"text-white/70 text-sm",children:"Адрес кошелька"}),(0,a.jsxs)("div",{className:"flex items-center bg-white/10 rounded-md p-2 mt-1",children:[(0,a.jsx)("code",{className:"text-white text-xs md:text-sm flex-1 font-mono break-all",children:eh[ee]}),(0,a.jsx)(d.z,{type:"button",size:"icon",variant:"ghost",className:"text-white/70 hover:text-white hover:bg-white/10",onClick:()=>eg(eh[ee]),children:(0,a.jsx)(F.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{className:"text-white/70 text-sm",children:"Сумма к оплате"}),(0,a.jsxs)("div",{className:"flex items-center bg-white/10 rounded-md p-2 mt-1",children:[(0,a.jsxs)("code",{className:"text-white text-sm flex-1 font-mono",children:[el.toFixed(2)," USDT"]}),(0,a.jsx)(d.z,{type:"button",size:"icon",variant:"ghost",className:"text-white/70 hover:text-white hover:bg-white/10",onClick:()=>eg(el.toFixed(2)),children:(0,a.jsx)(F.Z,{className:"h-4 w-4"})})]})]})]})]})}),(0,a.jsxs)(m.bZ,{className:"bg-red-500/20 border-red-500/30 text-red-200",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4"}),(0,a.jsx)(m.Cd,{children:"Важно!"}),(0,a.jsx)(m.X,{children:"Отправляйте USDT только в выбранной сети (TRC-20 или TON). Отправка в другой сети может привести к потере средств. Обязательно укажите точную сумму для быстрой обработки платежа."})]})]}),(0,a.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-white/70",children:"Сумма:"}),(0,a.jsxs)("span",{className:"text-white",children:["$",Number.parseFloat(G).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-white/70",children:"Комиссия:"}),(0,a.jsxs)("span",{className:"text-white",children:["$",et.toFixed(2)]})]}),(0,a.jsx)(b.Z,{className:"my-2 bg-white/10"}),(0,a.jsxs)("div",{className:"flex justify-between items-center font-medium",children:[(0,a.jsx)("span",{className:"text-white",children:"Итого к оплате:"}),(0,a.jsxs)("span",{className:"text-white",children:["$",el.toFixed(2)]})]})]})]}),3===z&&!V&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(c.g,{method:T,amount:Number.parseFloat(G),type:"deposit"}),(0,a.jsxs)("div",{className:"space-y-4 bg-white/5 rounded-lg p-6 border border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-500/20 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-blue-400 text-lg",children:"\uD83D\uDCC4"})}),(0,a.jsx)(x._,{className:"text-white font-semibold text-lg",children:"Загрузите чек об оплате"})]}),(0,a.jsx)("p",{className:"text-white/70 text-sm",children:"crypto"===T?"Загрузите скриншот транзакции (JPG, JPEG, PNG, макс. 5 МБ)":"Загрузите чек об оплате (PDF, JPG, JPEG, PNG, макс. 5 МБ)"}),(0,a.jsx)(o.I,{type:"file",accept:"crypto"===T?"image/jpeg,image/jpg,image/png":"application/pdf,image/jpeg,image/jpg,image/png",onChange:e=>{var s;let t=null===(s=e.target.files)||void 0===s?void 0:s[0];if(!t)return;if(t.size>5242880){g.Am.error("Файл слишком большой (макс. 5 МБ)");return}if(!("crypto"===T?["image/jpeg","image/jpg","image/png"]:["application/pdf","image/jpeg","image/jpg","image/png"]).includes(t.type)){let e="crypto"===T?"JPG, JPEG, PNG":"PDF, JPG, JPEG, PNG";g.Am.error("Неверный формат файла. Ожидается: ".concat(e));return}let a=new FileReader;a.onloadend=()=>{ed(a.result),ec(t),g.Am.success("Файл загружен")},a.readAsDataURL(t)},className:"bg-white/10 border-white/20 text-white file:bg-blue-500/20 file:text-white file:border-0 file:mr-4 file:py-2 file:px-4 file:rounded-md hover:file:bg-blue-500/30 cursor-pointer"}),ei&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-green-500/20 border border-green-500/30 rounded-lg",children:[(0,a.jsx)(S.Z,{className:"h-5 w-5 text-green-400"}),(0,a.jsxs)("span",{className:"text-green-200 text-sm flex-1",children:["Файл загружен: ",ei.name]}),(0,a.jsx)(d.z,{type:"button",size:"sm",variant:"ghost",onClick:()=>{ec(null),ed("")},className:"text-red-400 hover:text-red-300 hover:bg-red-500/20",children:"Удалить"})]})]}),"crypto"===T&&(0,a.jsxs)("div",{className:"space-y-4 bg-white/5 rounded-lg p-6 border border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-purple-500/20 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-purple-400 text-lg",children:"\uD83D\uDD17"})}),(0,a.jsx)(x._,{className:"text-white font-semibold text-lg",children:"Адрес транзакции (Transaction Hash)"})]}),(0,a.jsx)("p",{className:"text-white/70 text-sm mb-2",children:"Укажите хеш транзакции для быстрой проверки платежа"}),(0,a.jsx)(o.I,{value:eo,onChange:e=>ex(e.target.value),placeholder:"0x1234567890abcdef... или TYN5CrEMj4hJcGpZHRq1...",className:"bg-white/10 border-white/20 text-white font-mono placeholder:text-white/50"})]}),(0,a.jsxs)(m.bZ,{className:"bg-yellow-500/20 border-yellow-500/30 text-yellow-200",children:[(0,a.jsx)(y.Z,{className:"h-4 w-4"}),(0,a.jsx)(m.Cd,{children:"Важно"}),(0,a.jsx)(m.X,{children:"Загрузка чека ускорит обработку вашей заявки. Администратор сможет быстрее подтвердить платеж."})]})]}),3===z&&V&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(S.Z,{className:"h-10 w-10 text-green-400"})}),(0,a.jsx)("h3",{className:"text-white text-xl font-medium mb-2",children:"Заявка на пополнение создана"}),(0,a.jsx)("p",{className:"text-white/70 mb-4",children:"Ваша заявка на пополнение счета успешно создана и находится в обработке"}),(0,a.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 max-w-xs mx-auto mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-white/70",children:"ID транзакции:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:R})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-white/70",children:"Статус:"}),(0,a.jsx)(u.C,{className:"bg-yellow-500/30 text-yellow-200",children:"В обработке"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-white/70",children:"Сумма:"}),(0,a.jsxs)("span",{className:"text-white",children:["$",Number.parseFloat(G).toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-white/70 text-sm",children:[(0,a.jsx)(_.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Ожидаемое время обработки: 5-30 минут"})]})]}),(0,a.jsxs)(m.bZ,{className:"bg-blue-500/20 border-blue-500/30 text-blue-200",children:[(0,a.jsx)(y.Z,{className:"h-4 w-4"}),(0,a.jsx)(m.Cd,{children:"Что дальше?"}),(0,a.jsx)(m.X,{children:'Вы можете отслеживать статус вашего платежа в разделе "Транзакции". Как только платеж будет обработан, средства будут зачислены на ваш счет.'})]})]})]}),(0,a.jsxs)(n.eW,{className:"flex justify-between border-t border-white/10 bg-white/5",children:[z>1&&!V&&(0,a.jsx)(d.z,{type:"button",variant:"outline",onClick:()=>P(z-1),className:"border-white/20 text-white hover:bg-white/10",children:"Назад"}),V?(0,a.jsxs)(d.z,{type:"button",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 ml-auto",onClick:()=>{P(1),E(null),I(""),Y(""),B(""),L(""),q(""),K(""),es("trc20"),M(!1),O(""),ec(null),ed(""),ex("")},children:[(0,a.jsx)(k.Z,{className:"h-4 w-4 mr-2"}),"Новый платеж"]}):(0,a.jsx)(d.z,{type:"button",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 ".concat(1===z?"w-full":"ml-auto"),onClick:()=>{if(1===z){if(!T){g.Am.error("Выберите способ оплаты");return}if(!G||0>=Number.parseFloat(G)){g.Am.error("Введите корректную сумму");return}P(2)}else if(2===z){if("card"===T){if(16!==X.replace(/\s/g,"").length){g.Am.error("Введите корректный номер карты");return}if(5!==$.length){g.Am.error("Введите корректный срок действия карты");return}if(3!==H.length){g.Am.error("Введите корректный CVV код");return}if(!W){g.Am.error("Введите имя владельца карты");return}}else if("sbp"===T&&11!==Q.replace(/\D/g,"").length){g.Am.error("Введите корректный номер телефона");return}P(3)}else 3===z&&ep()},disabled:J,children:J?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Обработка..."]}):(0,a.jsxs)(a.Fragment,{children:[z<3?"Продолжить":"Подтвердить",(0,a.jsx)(D.Z,{className:"h-4 w-4 ml-2"})]})})]})]})]})})]})]}):null}}},function(e){e.O(0,[9203,3513,282,2696,8239,4438,9390,8391,6210,7268,1133,8631,2858,2971,2117,1744],function(){return e(e.s=41801)}),_N_E=e.O()}]);