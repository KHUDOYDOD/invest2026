"use strict";(()=>{var e={};e.id=7788,e.ids=[7788],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8678:e=>{e.exports=import("pg")},76849:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{originalPathname:()=>_,patchFetch:()=>p,requestAsyncStorage:()=>g,routeModule:()=>c,serverHooks:()=>d,staticGenerationAsyncStorage:()=>l});var n=s(73278),a=s(45002),i=s(54877),o=s(98851),u=e([o]);o=(u.then?(await u)():u)[0];let c=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/settings/site/route",pathname:"/api/settings/site",filename:"route",bundlePath:"app/api/settings/site/route"},resolvedPagePath:"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\api\\settings\\site\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:g,staticGenerationAsyncStorage:l,serverHooks:d}=c,_="/api/settings/site/route";function p(){return(0,i.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:l})}r()}catch(e){r(e)}})},98851:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{GET:()=>o,PUT:()=>u});var n=s(71309),a=s(44819),i=e([a]);async function o(){try{let e=await (0,a.I)(`SELECT setting_key, setting_value, setting_type 
       FROM site_settings 
       WHERE category = 'general'`),t={};return e.rows.forEach(e=>{let s=e.setting_key,r=e.setting_value;"boolean"===e.setting_type?r="true"===r:"number"===e.setting_type&&(r=parseFloat(r)),t[s]=r}),n.NextResponse.json(t)}catch(e){return console.error("Error fetching site settings:",e),n.NextResponse.json({error:"Failed to fetch settings"},{status:500})}}async function u(e){try{let t=await e.json();for(let[e,s]of Object.entries(t)){let t=e.replace(/([A-Z])/g,"_$1").toLowerCase(),r=String(s);await (0,a.I)(`INSERT INTO site_settings (setting_key, setting_value, category, updated_at)
         VALUES ($1, $2, 'general', CURRENT_TIMESTAMP)
         ON CONFLICT (setting_key) 
         DO UPDATE SET setting_value = $2, updated_at = CURRENT_TIMESTAMP`,[t,r])}return n.NextResponse.json({success:!0,message:"Settings updated"})}catch(e){return console.error("Error updating site settings:",e),n.NextResponse.json({error:"Failed to update settings"},{status:500})}}a=(i.then?(await i)():i)[0],r()}catch(e){r(e)}})},44819:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.d(t,{I:()=>i});var n=s(8678),a=e([n]);n=(a.then?(await a)():a)[0];let o=process.env.POSTGRES_URL_NON_POOLING||process.env.DATABASE_URL||process.env.POSTGRES_URL;if(!o)throw Error("DATABASE_URL, POSTGRES_URL, or POSTGRES_URL_NON_POOLING must be set. Did you forget to provision a database?");let u=new n.Pool({connectionString:o,ssl:!!o?.includes("sslmode=require")&&{rejectUnauthorized:!1}});async function i(e,t){let s=await u.connect();try{return await s.query(e,t)}finally{s.release()}}r()}catch(e){r(e)}})}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[7787,4833],()=>s(76849));module.exports=r})();