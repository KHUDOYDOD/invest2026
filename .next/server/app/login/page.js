(()=>{var e={};e.id=2626,e.ids=[2626],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},34102:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),a(22454),a(93678),a(90996);var s=a(30170),r=a(45002),l=a(83876),i=a.n(l),o=a(66299),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);a.d(t,n);let d=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,22454)),"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,93678)),"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,90996,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\login\\page.tsx"],u="/login/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},90209:(e,t,a)=>{Promise.resolve().then(a.bind(a,12838))},12838:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var s=a(97247),r=a(28964),l=a(34178),i=a(79906),o=a(58053),n=a(70170),d=a(22394),c=a(27757),u=a(2502),m=a(59568),x=a(15606),p=a(97792),f=a(20290),h=a(62752),g=a(58406),b=a(70457),v=a(8749),y=a(75518),w=a(17818);function j(){let e=(0,l.useRouter)(),[t,a]=(0,r.useState)({email:"",password:""}),[j,N]=(0,r.useState)(!1),[k,D]=(0,r.useState)(!1),[Z,C]=(0,r.useState)(null),[S,I]=(0,r.useState)(null),z=e=>{let{name:t,value:s}=e.target;a(e=>({...e,[t]:s})),Z&&C(null),S&&I(null)},_=async a=>{a.preventDefault(),N(!0),C(null),I(null);try{console.log("\uD83D\uDD10 Attempting login with:",t.email);let a=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email.trim(),password:t.password})}),s=await a.json();if(console.log("\uD83D\uDCE5 Login response:",s),!a.ok||!s.success){if(s.field){let e=document.getElementById(s.field);e&&(e.focus(),e.classList.add("border-red-400"),setTimeout(()=>{e.classList.remove("border-red-400")},3e3))}throw Error(s.error||"Ошибка входа")}I("✅ Вход выполнен успешно! Сейчас перенаправляем в личный кабинет..."),w.Am.success("✅ Добро пожаловать! Перенаправление в личный кабинет...",{duration:3e3,style:{background:"#10b981",color:"#fff",fontSize:"16px",fontWeight:"bold"}}),s.user&&(localStorage.setItem("user",JSON.stringify(s.user)),localStorage.setItem("userEmail",s.user.email),localStorage.setItem("userName",s.user.fullName),localStorage.setItem("userId",s.user.id),localStorage.setItem("userRole",s.user.role||"user"),localStorage.setItem("isAuthenticated","true"),s.token&&(localStorage.setItem("auth-token",s.token),localStorage.setItem("authToken",s.token)),(s.user.isAdmin||"admin"===s.user.role)&&(localStorage.setItem("adminAuth","true"),localStorage.setItem("adminUser",JSON.stringify(s.user)))),setTimeout(()=>{let t=s.redirect||"/dashboard";e.push(t),e.refresh()},1500)}catch(t){console.error("❌ Login error:",t);let e=t.message||"Произошла ошибка при входе. Проверьте данные и попробуйте еще раз.";C(e),w.Am.error(`❌ ${e}`,{duration:4e3,style:{background:"#ef4444",color:"#fff",fontSize:"16px"}})}finally{N(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-cyan-950 flex flex-col relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-r from-blue-600/30 to-cyan-600/30 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-gradient-to-r from-emerald-600/30 to-teal-600/30 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/2 right-1/3 w-[500px] h-[500px] bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),s.jsx("div",{className:"absolute top-20 left-20 w-2 h-2 bg-blue-400 rounded-full animate-ping"}),s.jsx("div",{className:"absolute top-40 right-40 w-2 h-2 bg-cyan-400 rounded-full animate-ping",style:{animationDelay:"0.5s"}}),s.jsx("div",{className:"absolute bottom-20 left-40 w-2 h-2 bg-green-400 rounded-full animate-ping",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute bottom-40 right-20 w-2 h-2 bg-purple-400 rounded-full animate-ping",style:{animationDelay:"1.5s"}})]}),s.jsx(m.Header,{}),s.jsx("main",{className:"flex-grow flex items-center justify-center py-12 px-4 relative z-10",children:(0,s.jsxs)(c.Zb,{className:"w-full max-w-lg relative z-10 bg-gradient-to-br from-slate-900/90 via-slate-800/90 to-slate-900/90 backdrop-blur-xl border-2 border-blue-500/30 shadow-2xl shadow-blue-500/20 rounded-3xl",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 via-cyan-600/10 to-emerald-600/10 rounded-3xl animate-pulse pointer-events-none"}),(0,s.jsxs)(c.Ol,{className:"space-y-6 text-center pb-8 pt-8 relative z-10",children:[(0,s.jsxs)("div",{className:"mx-auto w-24 h-24 bg-gradient-to-br from-blue-500 via-cyan-500 to-emerald-500 rounded-full flex items-center justify-center shadow-2xl shadow-blue-500/50 animate-pulse relative group",children:[s.jsx(p.Z,{className:"w-12 h-12 text-white relative z-10"}),s.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-full animate-pulse"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx(c.ll,{className:"text-4xl font-black bg-gradient-to-r from-cyan-400 via-blue-400 to-emerald-400 bg-clip-text text-transparent",children:"\uD83D\uDD10 Добро пожаловать!"}),s.jsx(c.SZ,{className:"text-white/90 text-xl font-bold",children:"Войдите в свой личный кабинет"})]})]}),(0,s.jsxs)(c.aY,{className:"space-y-8 px-8 relative z-20",children:[Z&&(0,s.jsxs)(u.bZ,{variant:"destructive",className:"border-red-400/50 bg-red-500/20 backdrop-blur-sm relative z-20",children:[s.jsx(f.Z,{className:"h-5 w-5 text-red-400"}),s.jsx(u.X,{className:"text-red-300 font-medium",children:Z})]}),S&&(0,s.jsxs)(u.bZ,{className:"border-green-400/50 bg-green-500/20 backdrop-blur-sm relative z-20",children:[s.jsx(h.Z,{className:"h-5 w-5 text-green-400"}),s.jsx(u.X,{className:"text-green-300 font-medium",children:S})]}),(0,s.jsxs)("form",{onSubmit:_,className:"space-y-8 relative z-20",children:[(0,s.jsxs)("div",{className:"space-y-3 relative z-20",children:[s.jsx(d._,{htmlFor:"email",className:"text-white font-medium text-base",children:"Email или логин"}),s.jsx(n.I,{id:"email",name:"email",type:"text",placeholder:"example@domain.com или ваш логин",value:t.email,onChange:z,required:!0,disabled:j,className:"h-12 text-base bg-white/10 border-white/20 text-white placeholder:text-white/50 rounded-xl transition-all duration-300 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/50 relative z-20",autoComplete:"email",style:{pointerEvents:"auto"}})]}),(0,s.jsxs)("div",{className:"space-y-3 relative z-20",children:[s.jsx(d._,{htmlFor:"password",className:"text-white font-medium text-base",children:"Пароль"}),(0,s.jsxs)("div",{className:"relative z-20",children:[s.jsx(n.I,{id:"password",name:"password",type:k?"text":"password",placeholder:"Введите ваш пароль",value:t.password,onChange:z,required:!0,disabled:j,className:"h-12 text-base pr-12 bg-white/10 border-white/20 text-white placeholder:text-white/50 rounded-xl transition-all duration-300 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/50 relative z-20",autoComplete:"current-password",style:{pointerEvents:"auto"}}),s.jsx("button",{type:"button",className:"absolute right-3 top-3 text-white/50 hover:text-white transition-colors z-30",onClick:()=>D(!k),disabled:j,style:{pointerEvents:"auto"},children:k?s.jsx(g.Z,{className:"h-5 w-5"}):s.jsx(b.Z,{className:"h-5 w-5"})})]})]}),(0,s.jsxs)(o.z,{type:"submit",className:"w-full h-14 text-lg font-black bg-gradient-to-r from-blue-600 via-cyan-600 to-emerald-600 hover:from-blue-700 hover:via-cyan-700 hover:to-emerald-700 text-white border-2 border-white/20 rounded-xl shadow-2xl shadow-blue-500/30 hover:shadow-2xl hover:shadow-cyan-500/40 transform hover:scale-105 transition-all duration-300 relative overflow-hidden group",disabled:j||!t.email.trim()||!t.password,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"}),s.jsx("span",{className:"relative z-10 flex items-center justify-center",children:j?(0,s.jsxs)(s.Fragment,{children:[s.jsx(v.Z,{className:"mr-3 h-6 w-6 animate-spin"}),"Выполняется вход..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(y.Z,{className:"mr-3 h-6 w-6"}),"\uD83D\uDE80 Войти в аккаунт"]})})]})]}),s.jsx("div",{className:"text-center pt-4",children:s.jsx(i.default,{href:"/register",className:"text-blue-400 hover:text-blue-300 font-semibold hover:underline transition-all duration-200 text-sm",children:"Забыли пароль? Восстановить доступ"})})]}),s.jsx(c.eW,{className:"flex flex-col space-y-6 pt-6 pb-8 px-8",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("span",{className:"text-white/70 text-sm",children:"Нет аккаунта? "}),s.jsx(i.default,{href:"/register",className:"text-blue-400 hover:text-blue-300 font-semibold hover:underline transition-colors duration-200 text-sm",children:"Создать бесплатный аккаунт"})]})})]})}),s.jsx(x.Footer,{})]})}},2502:(e,t,a)=>{"use strict";a.d(t,{Cd:()=>d,X:()=>c,bZ:()=>n});var s=a(97247),r=a(28964),l=a(87972),i=a(25008);let o=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),n=r.forwardRef(({className:e,variant:t,...a},r)=>s.jsx("div",{ref:r,role:"alert",className:(0,i.cn)(o({variant:t}),e),...a}));n.displayName="Alert";let d=r.forwardRef(({className:e,...t},a)=>s.jsx("h5",{ref:a,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));d.displayName="AlertTitle";let c=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",e),...t}));c.displayName="AlertDescription"},27757:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>o,SZ:()=>d,Zb:()=>i,aY:()=>c,eW:()=>u,ll:()=>n});var s=a(97247),r=a(28964),l=a(25008);let i=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let o=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let n=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));n.displayName="CardTitle";let d=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,l.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},22394:(e,t,a)=>{"use strict";a.d(t,{_:()=>d});var s=a(97247),r=a(28964),l=a(40768),i=a(87972),o=a(25008);let n=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef(({className:e,...t},a)=>s.jsx(l.f,{ref:a,className:(0,o.cn)(n(),e),...t}));d.displayName=l.f.displayName},20290:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(26323).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},62752:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(26323).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},58406:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(26323).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},70457:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(26323).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8749:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(26323).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},75518:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(26323).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},22454:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(45347).createProxy)(String.raw`C:\Users\x4539\Downloads\Invest2025-main\Invest2025-main\app\login\page.tsx#default`)},40768:(e,t,a)=>{"use strict";a.d(t,{f:()=>o});var s=a(28964),r=a(22251),l=a(97247),i=s.forwardRef((e,t)=>(0,l.jsx)(r.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[7787,4947,3514,4719,7818,9498,8154],()=>a(34102));module.exports=s})();