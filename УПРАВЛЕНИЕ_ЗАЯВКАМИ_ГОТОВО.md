# ‚úÖ –£–ü–†–ê–í–õ–ï–ù–ò–ï –ó–ê–Ø–í–ö–ê–ú–ò - –ì–û–¢–û–í–û!

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –°–æ–∑–¥–∞–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚úÖ
–°–æ–∑–¥–∞–Ω—ã –¥–≤–µ —Ç–∞–±–ª–∏—Ü—ã:
- **deposit_requests** - –∑–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
- **withdrawal_requests** - –∑–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤

### 2. –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã API endpoints ‚úÖ
- `GET /api/deposit-requests` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
- `GET /api/withdrawal-requests` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥
- `PUT /api/admin/deposit-requests/[id]` - –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
- `PUT /api/admin/withdrawal-requests/[id]` - –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –≤—ã–≤–æ–¥

### 3. –£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ ‚úÖ
- –ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏
- –£–¥–æ–±–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∑–∞—è–≤–æ–∫
- –°—á–µ—Ç—á–∏–∫–∏ –æ–∂–∏–¥–∞—é—â–∏—Ö –∑–∞—è–≤–æ–∫
- –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É (–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ/–≤—ã–≤–æ–¥)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü

### deposit_requests
```sql
- id (SERIAL PRIMARY KEY)
- user_id (INTEGER) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- amount (DECIMAL) - —Å—É–º–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è
- method (VARCHAR) - —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã
- payment_details (JSONB) - –¥–µ—Ç–∞–ª–∏ –ø–ª–∞—Ç–µ–∂–∞
- status (VARCHAR) - —Å—Ç–∞—Ç—É—Å: pending, approved, rejected
- admin_comment (TEXT) - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞–¥–º–∏–Ω–∞
- created_at (TIMESTAMP) - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- processed_at (TIMESTAMP) - –¥–∞—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
```

### withdrawal_requests
```sql
- id (SERIAL PRIMARY KEY)
- user_id (INTEGER) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- amount (DECIMAL) - —Å—É–º–º–∞ –≤—ã–≤–æ–¥–∞
- method (VARCHAR) - —Å–ø–æ—Å–æ–± –≤—ã–≤–æ–¥–∞
- wallet_address (TEXT) - –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞
- fee (DECIMAL) - –∫–æ–º–∏—Å—Å–∏—è
- final_amount (DECIMAL) - —Å—É–º–º–∞ –∫ –≤—ã–ø–ª–∞—Ç–µ
- status (VARCHAR) - —Å—Ç–∞—Ç—É—Å: pending, completed, rejected
- admin_comment (TEXT) - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞–¥–º–∏–Ω–∞
- created_at (TIMESTAMP) - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- processed_at (TIMESTAMP) - –¥–∞—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
```

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã
```bash
node check-requests-tables.js
```

### 2. –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```bash
node setup-requests-tables.js
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
```bash
npm run dev
```

### 4. –û—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
```
http://localhost:3000/admin/requests
```

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫
- ‚úÖ –í—Å–µ –∑–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
- ‚úÖ –í—Å–µ –∑–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- ‚úÖ –°—É–º–º–∞ –∏ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã
- ‚úÖ –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—è–≤–æ–∫ –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
1. –ù–∞–∂–º–∏—Ç–µ **"–û–¥–æ–±—Ä–∏—Ç—å"**
   - –°—Ä–µ–¥—Å—Ç–≤–∞ –∑–∞—á–∏—Å–ª—è—é—Ç—Å—è –Ω–∞ –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –°–æ–∑–¥–∞–µ—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤ –∏—Å—Ç–æ—Ä–∏–∏
   - –°—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "approved"

2. –ù–∞–∂–º–∏—Ç–µ **"–û—Ç–∫–ª–æ–Ω–∏—Ç—å"**
   - –í–≤–µ–¥–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
   - –°—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "rejected"
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø—Ä–∏—á–∏–Ω—É

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—è–≤–æ–∫ –Ω–∞ –≤—ã–≤–æ–¥
1. –ù–∞–∂–º–∏—Ç–µ **"–û–¥–æ–±—Ä–∏—Ç—å"**
   - –°–æ–∑–¥–∞–µ—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤ –∏—Å—Ç–æ—Ä–∏–∏
   - –°—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "completed"
   - –°—Ä–µ–¥—Å—Ç–≤–∞ —É–∂–µ —Å–ø–∏—Å–∞–Ω—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏

2. –ù–∞–∂–º–∏—Ç–µ **"–û—Ç–∫–ª–æ–Ω–∏—Ç—å"**
   - –í–≤–µ–¥–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
   - –°—Ä–µ–¥—Å—Ç–≤–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –Ω–∞ –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –°–æ–∑–¥–∞–µ—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞
   - –°—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "rejected"

## –°—Ç–∞—Ç—É—Å—ã –∑–∞—è–≤–æ–∫

### –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
- üü° **pending** - –æ–∂–∏–¥–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏
- üü¢ **approved** - –æ–¥–æ–±—Ä–µ–Ω–æ, —Å—Ä–µ–¥—Å—Ç–≤–∞ –∑–∞—á–∏—Å–ª–µ–Ω—ã
- üî¥ **rejected** - –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ

### –í—ã–≤–æ–¥
- üü° **pending** - –æ–∂–∏–¥–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏
- üü¢ **completed** - –≤—ã–ø–æ–ª–Ω–µ–Ω–æ, —Å—Ä–µ–¥—Å—Ç–≤–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã
- üî¥ **rejected** - –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ, —Å—Ä–µ–¥—Å—Ç–≤–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
–ü—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞—è–≤–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:
- ‚úÖ "–ó–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–¥–æ–±—Ä–µ–Ω"
- ‚úÖ "–ó–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã–≤–æ–¥ –æ–¥–æ–±—Ä–µ–Ω"
- ‚ùå "–ó–∞–ø—Ä–æ—Å –æ—Ç–∫–ª–æ–Ω–µ–Ω"

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚úÖ –ó–∞—è–≤–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ –ó–∞—è–≤–∫–∞ –≤ —Å—Ç–∞—Ç—É—Å–µ "pending"
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

### –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏ –≤—ã–≤–æ–¥–∞
- ‚úÖ –ó–∞—è–≤–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ –ó–∞—è–≤–∫–∞ –≤ —Å—Ç–∞—Ç—É—Å–µ "pending"
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

### –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏
- ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
- ‚úÖ –í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ –ø—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ –≤—ã–≤–æ–¥–∞

## –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `setup-requests-tables.js` —Å–æ–∑–¥–∞—é—Ç—Å—è:
- 1 —Ç–µ—Å—Ç–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ ($500)
- 1 —Ç–µ—Å—Ç–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ –≤—ã–≤–æ–¥ ($200)

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏

### –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
–ü—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞—è–≤–æ–∫ —Å–æ–∑–¥–∞—é—Ç—Å—è –∑–∞–ø–∏—Å–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ `transactions`:
- –¢–∏–ø: deposit, withdrawal, refund
- –°—Ç–∞—Ç—É—Å: completed
- –û–ø–∏—Å–∞–Ω–∏–µ: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è

### –ë–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏:
- –û–¥–æ–±—Ä–µ–Ω–∏–∏ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è (+)
- –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ –≤—ã–≤–æ–¥–∞ (+)

## –î–∏–∑–∞–π–Ω

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
- **–ü–æ–ø–æ–ª–Ω–µ–Ω–∏—è**: –∑–µ–ª–µ–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç (green ‚Üí emerald)
- **–í—ã–≤–æ–¥—ã**: –∫—Ä–∞—Å–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç (red ‚Üí pink)
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫**: —Å–∏–Ω–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç (blue ‚Üí purple)

### –≠–ª–µ–º–µ–Ω—Ç—ã
- üí∞ –ò–∫–æ–Ω–∫–∏ –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–π
- üí∏ –ò–∫–æ–Ω–∫–∏ –¥–ª—è –≤—ã–≤–æ–¥–æ–≤
- üìÖ –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è
- üë§ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∞–¥–º–∏–Ω–∞

## –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã
node check-requests-tables.js

# –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã
node setup-requests-tables.js

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
node check-investment-plans-structure.js
```

## API –ü—Ä–∏–º–µ—Ä—ã

### –ü–æ–ª—É—á–∏—Ç—å –∑–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
```javascript
fetch('/api/deposit-requests')
  .then(res => res.json())
  .then(data => console.log(data))
```

### –û–¥–æ–±—Ä–∏—Ç—å –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
```javascript
fetch('/api/admin/deposit-requests/123', {
  method: 'PUT',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ status: 'approved' })
})
```

### –û—Ç–∫–ª–æ–Ω–∏—Ç—å –≤—ã–≤–æ–¥
```javascript
fetch('/api/admin/withdrawal-requests/456', {
  method: 'PUT',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ 
    status: 'rejected',
    admin_comment: '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤'
  })
})
```

## –ì–æ—Ç–æ–≤–æ! üéâ

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å:
- ‚úÖ –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∞–º–∏
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π –∏ —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–ª–∞–Ω—Å–æ–º –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—è–≤–æ–∫
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000/admin/requests –∏ –Ω–∞—á–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å! üöÄ
