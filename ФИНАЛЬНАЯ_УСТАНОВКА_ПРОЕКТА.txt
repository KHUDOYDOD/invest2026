========================================
üöÄ –§–ò–ù–ê–õ–¨–ù–ê–Ø –£–°–¢–ê–ù–û–í–ö–ê INVEST2026
========================================

–°–µ—Ä–≤–µ—Ä: 213.171.31.215
–ü—Ä–æ–µ–∫—Ç: https://github.com/KHUDOYDOD/invest2026.git
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: Neon PostgreSQL

–í–´–ü–û–õ–ù–ò–¢–ï –í –í–ï–ë-–ö–û–ù–°–û–õ–ò:

1. –û–ë–ù–û–í–õ–ï–ù–ò–ï –°–ò–°–¢–ï–ú–´:
apt update && apt upgrade -y

2. –£–°–¢–ê–ù–û–í–ö–ê NODE.JS 20:
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
apt-get install -y nodejs

3. –£–°–¢–ê–ù–û–í–ö–ê PM2 –ò GIT:
npm install -g pm2
apt-get install -y git

4. –ö–õ–û–ù–ò–†–û–í–ê–ù–ò–ï –ü–†–û–ï–ö–¢–ê:
cd /root
rm -rf invest2026
git clone https://github.com/KHUDOYDOD/invest2026.git
cd invest2026

5. –£–°–¢–ê–ù–û–í–ö–ê –ó–ê–í–ò–°–ò–ú–û–°–¢–ï–ô:
npm install

6. –°–û–ó–î–ê–ù–ò–ï .ENV.PRODUCTION:
cat > .env.production << 'EOF'
DATABASE_URL=postgresql://neondb_owner:npg_w5yC0HdchuEB@ep-bold-grass-abge4ccn-pooler.eu-west-2.aws.neon.tech/neondb?sslmode=require&channel_binding=require
NEXTAUTH_SECRET=your-secret-key-here-change-this-in-production-2026-invest
NEXTAUTH_URL=http://213.171.31.215
JWT_SECRET=your-jwt-secret-key-here-change-this-in-production-2026-invest
NODE_ENV=production
PORT=3000
EOF

7. –°–ë–û–†–ö–ê –ü–†–û–ï–ö–¢–ê:
npm run build

8. –ù–ê–°–¢–†–û–ô–ö–ê NGINX –î–õ–Ø NEXT.JS:
cat > /etc/nginx/sites-available/default << 'EOF'
server {
    listen 80;
    server_name 213.171.31.215;
    
    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
        proxy_read_timeout 86400;
        
        # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–æ–≤
        proxy_buffer_size 128k;
        proxy_buffers 4 256k;
        proxy_busy_buffers_size 256k;
    }
}
EOF

9. –¢–ï–°–¢ NGINX –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò:
nginx -t

10. –ü–ï–†–ï–ó–ê–ü–£–°–ö NGINX:
systemctl restart nginx
systemctl enable nginx

11. –û–°–¢–ê–ù–û–í–ö–ê –°–¢–ê–†–´–• –ü–†–û–¶–ï–°–°–û–í:
pm2 delete all 2>/dev/null || true

12. –ó–ê–ü–£–°–ö –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø:
cd /root/invest2026
NODE_OPTIONS='--max-old-space-size=1024' pm2 start npm --name invest2026 --max-memory-restart 1000M -- start

13. –ù–ê–°–¢–†–û–ô–ö–ê –ê–í–¢–û–ó–ê–ü–£–°–ö–ê:
pm2 startup
pm2 save

14. –ü–†–û–í–ï–†–ö–ê –°–¢–ê–¢–£–°–ê:
pm2 status
systemctl status nginx

========================================
‚úÖ –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–´:
========================================

1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
curl http://localhost:3000
curl http://localhost

2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:
pm2 logs invest2026
tail -f /var/log/nginx/error.log

========================================
üåê –î–û–°–¢–£–ü –ö –°–ê–ô–¢–£:
========================================

–ì–ª–∞–≤–Ω–∞—è: http://213.171.31.215
–ê–¥–º–∏–Ω–∫–∞: http://213.171.31.215/admin/dashboard

–î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω–∫—É:
–õ–æ–≥–∏–Ω: admin
–ü–∞—Ä–æ–ª—å: X11021997x

========================================
üîß –ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´:
========================================

–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
pm2 restart invest2026

–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
pm2 logs invest2026

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:
cd /root/invest2026
git pull origin main
npm install
npm run build
pm2 restart invest2026

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
pm2 status
systemctl status nginx