(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{43988:function(e,t,s){Promise.resolve().then(s.bind(s,85594))},85594:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return V}});var a=s(57437),r=s(2265),l=s(28033),i=s(37064),n=s(77661),o=s(62869),d=s(95186),c=s(26815),x=s(66070),m=s(74991),h=s(65613),u=s(35974),b=s(14438),p=s(88226),g=s(33388),f=s(24622),j=s(92934),v=s(91723),N=s(51817),w=s(95252),y=s(76858),D=s(78867),k=s(88906);let C=[{id:"card",name:"Банковская карта",description:"Visa, MasterCard, Мир",icon:(0,a.jsx)(p.Z,{className:"h-6 w-6"}),fee:"0%",time:"1-5 минут",popular:!0,gradient:"from-blue-500 to-indigo-600",bgGradient:"from-blue-500/10 to-indigo-600/10",details:{card_number:"4444 5555 6666 7777",holder_name:"IVAN PETROV",bank_name:"Сбербанк",instructions:"Переведите указанную сумму на карту. Средства зачислятся после подтверждения администратором."}},{id:"sbp",name:"Система быстрых платежей",description:"СБП Сбербанк",icon:(0,a.jsx)(g.Z,{className:"h-6 w-6"}),fee:"0%",time:"Мгновенно",popular:!0,gradient:"from-emerald-500 to-green-600",bgGradient:"from-emerald-500/10 to-green-600/10",details:{phone:"+7 922 123 45 67",bank_name:"Сбербанк",instructions:"Переведите через СБП на указанный номер телефона. Укажите в комментарии ваш email."}},{id:"usdt_trc20",name:"USDT TRC-20",description:"Tether USDT TRC-20",icon:(0,a.jsx)(f.Z,{className:"h-6 w-6"}),fee:"0%",time:"5-15 минут",popular:!1,gradient:"from-amber-500 to-orange-500",bgGradient:"from-amber-500/10 to-orange-500/10",details:{address:"TQn9Y2khEsLJW1ChVWFMSMeRDow5KcbLSE",network:"TRON (TRC-20)",currency:"USDT",instructions:"Отправьте USDT только в сети TRC-20! Отправка в другой сети приведет к потере средств."}}],E=[50,100,250,500,1e3,2500];function _(e){let{onDeposit:t}=e,[s,l]=(0,r.useState)(""),[i,n]=(0,r.useState)(null),[p,g]=(0,r.useState)(1),[f,_]=(0,r.useState)(!1),[Z,T]=(0,r.useState)(!1),S=e=>{l(e)},z=()=>{if(1===p&&(""===s||0>=Number(s))){b.Am.error("Пожалуйста, введите сумму пополнения");return}if(1===p&&50>Number(s)){b.Am.error("Минимальная сумма пополнения: $50");return}if(2===p&&!i){b.Am.error("Пожалуйста, выберите способ оплаты");return}p<3?g(p+1):I()},A=()=>{p>1&&g(p-1)},I=async()=>{if(""===s||0>=Number(s)){b.Am.error("Пожалуйста, введите корректную сумму");return}if(!i){b.Am.error("Пожалуйста, выберите способ оплаты");return}_(!0);try{var e,a,r,o;let d=C.find(e=>e.id===i);console.log("\uD83D\uDE80 Creating deposit request...");let c=localStorage.getItem("authToken");if(!c)throw Error("Не авторизован");let x=await fetch("/api/deposit-requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify({amount:Number(s),method:(null==d?void 0:d.name)||i,wallet_address:(null==d?void 0:null===(e=d.details)||void 0===e?void 0:e.address)||(null==d?void 0:null===(a=d.details)||void 0===a?void 0:a.card_number)||(null==d?void 0:null===(r=d.details)||void 0===r?void 0:r.phone)||"",network:(null==d?void 0:null===(o=d.details)||void 0===o?void 0:o.network)||"",payment_details:null==d?void 0:d.details})}),m=await x.json();if(!x.ok)throw Error(m.error||"Ошибка создания запроса");console.log("✅ Deposit request created:",m),T(!0),b.Am.success("Заявка на пополнение $".concat(s," создана!"),{description:"Ожидает подтверждения администратора"}),t&&t(Number(s),(null==d?void 0:d.name)||i,null==d?void 0:d.details),setTimeout(()=>{l(""),n(null),g(1),T(!1)},3e3)}catch(e){console.error("❌ Deposit error:",e),b.Am.error(e instanceof Error?e.message:"Произошла ошибка при обработке платежа")}finally{_(!1)}},R=e=>{navigator.clipboard.writeText(e),b.Am.success("Скопировано в буфер обмена")},M=()=>C.find(e=>e.id===i);return Z?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-10 text-center animate-fade-in",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mb-4 animate-scale-in",children:(0,a.jsx)(j.Z,{className:"h-8 w-8 text-green-400"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Заявка создана!"}),(0,a.jsxs)("p",{className:"text-blue-200 mb-4",children:["Заявка на пополнение на сумму $",s," отправлена на рассмотрение"]}),(0,a.jsxs)(h.bZ,{className:"bg-blue-500/20 border-blue-500/30 text-blue-200 mb-4",children:[(0,a.jsx)(v.Z,{className:"h-4 w-4"}),(0,a.jsx)(h.X,{children:"Средства будут зачислены на баланс после подтверждения администратором"})]})]}):f?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-10 text-center animate-fade-in",children:[(0,a.jsxs)("div",{className:"relative mb-6",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full border-4 border-blue-200/30 border-t-blue-500 animate-spin"}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)(N.Z,{className:"h-6 w-6 text-blue-400"})})]}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Создание заявки"}),(0,a.jsx)("p",{className:"text-blue-200 mb-6",children:"Пожалуйста, подождите..."})]}):(0,a.jsxs)(x.Zb,{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 border border-white/10 shadow-xl overflow-hidden backdrop-blur-sm",children:[(0,a.jsx)(x.Ol,{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border-b border-white/10",children:(0,a.jsxs)(x.ll,{className:"text-white flex items-center",children:[(0,a.jsx)(w.Z,{className:"h-5 w-5 mr-2 text-blue-400"}),"Пополнение счета"]})}),(0,a.jsx)(x.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex justify-between mb-6",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ".concat(p===e?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":p>e?"bg-green-500/20 text-green-400":"bg-white/10 text-white/50"),children:p>e?(0,a.jsx)(j.Z,{className:"h-5 w-5"}):e}),(0,a.jsx)("span",{className:"text-xs mt-2 transition-colors duration-300 ".concat(p===e?"text-white":p>e?"text-green-400":"text-white/50"),children:1===e?"Сумма":2===e?"Способ":"Подтверждение"})]},e))}),1===p&&(0,a.jsxs)("div",{className:"space-y-6 animate-slide-in",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{htmlFor:"amount",className:"text-white",children:"Сумма пополнения (USD)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(w.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/50"}),(0,a.jsx)(d.I,{id:"amount",type:"number",value:s,onChange:e=>{let t=e.target.value;if(""===t)l("");else{let e=Number.parseFloat(t);!isNaN(e)&&e>=0&&l(e)}},placeholder:"Введите сумму",min:"50",className:"pl-10 bg-white/10 border-white/20 text-white placeholder:text-white/50 focus:border-blue-400"})]}),(0,a.jsx)("p",{className:"text-white/60 text-sm",children:"Минимальная сумма: $50"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{className:"text-white",children:"Быстрый выбор"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:E.map(e=>(0,a.jsxs)(o.z,{type:"button",variant:"outline",onClick:()=>S(e),className:"border-white/20 transition-all duration-200 ".concat(s===e?"bg-gradient-to-r from-blue-500/30 to-purple-500/30 border-blue-400":"bg-white/5 hover:bg-white/10 text-white"),children:["$",e]},e))})]}),(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsxs)(o.z,{onClick:z,disabled:""===s||50>Number(s),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white transition-all duration-200",children:["Продолжить",(0,a.jsx)(y.Z,{className:"ml-2 h-4 w-4"})]})})]}),2===p&&(0,a.jsxs)("div",{className:"space-y-6 animate-slide-in",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{className:"text-white",children:"Выберите способ пополнения"}),(0,a.jsx)(m.E,{value:i||"",onValueChange:n,children:(0,a.jsx)("div",{className:"space-y-3",children:C.map(e=>(0,a.jsxs)("div",{className:"cursor-pointer rounded-lg border p-4 transition-all duration-200 hover:scale-[1.02] ".concat(i===e.id?"bg-gradient-to-br ".concat(e.bgGradient," border-blue-400"):"bg-white/5 border-white/20 hover:bg-white/10"),children:[(0,a.jsx)(m.m,{value:e.id,id:e.id,className:"sr-only"}),(0,a.jsx)(c._,{htmlFor:e.id,className:"cursor-pointer",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-full bg-gradient-to-r ".concat(e.gradient," text-white"),children:e.icon}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("h4",{className:"font-medium text-white",children:e.name}),e.popular&&(0,a.jsx)(u.C,{className:"ml-2 bg-green-500/20 text-green-300 border border-green-500/30 px-2 py-1 text-xs",children:"Популярно"})]}),(0,a.jsx)("p",{className:"text-sm text-white/70",children:e.description})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-sm text-white/70",children:["Комиссия: ",e.fee]}),(0,a.jsxs)("div",{className:"text-xs text-white/60",children:["Время: ",e.time]})]})]})})]},e.id))})})]}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,a.jsx)(o.z,{onClick:A,variant:"outline",className:"flex-1 border-white/20 text-white hover:bg-white/10",children:"Назад"}),(0,a.jsxs)(o.z,{onClick:z,disabled:!i,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:["Показать реквизиты",(0,a.jsx)(y.Z,{className:"ml-2 h-4 w-4"})]})]})]}),3===p&&i&&(0,a.jsx)("div",{className:"space-y-6 animate-slide-in",children:(()=>{let e=M();return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Реквизиты для пополнения"}),(0,a.jsx)(x.Zb,{className:"bg-white/10 border-white/20",children:(0,a.jsxs)(x.aY,{className:"p-6 space-y-4",children:["card"===e.id&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 p-4 rounded-lg text-white",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm opacity-80",children:"Номер карты"}),(0,a.jsx)(o.z,{size:"sm",variant:"ghost",onClick:()=>R(e.details.card_number),className:"text-white hover:bg-white/20",children:(0,a.jsx)(D.Z,{className:"h-4 w-4"})})]}),(0,a.jsx)("div",{className:"font-mono text-xl tracking-wider",children:e.details.card_number})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{className:"text-white/70",children:"Получатель"}),(0,a.jsx)("div",{className:"bg-white/10 p-3 rounded-lg",children:(0,a.jsx)("span",{className:"text-white font-medium",children:e.details.holder_name})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{className:"text-white/70",children:"Банк"}),(0,a.jsx)("div",{className:"bg-white/10 p-3 rounded-lg",children:(0,a.jsx)("span",{className:"text-white font-medium",children:e.details.bank_name})})]})]})]}),"sbp"===e.id&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-green-700 p-4 rounded-lg text-white",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm opacity-80",children:"Номер телефона"}),(0,a.jsx)(o.z,{size:"sm",variant:"ghost",onClick:()=>R(e.details.phone),className:"text-white hover:bg-white/20",children:(0,a.jsx)(D.Z,{className:"h-4 w-4"})})]}),(0,a.jsx)("div",{className:"font-mono text-xl",children:e.details.phone})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{className:"text-white/70",children:"Банк получателя"}),(0,a.jsx)("div",{className:"bg-white/10 p-3 rounded-lg",children:(0,a.jsx)("span",{className:"text-white font-medium",children:e.details.bank_name})})]})]}),"usdt_trc20"===e.id&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-orange-600 to-yellow-600 p-4 rounded-lg text-white",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm opacity-80",children:"Адрес кошелька"}),(0,a.jsx)(o.z,{size:"sm",variant:"ghost",onClick:()=>R(e.details.address),className:"text-white hover:bg-white/20",children:(0,a.jsx)(D.Z,{className:"h-4 w-4"})})]}),(0,a.jsx)("div",{className:"font-mono text-sm break-all",children:e.details.address})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{className:"text-white/70",children:"Сеть"}),(0,a.jsx)("div",{className:"bg-white/10 p-3 rounded-lg",children:(0,a.jsx)("span",{className:"text-white font-medium",children:e.details.network})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{className:"text-white/70",children:"Валюта"}),(0,a.jsx)("div",{className:"bg-white/10 p-3 rounded-lg",children:(0,a.jsx)("span",{className:"text-white font-medium",children:e.details.currency})})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-blue-500/20 p-4 rounded-lg border border-blue-500/30",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-blue-200",children:"Сумма к переводу"}),(0,a.jsx)(o.z,{size:"sm",variant:"ghost",onClick:()=>R(s.toString()),className:"text-blue-200 hover:bg-blue-500/20",children:(0,a.jsx)(D.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-white",children:["$",s]})]}),(0,a.jsxs)(h.bZ,{className:"bg-yellow-500/20 border-yellow-500/30 text-yellow-200",children:[(0,a.jsx)(k.Z,{className:"h-4 w-4"}),(0,a.jsxs)(h.X,{children:[(0,a.jsx)("strong",{children:"Важно:"})," ",e.details.instructions]})]})]})]})})]}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,a.jsx)(o.z,{onClick:A,variant:"outline",className:"flex-1 border-white/20 text-white hover:bg-white/10",children:"Назад"}),(0,a.jsx)(o.z,{onClick:I,disabled:f,className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white",children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Создание заявки..."]}):"Отправить заявку на пополнение"})]})]}):null})()})]})})]})}var Z=s(79007),T=s(98239),S=s(60640),z=s(69246),A=s(95805),I=s(96215),R=s(92369),M=s(82431),F=s(49322),$=s(91804),U=s(41671),O=s(70525),H=s(29202),P=s(83774),B=s(27648),Y=s(99376);function L(){let[e,t]=(0,r.useState)(new Date),[s,l]=(0,r.useState)(null),[d,c]=(0,r.useState)([]),[m,h]=(0,r.useState)([]),[g,f]=(0,r.useState)(!0),[j,N]=(0,r.useState)(null),[w,y]=(0,r.useState)(!1),[D,C]=(0,r.useState)(null),[E,L]=(0,r.useState)(!1),[V,J]=(0,r.useState)({}),{playInvestmentNotification:G,playDepositNotification:q,playErrorNotification:X}=function(){let[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1),l=(0,r.useRef)(null),i=(0,r.useRef)([]);(0,r.useEffect)(()=>{a((()=>{try{let e=new Audio;return!!e.canPlayType&&""!==e.canPlayType("audio/mp3")}catch(e){return!1}})())},[]);let n=(0,r.useCallback)(async e=>{if(!s){console.log("Audio not supported or disabled");return}try{t(!0);let s=await fetch("/api/voice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();if(a.success&&a.audioUrl){l.current&&(l.current.pause(),l.current=null);let s=new Audio(a.audioUrl);l.current=s,s.onended=()=>{t(!1),o()},s.onerror=()=>{console.error("Audio playback error"),t(!1),o()},await s.play(),console.log("✅ Voice notification played:",e.type)}else t(!1),console.log("Voice notification not available")}catch(e){console.error("Error playing voice notification:",e),t(!1)}},[s]),o=(0,r.useCallback)(()=>{if(i.current.length>0&&!e){let e=i.current.shift();e&&n(e)}},[e,n]),d=(0,r.useCallback)(t=>{e?i.current.push(t):n(t)},[e,n]),c=(0,r.useCallback)(()=>{l.current&&(l.current.pause(),l.current=null),i.current=[],t(!1)},[]),x=(0,r.useCallback)((e,t)=>{d({type:"deposit",message:t||"Средства успешно зачислены",amount:e})},[d]),m=(0,r.useCallback)((e,t)=>{d({type:"withdrawal",message:t||"Запрос на вывод обрабатывается",amount:e})},[d]),h=(0,r.useCallback)((e,t,s)=>{d({type:"investment",message:s||"Инвестиция создана успешно",amount:e,planName:t})},[d]),u=(0,r.useCallback)(e=>{d({type:"success",message:e})},[d]),b=(0,r.useCallback)(e=>{d({type:"error",message:e})},[d]);return{isPlaying:e,audioEnabled:s,playVoiceNotification:d,stopVoiceNotification:c,playDepositNotification:x,playWithdrawalNotification:m,playInvestmentNotification:h,playSuccessNotification:u,playErrorNotification:b}}(),[K,W]=(0,r.useState)([]);(0,Y.useRouter)();let Q=e=>({RU:"Россия",US:"США",GB:"Великобритания",DE:"Германия",FR:"Франция",IT:"Италия",ES:"Испания",CA:"Канада",AU:"Австралия",JP:"Япония",KR:"Южная Корея",CN:"Китай",IN:"Индия",BR:"Бразилия",MX:"Мексика",UA:"Украина",BY:"Беларусь",KZ:"Казахстан",UZ:"Узбекистан",PL:"Польша",TR:"Турция"})[e]||e;(0,r.useEffect)(()=>{console.log("Dashboard: Component mounted");let e=setInterval(()=>{t(new Date),et()},1e3),s=setInterval(()=>{"visible"===document.visibilityState&&ee()},12e4);return ee(),()=>{clearInterval(e),clearInterval(s),console.log("Dashboard: Component unmounted")}},[]);let ee=async()=>{try{f(!0),N(null);let e=localStorage.getItem("authToken"),t=localStorage.getItem("userId");if(!e||!t)throw Error("Пользователь не авторизован");let s="dashboard_".concat(t),a=localStorage.getItem(s),r=localStorage.getItem("".concat(s,"_time"));if(a&&r&&Date.now()-parseInt(r)<6e4){let e=JSON.parse(a),t={...e.user,name:e.user.full_name||e.user.email,totalInvested:e.user.total_invested||0,totalProfit:e.user.total_earned||0,referralCount:0,isAdmin:"admin"===e.user.role||"super_admin"===e.user.role};l(t),c(e.investments||[]),h(e.transactions||[]),f(!1);return}console.log("Dashboard: Fetching fresh data...");let i=await fetch("/api/dashboard/all?userId=".concat(t),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!i.ok){if(401===i.status){console.log("❌ Токен недействителен, перенаправляем на логин"),localStorage.clear(),window.location.href="/login";return}if(500===i.status){let e=await i.json().catch(()=>({}));throw console.error("❌ Ошибка сервера:",e),Error(e.error||"Ошибка сервера ".concat(i.status))}throw Error("Ошибка ".concat(i.status,": ").concat(i.statusText))}let n=await i.json();localStorage.setItem(s,JSON.stringify(n)),localStorage.setItem("".concat(s,"_time"),Date.now().toString());let o={...n.user,name:n.user.full_name||n.user.email,totalInvested:n.user.total_invested||0,totalProfit:n.user.total_earned||0,referralCount:0,isAdmin:"admin"===n.user.role||"super_admin"===n.user.role};l(o),c(n.investments||[]),h(n.transactions||[]),console.log("Dashboard: All data loaded successfully")}catch(e){console.error("Dashboard: Error fetching data:",e),N(e instanceof Error?e.message:"Ошибка загрузки данных")}finally{f(!1)}},et=()=>{let e={};d.forEach(t=>{let s=new Date(t.end_date),a=new Date,r=s.getTime()-a.getTime();r>0?e[t.id]="".concat(Math.floor(r/864e5),"д ").concat(Math.floor(r%864e5/36e5),"ч ").concat(Math.floor(r%36e5/6e4),"м ").concat(Math.floor(r%6e4/1e3),"с"):e[t.id]="Завершено"}),J(e)},es=async(e,t,s)=>{try{console.log("\uD83D\uDCB0 Handling deposit:",{amount:e,method:t});let s=localStorage.getItem("userId");s&&(localStorage.removeItem("dashboard_".concat(s)),localStorage.removeItem("dashboard_".concat(s,"_time"))),setTimeout(()=>{ee(),y(!1)},500)}catch(e){console.error("❌ Error handling deposit:",e),b.Am.error("Ошибка обработки пополнения")}},ea=[{title:"Пополнить баланс",subtitle:"Отправить запрос на пополнение",icon:(0,a.jsx)(S.Z,{className:"h-6 w-6"}),color:"from-green-500 to-emerald-600",action:()=>{y(!0)},limit:"Мин. $50"},{title:"Вывод средств",subtitle:"Запросить вывод прибыли",icon:(0,a.jsx)(z.Z,{className:"h-6 w-6"}),color:"from-red-500 to-pink-600",action:()=>{window.location.href="/dashboard/withdraw"},limit:"24/7 доступно"},{title:"Пригласить друзей",subtitle:"Получайте бонусы за рефералов",icon:(0,a.jsx)(A.Z,{className:"h-6 w-6"}),color:"from-purple-500 to-violet-600",action:()=>{window.location.href="/dashboard/referrals"},limit:"до 10%"},{title:"Новая инвестиция",subtitle:"Выберите план инвестирования",icon:(0,a.jsx)(I.Z,{className:"h-6 w-6"}),color:"from-orange-500 to-amber-600",action:()=>{window.location.href="/dashboard/investments"},limit:"От $100"},{title:"Мой профиль",subtitle:"Управление личными данными",icon:(0,a.jsx)(R.Z,{className:"h-6 w-6"}),color:"from-blue-500 to-cyan-600",action:()=>{window.location.href="/dashboard/profile"},limit:"Персонализация"},...(null==s?void 0:s.isAdmin)?[{title:"Администратор",subtitle:"Панель управления сайтом",icon:(0,a.jsx)(k.Z,{className:"h-6 w-6"}),color:"from-red-600 to-rose-700",action:()=>{window.location.href="/admin/dashboard"},limit:"Только админ"}]:[]];return g?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(M.Z,{className:"h-16 w-16 animate-spin text-blue-500 mx-auto mb-4"}),(0,a.jsx)("div",{className:"absolute inset-0 h-16 w-16 rounded-full border-t-2 border-blue-500 animate-ping opacity-20"})]}),(0,a.jsx)("p",{className:"text-white text-lg mt-4 font-light",children:"Загрузка данных из базы..."})]})}):j?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:(0,a.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[(0,a.jsx)(F.Z,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Ошибка загрузки"}),(0,a.jsx)("p",{className:"text-red-200 mb-6",children:j}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(o.z,{onClick:ee,className:"bg-blue-600 hover:bg-blue-700 w-full",children:[(0,a.jsx)(M.Z,{className:"mr-2 h-4 w-4"}),"Попробовать снова"]}),(0,a.jsx)(o.z,{onClick:()=>{localStorage.clear(),window.location.href="/login"},variant:"outline",className:"border-white/20 text-white hover:bg-white/10 w-full",children:"Войти заново"})]})]})}):s?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,a.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-pulse"}),(0,a.jsx)("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-indigo-500/5 rounded-full blur-3xl animate-pulse delay-2000"})]}),(0,a.jsx)(i.x,{}),(0,a.jsxs)("div",{className:"flex relative z-10",children:[(0,a.jsx)(n.T,{activeItem:"dashboard"}),(0,a.jsx)("main",{className:"flex-1 p-4 md:p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,a.jsx)(T.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative",children:(0,a.jsxs)("div",{className:"relative bg-gradient-to-r from-blue-600/20 via-purple-600/20 to-pink-600/20 backdrop-blur-2xl rounded-3xl p-8 border border-white/20 shadow-2xl overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-40 h-40 bg-blue-500/30 rounded-full blur-3xl animate-pulse"}),(0,a.jsx)("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-purple-500/30 rounded-full blur-3xl animate-pulse delay-1000"}),(0,a.jsxs)("div",{className:"relative z-10 text-center space-y-4",children:[(0,a.jsxs)(T.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"inline-flex items-center space-x-3 bg-white/90 backdrop-blur-xl rounded-full px-8 py-4 border-4 border-black shadow-2xl hover:bg-white hover:scale-105 transition-all duration-300",children:[(0,a.jsx)(T.E.span,{animate:{rotate:[0,14,-8,14,-4,10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"text-3xl",children:"\uD83D\uDC4B"}),(0,a.jsxs)("span",{className:"text-black font-bold text-lg",children:["Добро пожаловать, ",s.name,"!"]}),(0,a.jsx)(T.E.span,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"text-3xl",children:"\uD83D\uDCBC"})]}),(0,a.jsx)(T.E.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-5xl md:text-7xl font-black bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent mb-4",children:"Личный кабинет"}),(0,a.jsx)(T.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-blue-100 max-w-2xl mx-auto text-xl font-medium",children:"Управляйте своими инвестициями и следите за доходностью в реальном времени"}),(0,a.jsxs)(T.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5},className:"flex items-center justify-center space-x-3 bg-white/10 backdrop-blur-sm rounded-full px-6 py-3 border border-white/20 inline-flex",children:[(0,a.jsx)(v.Z,{className:"h-6 w-6 text-cyan-400 animate-pulse"}),(0,a.jsx)("span",{className:"font-mono text-2xl font-bold text-white",children:e.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]})]})]})}),(0,a.jsx)(T.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex justify-center",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl w-full",children:[(0,a.jsx)(T.E.div,{whileHover:{scale:1.05,y:-10},transition:{type:"spring",stiffness:300},children:(0,a.jsxs)(x.Zb,{className:"bg-white/95 backdrop-blur-xl border-4 border-green-500 shadow-2xl relative overflow-hidden group hover:shadow-green-500/50 transition-all duration-300",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,a.jsx)("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-green-400/20 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),(0,a.jsxs)(x.aY,{className:"p-6 relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-green-600 text-sm font-bold",children:"\uD83D\uDCB0 Реальный баланс"}),(0,a.jsx)("p",{className:"text-gray-600 text-xs",children:"Доступные средства"})]}),(0,a.jsx)(T.E.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0},className:"p-4 bg-green-100 rounded-2xl shadow-lg",children:(0,a.jsx)($.Z,{className:"h-8 w-8 text-green-600"})})]}),(0,a.jsxs)(T.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.3},className:"text-4xl font-black text-green-600 mb-3",children:["$",Number(s.balance||0).toLocaleString(),".00"]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center text-gray-600 text-sm font-medium",children:[(0,a.jsx)(U.Z,{className:"h-4 w-4 mr-1 text-green-600"}),(0,a.jsx)("span",{children:"Доступно"})]}),(0,a.jsx)("div",{className:"bg-green-100 px-3 py-1 rounded-full",children:(0,a.jsx)("span",{className:"text-green-600 text-xs font-bold",children:"100%"})})]})]})]})}),(0,a.jsx)(T.E.div,{whileHover:{scale:1.05,y:-10},transition:{type:"spring",stiffness:300},children:(0,a.jsxs)(x.Zb,{className:"bg-white/95 backdrop-blur-xl border-4 border-blue-500 shadow-2xl relative overflow-hidden group hover:shadow-blue-500/50 transition-all duration-300",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,a.jsx)("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-blue-400/20 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),(0,a.jsxs)(x.aY,{className:"p-6 relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-blue-600 text-sm font-bold",children:"\uD83D\uDCC8 Инвестировано"}),(0,a.jsx)("p",{className:"text-gray-600 text-xs",children:"Работающий капитал"})]}),(0,a.jsx)(T.E.div,{animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0},className:"p-4 bg-blue-100 rounded-2xl shadow-lg",children:(0,a.jsx)(O.Z,{className:"h-8 w-8 text-blue-600"})})]}),(0,a.jsxs)(T.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.4},className:"text-4xl font-black text-blue-600 mb-3",children:["$",Number(s.totalInvested||0).toLocaleString(),".00"]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center text-gray-600 text-sm font-medium",children:[(0,a.jsx)(I.Z,{className:"h-4 w-4 mr-1 text-blue-600"}),(0,a.jsx)("span",{children:"Активно"})]}),(0,a.jsx)("div",{className:"bg-blue-100 px-3 py-1 rounded-full",children:(0,a.jsxs)("span",{className:"text-blue-600 text-xs font-bold",children:["+",d.length]})})]})]})]})}),(0,a.jsx)(T.E.div,{whileHover:{scale:1.05,y:-10},transition:{type:"spring",stiffness:300},children:(0,a.jsxs)(x.Zb,{className:"bg-white/95 backdrop-blur-xl border-4 border-purple-500 shadow-2xl relative overflow-hidden group hover:shadow-purple-500/50 transition-all duration-300",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,a.jsx)("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-purple-400/20 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),(0,a.jsxs)(x.aY,{className:"p-6 relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-purple-600 text-sm font-bold",children:"\uD83D\uDC8E Прибыль"}),(0,a.jsx)("p",{className:"text-gray-600 text-xs",children:"Общая прибыль"})]}),(0,a.jsx)(T.E.div,{animate:{rotate:[0,360]},transition:{duration:4,repeat:1/0,ease:"linear"},className:"p-4 bg-purple-100 rounded-2xl shadow-lg",children:(0,a.jsx)(I.Z,{className:"h-8 w-8 text-purple-600"})})]}),(0,a.jsxs)(T.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.5},className:"text-4xl font-black text-purple-600 mb-3",children:["$",Number(s.totalProfit||0).toLocaleString(),".00"]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center text-gray-600 text-sm font-medium",children:[(0,a.jsx)(O.Z,{className:"h-4 w-4 mr-1 text-purple-600"}),(0,a.jsx)("span",{children:"Заработано"})]}),(0,a.jsx)("div",{className:"bg-purple-100 px-3 py-1 rounded-full",children:(0,a.jsx)("span",{className:"text-purple-600 text-xs font-bold",children:"↑ ROI"})})]})]})]})}),(0,a.jsx)(T.E.div,{whileHover:{scale:1.05,y:-10},transition:{type:"spring",stiffness:300},children:(0,a.jsxs)(x.Zb,{className:"bg-white/95 backdrop-blur-xl border-4 border-orange-500 shadow-2xl relative overflow-hidden group hover:shadow-orange-500/50 transition-all duration-300",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-400/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,a.jsx)("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-orange-400/20 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),(0,a.jsxs)(x.aY,{className:"p-6 relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-orange-600 text-sm font-bold",children:"\uD83D\uDC65 Друзья"}),(0,a.jsx)("p",{className:"text-gray-600 text-xs",children:"Приглашенные друзья"})]}),(0,a.jsx)(T.E.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"p-4 bg-orange-100 rounded-2xl shadow-lg",children:(0,a.jsx)(A.Z,{className:"h-8 w-8 text-orange-600"})})]}),(0,a.jsx)(T.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.6},className:"text-4xl font-black text-orange-600 mb-3",children:s.referralCount||0}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center text-gray-600 text-sm font-medium",children:[(0,a.jsx)(A.Z,{className:"h-4 w-4 mr-1 text-orange-600"}),(0,a.jsx)("span",{children:"Рефералов"})]}),(0,a.jsx)("div",{className:"bg-orange-100 px-3 py-1 rounded-full",children:(0,a.jsx)("span",{className:"text-orange-600 text-xs font-bold",children:"10%"})})]})]})]})})]})}),(0,a.jsxs)(T.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)(T.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"inline-flex items-center space-x-2 bg-white/90 backdrop-blur-xl rounded-full px-6 py-3 border-4 border-black shadow-2xl mb-4 hover:bg-white hover:scale-105 transition-all duration-300",children:[(0,a.jsx)("span",{className:"text-2xl",children:"⚡"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-black",children:"Быстрые действия"})]}),(0,a.jsx)("p",{className:"text-blue-200 text-base",children:"Управляйте своим портфелем одним кликом"})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 max-w-7xl",children:ea.map((e,t)=>{let s=["border-green-500 hover:shadow-green-500/50","border-red-500 hover:shadow-red-500/50","border-purple-500 hover:shadow-purple-500/50","border-orange-500 hover:shadow-orange-500/50","border-blue-500 hover:shadow-blue-500/50","border-rose-600 hover:shadow-rose-600/50"],r=["text-green-600 bg-green-100","text-red-600 bg-red-100","text-purple-600 bg-purple-100","text-orange-600 bg-orange-100","text-blue-600 bg-blue-100","text-rose-600 bg-rose-100"],l=["text-green-600","text-red-600","text-purple-600","text-orange-600","text-blue-600","text-rose-600"];return(0,a.jsxs)(T.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5+.1*t},whileHover:{scale:1.1,y:-10},whileTap:{scale:.95},onClick:e.action,className:"relative bg-white/95 backdrop-blur-xl p-6 rounded-3xl text-center cursor-pointer shadow-2xl transition-all duration-500 border-4 ".concat(s[t]," overflow-hidden group"),children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-100/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,a.jsx)("div",{className:"absolute -top-10 -right-10 w-24 h-24 bg-gray-200/30 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),(0,a.jsx)(T.E.div,{animate:{y:[0,-5,0],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,delay:.2*t},className:"mb-4 flex justify-center relative z-10",children:(0,a.jsx)("div",{className:"p-4 ".concat(r[t]," rounded-2xl shadow-lg group-hover:scale-110 transition-transform"),children:e.icon})}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsx)("h3",{className:"".concat(l[t]," font-bold text-base mb-2 group-hover:scale-110 transition-transform"),children:e.title}),(0,a.jsx)("p",{className:"text-gray-600 text-xs mb-3 leading-relaxed font-medium",children:e.subtitle}),(0,a.jsx)("div",{className:"".concat(r[t]," rounded-full px-4 py-2 border-2 ").concat(s[t].split(" ")[0]),children:(0,a.jsx)("p",{className:"".concat(l[t]," font-bold text-xs"),children:e.limit})})]}),(0,a.jsx)("div",{className:"absolute inset-0 border-2 border-black/0 group-hover:border-black/20 rounded-3xl transition-all duration-500"})]},t)})})})]}),w&&(0,a.jsxs)(T.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl rounded-2xl p-6 border border-white/20",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white",children:"Запрос на пополнение"}),(0,a.jsx)(o.z,{variant:"ghost",size:"sm",onClick:()=>y(!1),className:"text-white hover:bg-white/10",children:"✕"})]}),(0,a.jsx)(_,{onDeposit:es})]}),(0,a.jsxs)(T.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"relative bg-gradient-to-br from-blue-600/20 via-purple-600/20 to-pink-600/20 backdrop-blur-2xl rounded-3xl p-8 border-2 border-white/20 shadow-2xl overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/20 rounded-full blur-3xl animate-pulse"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-purple-500/20 rounded-full blur-3xl animate-pulse delay-1000"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(T.E.div,{animate:{rotate:[0,360]},transition:{duration:10,repeat:1/0,ease:"linear"},className:"p-4 bg-gradient-to-br from-blue-500/30 to-purple-500/30 rounded-2xl shadow-lg border border-white/20",children:(0,a.jsx)(I.Z,{className:"h-8 w-8 text-blue-300"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-black text-white mb-1",children:"\uD83D\uDCCA Активные инвестиции"}),(0,a.jsx)("p",{className:"text-blue-200 text-sm",children:"Ваш портфель работает на вас"})]})]}),(0,a.jsx)(B.default,{href:"/dashboard/investments",children:(0,a.jsx)(T.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,a.jsx)(o.z,{variant:"outline",size:"lg",className:"border-2 border-white/30 text-white hover:bg-white/20 backdrop-blur-sm font-bold",children:"Все инвестиции →"})})})]}),d.length>0?(0,a.jsx)("div",{className:"space-y-6",children:d.map((e,t)=>{var s;return(0,a.jsxs)(T.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7+.1*t},whileHover:{scale:1.02,x:10},className:"relative bg-gradient-to-r from-white/10 to-white/5 backdrop-blur-xl rounded-2xl p-8 border-2 border-white/20 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden group",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-purple-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,a.jsx)("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-blue-500/20 rounded-full blur-3xl group-hover:scale-150 transition-transform duration-700"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-blue-500/30 to-purple-500/30 rounded-xl",children:(0,a.jsx)(O.Z,{className:"h-6 w-6 text-blue-300"})}),(0,a.jsx)("h3",{className:"text-white font-bold text-xl",children:(null===(s=e.investment_plans)||void 0===s?void 0:s.name)||"План инвестирования"})]}),(0,a.jsx)(T.E.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:(0,a.jsx)(u.C,{className:"bg-gradient-to-r from-green-500/30 to-emerald-500/30 text-green-300 border-2 border-green-400/50 px-4 py-2 text-sm font-bold",children:"✓ Активно"})})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-orange-500/20 via-red-500/20 to-pink-500/20 backdrop-blur-xl border-2 border-orange-400/30 rounded-2xl p-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[(0,a.jsx)(v.Z,{className:"h-5 w-5 text-orange-400 animate-pulse"}),(0,a.jsx)("h4",{className:"text-white font-bold text-lg",children:"⏰ Обратный отсчет до завершения"})]}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-4",children:(()=>{let t=new Date(e.end_date),s=new Date,r=t.getTime()-s.getTime();return r>0?[{label:"Дней",value:Math.floor(r/864e5),icon:"\uD83D\uDCC5"},{label:"Часов",value:Math.floor(r%864e5/36e5),icon:"⏰"},{label:"Минут",value:Math.floor(r%36e5/6e4),icon:"⏱️"},{label:"Секунд",value:Math.floor(r%6e4/1e3),icon:"⚡"}].map((e,t)=>(0,a.jsxs)(T.E.div,{animate:{scale:"Секунд"===e.label?[1,1.05,1]:1},transition:{duration:1,repeat:1/0},className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center border border-white/20",children:[(0,a.jsx)("div",{className:"text-3xl mb-1",children:e.icon}),(0,a.jsx)("div",{className:"text-3xl font-black text-white mb-1 tabular-nums",children:String(e.value).padStart(2,"0")}),(0,a.jsx)("div",{className:"text-xs text-gray-300 font-medium",children:e.label})]},t)):(0,a.jsx)("div",{className:"col-span-4 text-center text-white font-bold text-xl",children:"✅ Завершено"})})()})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-xl p-4 border border-blue-500/30",children:[(0,a.jsxs)("p",{className:"text-blue-200 text-xs mb-2 font-medium flex items-center",children:[(0,a.jsx)("span",{className:"mr-1",children:"\uD83D\uDCB0"})," Инвестировано"]}),(0,a.jsxs)("p",{className:"text-white font-black text-xl",children:["$",Number(e.amount).toLocaleString()]}),(0,a.jsx)("p",{className:"text-blue-300 text-xs mt-1",children:"Основная сумма"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-500/20 to-emerald-500/20 rounded-xl p-4 border border-green-500/30",children:[(0,a.jsxs)("p",{className:"text-green-200 text-xs mb-2 font-medium flex items-center",children:[(0,a.jsx)("span",{className:"mr-1",children:"\uD83D\uDCC8"})," Ежедневно"]}),(0,a.jsxs)("p",{className:"text-green-300 font-black text-xl",children:["$",Number(e.daily_profit).toFixed(2)]}),(0,a.jsxs)("p",{className:"text-green-300 text-xs mt-1",children:["+",(Number(e.daily_profit)/Number(e.amount)*100).toFixed(2),"% в день"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-xl p-4 border border-purple-500/30",children:[(0,a.jsxs)("p",{className:"text-purple-200 text-xs mb-2 font-medium flex items-center",children:[(0,a.jsx)("span",{className:"mr-1",children:"\uD83D\uDC8E"})," Заработано"]}),(0,a.jsxs)("p",{className:"text-purple-300 font-black text-xl",children:["$",(()=>{let t=new Date(e.start_date),s=new Date,a=new Date(e.end_date);if(s<t)return"0.00";let r=Math.floor((s.getTime()-t.getTime())/864e5),l=Math.ceil((a.getTime()-t.getTime())/864e5);return(Number(e.daily_profit)*Math.min(r,l)).toFixed(2)})()]}),(0,a.jsxs)("p",{className:"text-purple-300 text-xs mt-1",children:["+",(()=>{let t=new Date(e.start_date),s=new Date,a=new Date(e.end_date);if(s<t)return"0.0";let r=Math.floor((s.getTime()-t.getTime())/864e5),l=Math.ceil((a.getTime()-t.getTime())/864e5);return(Number(e.daily_profit)*Math.min(r,l)/Number(e.amount)*100).toFixed(1)})(),"% ROI"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 rounded-xl p-4 border border-yellow-500/30",children:[(0,a.jsxs)("p",{className:"text-yellow-200 text-xs mb-2 font-medium flex items-center",children:[(0,a.jsx)("span",{className:"mr-1",children:"\uD83C\uDFAF"})," Ожидается"]}),(0,a.jsxs)("p",{className:"text-yellow-300 font-black text-xl",children:["$",(()=>{let t=new Date(e.start_date),s=Math.ceil((new Date(e.end_date).getTime()-t.getTime())/864e5);return(Number(e.daily_profit)*s).toFixed(2)})()]}),(0,a.jsx)("p",{className:"text-yellow-300 text-xs mt-1",children:"К концу срока"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-red-500/20 to-pink-500/20 rounded-xl p-4 border border-red-500/30",children:[(0,a.jsxs)("p",{className:"text-red-200 text-xs mb-2 font-medium flex items-center",children:[(0,a.jsx)("span",{className:"mr-1",children:"⚡"})," Осталось"]}),(0,a.jsx)("p",{className:"text-red-300 font-black text-xl",children:(()=>{let t=Math.ceil((new Date(e.end_date).getTime()-new Date().getTime())/864e5);return t>0?t:0})()}),(0,a.jsxs)("p",{className:"text-red-300 text-xs mt-1",children:["из ",Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/864e5)," дней"]})]})]}),(0,a.jsx)("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10 mb-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white/60 text-xs mb-1",children:"\uD83D\uDCC5 Дата начала"}),(0,a.jsx)("p",{className:"text-white font-semibold",children:new Date(e.start_date).toLocaleDateString("ru-RU")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white/60 text-xs mb-1",children:"\uD83C\uDFC1 Дата окончания"}),(0,a.jsx)("p",{className:"text-white font-semibold",children:new Date(e.end_date).toLocaleDateString("ru-RU")})]})]})}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-xl p-4 border border-white/10",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,a.jsx)("span",{className:"text-white/80 font-medium",children:"\uD83D\uDCCA Прогресс инвестиции"}),(0,a.jsxs)("span",{className:"text-white font-bold text-lg",children:[Math.round((new Date().getTime()-new Date(e.start_date).getTime())/(new Date(e.end_date).getTime()-new Date(e.start_date).getTime())*100),"%"]})]}),(0,a.jsx)("div",{className:"relative h-4 bg-white/10 rounded-full overflow-hidden",children:(0,a.jsx)(T.E.div,{initial:{width:0},animate:{width:"".concat(Math.round((new Date().getTime()-new Date(e.start_date).getTime())/(new Date(e.end_date).getTime()-new Date(e.start_date).getTime())*100),"%")},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-full relative",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-white/30 animate-pulse"})})})]})]})]},e.id)})}):(0,a.jsxs)(T.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-2xl p-12 border-2 border-white/20 text-center",children:[(0,a.jsx)(T.E.div,{animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0},className:"text-6xl mb-6",children:"\uD83D\uDCCA"}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Начните инвестировать сегодня!"}),(0,a.jsx)("p",{className:"text-white/70 mb-6 text-lg",children:"У вас пока нет активных инвестиций"}),(0,a.jsx)(B.default,{href:"/dashboard/investments",children:(0,a.jsx)(T.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,a.jsx)(o.z,{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white font-bold text-lg px-8 py-6 rounded-xl shadow-2xl",children:"\uD83D\uDE80 Начать инвестировать"})})})]})]})]}),(0,a.jsxs)(T.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"relative bg-gradient-to-br from-green-600/20 via-emerald-600/20 to-teal-600/20 backdrop-blur-2xl rounded-3xl p-8 border-2 border-white/20 shadow-2xl overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-64 h-64 bg-green-500/20 rounded-full blur-3xl animate-pulse"}),(0,a.jsx)("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-emerald-500/20 rounded-full blur-3xl animate-pulse delay-1000"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(T.E.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"p-4 bg-gradient-to-br from-green-500/30 to-emerald-500/30 rounded-2xl shadow-lg border border-white/20",children:(0,a.jsx)(p.Z,{className:"h-8 w-8 text-green-300"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-black text-white mb-1",children:"\uD83D\uDCB3 Последние транзакции"}),(0,a.jsx)("p",{className:"text-green-200 text-sm",children:m.length>5?"Показано 5 из ".concat(m.length," операций"):"История ваших операций (".concat(m.length,")")})]})]}),(0,a.jsx)(B.default,{href:"/dashboard/transactions",children:(0,a.jsx)(T.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,a.jsx)(o.z,{variant:"outline",size:"lg",className:"border-2 border-white/30 text-white hover:bg-white/20 backdrop-blur-sm font-bold",children:"Все транзакции →"})})})]}),(0,a.jsx)("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10",children:(0,a.jsx)(Z.R,{limit:5})})]})]}),(0,a.jsxs)(T.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)(T.E.div,{whileHover:{scale:1.05,rotate:1},transition:{type:"spring"},children:(0,a.jsxs)(x.Zb,{className:"bg-gradient-to-br from-yellow-500 via-orange-500 to-red-600 text-white shadow-2xl border-2 border-yellow-400/50 relative overflow-hidden group",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),(0,a.jsx)("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-yellow-400/30 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),(0,a.jsxs)(x.aY,{className:"p-8 text-center relative z-10",children:[(0,a.jsx)(T.E.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0},className:"flex items-center justify-center mb-4",children:(0,a.jsx)("div",{className:"p-4 bg-white/20 rounded-2xl",children:(0,a.jsx)(R.Z,{className:"h-10 w-10"})})}),(0,a.jsx)("h3",{className:"text-xl font-black mb-3",children:"\uD83D\uDC64 Статус аккаунта"}),(0,a.jsx)(T.E.p,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-3xl font-black mb-2",children:"active"===s.status?"Активный":"pending"===s.status?"На проверке":"suspended"===s.status?"Заблокирован":"Активный"}),(0,a.jsx)("div",{className:"bg-white/20 rounded-full px-4 py-2 backdrop-blur-sm",children:(0,a.jsx)("p",{className:"text-sm font-bold",children:s.email_verified?"✓ Верифицированный пользователь":"⏳ Требуется верификация"})})]})]})}),(0,a.jsx)(T.E.div,{whileHover:{scale:1.05,rotate:-1},transition:{type:"spring"},children:(0,a.jsxs)(x.Zb,{className:"bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-700 text-white shadow-2xl border-2 border-blue-400/50 relative overflow-hidden group",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),(0,a.jsx)("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-blue-400/30 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),(0,a.jsxs)(x.aY,{className:"p-8 text-center relative z-10",children:[(0,a.jsx)(T.E.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"flex items-center justify-center mb-4",children:(0,a.jsx)("div",{className:"p-4 bg-white/20 rounded-2xl",children:(0,a.jsx)(k.Z,{className:"h-10 w-10"})})}),(0,a.jsx)("h3",{className:"text-xl font-black mb-3",children:"\uD83D\uDEE1️ Безопасность"}),(0,a.jsx)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:s.email_verified?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U.Z,{className:"h-6 w-6 text-green-400"}),(0,a.jsx)("p",{className:"text-3xl font-black",children:"Защищен"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(F.Z,{className:"h-6 w-6 text-yellow-400"}),(0,a.jsx)("p",{className:"text-3xl font-black",children:"Частично"})]})}),(0,a.jsx)("div",{className:"bg-white/20 rounded-full px-4 py-2 backdrop-blur-sm",children:(0,a.jsx)("p",{className:"text-sm font-bold",children:s.email_verified?"✓ Аккаунт верифицирован":"⚠️ Завершите верификацию"})})]})]})}),(0,a.jsx)(T.E.div,{whileHover:{scale:1.05,rotate:1},transition:{type:"spring"},children:(0,a.jsxs)(x.Zb,{className:"bg-gradient-to-br from-red-500 via-pink-500 to-rose-600 text-white shadow-2xl border-2 border-red-400/50 relative overflow-hidden group",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),(0,a.jsx)("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-red-400/30 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),(0,a.jsxs)(x.aY,{className:"p-8 text-center relative z-10",children:[(0,a.jsx)(T.E.div,{animate:{rotate:[0,360]},transition:{duration:10,repeat:1/0,ease:"linear"},className:"flex items-center justify-center mb-4",children:(0,a.jsx)("div",{className:"p-4 bg-white/20 rounded-2xl",children:(0,a.jsx)(H.Z,{className:"h-10 w-10"})})}),(0,a.jsx)("h3",{className:"text-xl font-black mb-3",children:"\uD83C\uDF0D Локация"}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,a.jsx)(P.Z,{className:"h-6 w-6"}),(0,a.jsx)("p",{className:"text-3xl font-black",children:s.country?Q(s.country):"Не указана"})]}),(0,a.jsx)("div",{className:"bg-white/20 rounded-full px-4 py-2 backdrop-blur-sm",children:(0,a.jsxs)("p",{className:"text-sm font-bold flex items-center justify-center",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),s.city?"".concat(s.city,", ").concat(Q(s.country)):"Подключено к БД"]})})]})]})})]})]})})]})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(F.Z,{className:"h-16 w-16 text-yellow-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-white text-lg",children:"Данные пользователя не найдены"})]})})}function V(){return console.log("Dashboard: Page component rendering"),(0,a.jsx)(l.a,{children:(0,a.jsx)(L,{})})}},65613:function(e,t,s){"use strict";s.d(t,{Cd:function(){return d},X:function(){return c},bZ:function(){return o}});var a=s(57437),r=s(2265),l=s(90535),i=s(94508);let n=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=r.forwardRef((e,t)=>{let{className:s,variant:r,...l}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(n({variant:r}),s),...l})});o.displayName="Alert";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",s),...r})});d.displayName="AlertTitle";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",s),...r})});c.displayName="AlertDescription"},26815:function(e,t,s){"use strict";s.d(t,{_:function(){return d}});var a=s(57437),r=s(2265),l=s(6394),i=s(90535),n=s(94508);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.f,{ref:t,className:(0,n.cn)(o(),s),...r})});d.displayName=l.f.displayName},74991:function(e,t,s){"use strict";s.d(t,{E:function(){return o},m:function(){return d}});var a=s(57437),r=s(2265),l=s(42325),i=s(40519),n=s(94508);let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.fC,{className:(0,n.cn)("grid gap-2",s),...r,ref:t})});o.displayName=l.fC.displayName;let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.ck,{ref:t,className:(0,n.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:(0,a.jsx)(l.z$,{className:"flex items-center justify-center",children:(0,a.jsx)(i.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});d.displayName=l.ck.displayName}},function(e){e.O(0,[9203,3513,282,2696,8239,4438,9390,8391,6210,6627,1133,8631,7465,2971,2117,1744],function(){return e(e.s=43988)}),_N_E=e.O()}]);