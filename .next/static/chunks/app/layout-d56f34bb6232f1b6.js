(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{19225:function(e,t,o){Promise.resolve().then(o.t.bind(o,47960,23)),Promise.resolve().then(o.bind(o,61280)),Promise.resolve().then(o.bind(o,82798)),Promise.resolve().then(o.bind(o,1133)),Promise.resolve().then(o.t.bind(o,50911,23))},61280:function(e,t,o){"use strict";o.d(t,{SettingsProvider:function(){return l},r:function(){return d}});var n=o(57437),i=o(2265);let r={siteName:"InvestPro",siteDescription:"Профессиональная инвестиционная платформа",contactEmail:"X453925x@gmail.com",registrationEnabled:!0,maintenanceMode:!1,minDeposit:50,maxDeposit:5e4,minWithdraw:10,withdrawFee:2,referralBonus:5,welcomeBonus:25},a={primaryColor:"#3b82f6",secondaryColor:"#10b981",accentColor:"#f59e0b",darkMode:!1,logoUrl:"/logo.png",faviconUrl:"/favicon.ico"},s={emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,depositNotifications:!0,withdrawNotifications:!0,investmentNotifications:!0},c=(0,i.createContext)(void 0);function l(e){let{children:t}=e,[o,l]=(0,i.useState)(r),[d,m]=(0,i.useState)(a),[u,f]=(0,i.useState)(s),[h,p]=(0,i.useState)(!1),y=async()=>{try{p(!0);try{let e=await fetch("/api/settings/site");if(e.ok){let t=await e.json(),o={siteName:t.site_name||r.siteName,siteDescription:t.site_description||r.siteDescription,contactEmail:t.contact_email||r.contactEmail,registrationEnabled:void 0!==t.registration_enabled?t.registration_enabled:r.registrationEnabled,maintenanceMode:void 0!==t.maintenance_mode?t.maintenance_mode:r.maintenanceMode,minDeposit:t.min_deposit||r.minDeposit,maxDeposit:t.max_deposit||r.maxDeposit,minWithdraw:t.min_withdraw||r.minWithdraw,withdrawFee:t.withdraw_fee||r.withdrawFee,referralBonus:t.referral_bonus||r.referralBonus,welcomeBonus:t.welcome_bonus||r.welcomeBonus};l(o),console.log("✅ Site settings loaded from database:",o)}else console.log("⚠️ Using default site settings"),l(r)}catch(e){console.error("Error loading site settings:",e),l(r)}try{let e=await fetch("/api/settings/appearance");if(e.ok){let t=await e.json(),o={primaryColor:t.primary_color||a.primaryColor,secondaryColor:t.secondary_color||a.secondaryColor,accentColor:t.accent_color||a.accentColor,darkMode:void 0!==t.dark_mode?t.dark_mode:a.darkMode,logoUrl:t.logo_url||a.logoUrl,faviconUrl:t.favicon_url||a.faviconUrl};m(o),console.log("✅ Appearance settings loaded from database")}else m(a)}catch(e){console.error("Error loading appearance settings:",e),m(a)}try{let e=await fetch("/api/settings/notifications");if(e.ok){let t=await e.json(),o={emailNotifications:void 0!==t.email_notifications?t.email_notifications:s.emailNotifications,smsNotifications:void 0!==t.sms_notifications?t.sms_notifications:s.smsNotifications,pushNotifications:void 0!==t.push_notifications?t.push_notifications:s.pushNotifications,depositNotifications:void 0!==t.deposit_notifications?t.deposit_notifications:s.depositNotifications,withdrawNotifications:void 0!==t.withdraw_notifications?t.withdraw_notifications:s.withdrawNotifications,investmentNotifications:void 0!==t.investment_notifications?t.investment_notifications:s.investmentNotifications};f(o),console.log("✅ Notification settings loaded from database")}else f(s)}catch(e){console.error("Error loading notification settings:",e),f(s)}"undefined"!=typeof document&&(document.title=o.siteName,document.documentElement.style.setProperty("--primary-color",d.primaryColor),document.documentElement.style.setProperty("--secondary-color",d.secondaryColor),document.documentElement.style.setProperty("--accent-color",d.accentColor)),console.log("✅ All settings loaded successfully")}catch(e){console.error("Error loading settings:",e),l(r),m(a),f(s)}finally{p(!1)}},g=async()=>{await y()};return(0,i.useEffect)(()=>{y()},[]),(0,n.jsx)(c.Provider,{value:{siteSettings:o,appearanceSettings:d,notificationSettings:u,loading:h,refreshSettings:g,updateSiteSettings:e=>{l(e),document.title=e.siteName},updateAppearanceSettings:e=>{m(e),document.documentElement.style.setProperty("--primary-color",e.primaryColor),document.documentElement.style.setProperty("--secondary-color",e.secondaryColor),document.documentElement.style.setProperty("--accent-color",e.accentColor)},updateNotificationSettings:e=>{f(e)}},children:t})}function d(){let e=(0,i.useContext)(c);if(void 0===e)throw Error("useSettings must be used within a SettingsProvider");return e}},82798:function(e,t,o){"use strict";o.d(t,{ThemeProvider:function(){return r}});var n=o(57437);o(2265);var i=o(25922);function r(e){let{children:t,...o}=e;return(0,n.jsx)(i.f,{...o,children:t})}},47960:function(){},50911:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}},25922:function(e,t,o){"use strict";o.d(t,{F:function(){return d},f:function(){return m}});var n=o(2265),i=(e,t,o,n,i,r,a,s)=>{let c=document.documentElement,l=["light","dark"];function d(t){(Array.isArray(e)?e:[e]).forEach(e=>{let o="class"===e,n=o&&r?i.map(e=>r[e]||e):i;o?(c.classList.remove(...n),c.classList.add(r&&r[t]?r[t]:t)):c.setAttribute(e,t)}),s&&l.includes(t)&&(c.style.colorScheme=t)}if(n)d(n);else try{let e=localStorage.getItem(t)||o,n=a&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;d(n)}catch(e){}},r=["light","dark"],a="(prefers-color-scheme: dark)",s="undefined"==typeof window,c=n.createContext(void 0),l={setTheme:e=>{},themes:[]},d=()=>{var e;return null!=(e=n.useContext(c))?e:l},m=e=>n.useContext(c)?n.createElement(n.Fragment,null,e.children):n.createElement(f,{...e}),u=["light","dark"],f=e=>{let{forcedTheme:t,disableTransitionOnChange:o=!1,enableSystem:i=!0,enableColorScheme:s=!0,storageKey:l="theme",themes:d=u,defaultTheme:m=i?"system":"light",attribute:f="data-theme",value:w,children:v,nonce:_,scriptProps:b}=e,[E,C]=n.useState(()=>p(l,m)),[N,S]=n.useState(()=>"system"===E?g():E),k=w?Object.values(w):d,P=n.useCallback(e=>{let t=e;if(!t)return;"system"===e&&i&&(t=g());let n=w?w[t]:t,a=o?y(_):null,c=document.documentElement,l=e=>{"class"===e?(c.classList.remove(...k),n&&c.classList.add(n)):e.startsWith("data-")&&(n?c.setAttribute(e,n):c.removeAttribute(e))};if(Array.isArray(f)?f.forEach(l):l(f),s){let e=r.includes(m)?m:null,o=r.includes(t)?t:e;c.style.colorScheme=o}null==a||a()},[_]),T=n.useCallback(e=>{let t="function"==typeof e?e(E):e;C(t);try{localStorage.setItem(l,t)}catch(e){}},[E]),x=n.useCallback(e=>{S(g(e)),"system"===E&&i&&!t&&P("system")},[E,t]);n.useEffect(()=>{let e=window.matchMedia(a);return e.addListener(x),x(e),()=>e.removeListener(x)},[x]),n.useEffect(()=>{let e=e=>{e.key===l&&(e.newValue?C(e.newValue):T(m))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[T]),n.useEffect(()=>{P(null!=t?t:E)},[t,E]);let A=n.useMemo(()=>({theme:E,setTheme:T,forcedTheme:t,resolvedTheme:"system"===E?N:E,themes:i?[...d,"system"]:d,systemTheme:i?N:void 0}),[E,T,t,N,i,d]);return n.createElement(c.Provider,{value:A},n.createElement(h,{forcedTheme:t,storageKey:l,attribute:f,enableSystem:i,enableColorScheme:s,defaultTheme:m,value:w,themes:d,nonce:_,scriptProps:b}),v)},h=n.memo(e=>{let{forcedTheme:t,storageKey:o,attribute:r,enableSystem:a,enableColorScheme:s,defaultTheme:c,value:l,themes:d,nonce:m,scriptProps:u}=e,f=JSON.stringify([r,o,c,t,d,l,a,s]).slice(1,-1);return n.createElement("script",{...u,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?m:"",dangerouslySetInnerHTML:{__html:"(".concat(i.toString(),")(").concat(f,")")}})}),p=(e,t)=>{let o;if(!s){try{o=localStorage.getItem(e)||void 0}catch(e){}return o||t}},y=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},g=e=>(e||(e=window.matchMedia(a)),e.matches?"dark":"light")}},function(e){e.O(0,[3587,5566,1133,2971,2117,1744],function(){return e(e.s=19225)}),_N_E=e.O()}]);