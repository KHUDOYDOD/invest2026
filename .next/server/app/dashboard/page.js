(()=>{var e={};e.id=7702,e.ids=[7702],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},48056:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>o}),s(33063),s(89045),s(93678),s(90996);var a=s(30170),r=s(45002),l=s(83876),i=s.n(l),n=s(66299),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let o=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,33063)),"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\dashboard\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,89045)),"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,93678)),"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\dashboard\\page.tsx"],x="/dashboard/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},25479:(e,t,s)=>{Promise.resolve().then(s.bind(s,62243))},62243:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>B});var a=s(97247),r=s(28964),l=s(67699),i=s(41188),n=s(86294),d=s(58053),o=s(70170),c=s(22394),x=s(27757),m=s(14779),u=s(2502),h=s(88964),b=s(17818),p=s(68918),g=s(79438),f=s(67573),j=s(74747),v=s(17712),w=s(8749),N=s(93587),y=s(47358),k=s(26689),D=s(97792);let C=[{id:"card",name:"Банковская карта",description:"Visa, MasterCard, Мир",icon:a.jsx(p.Z,{className:"h-6 w-6"}),fee:"0%",time:"1-5 минут",popular:!0,gradient:"from-blue-500 to-indigo-600",bgGradient:"from-blue-500/10 to-indigo-600/10",details:{card_number:"4444 5555 6666 7777",holder_name:"IVAN PETROV",bank_name:"Сбербанк",instructions:"Переведите указанную сумму на карту. Средства зачислятся после подтверждения администратором."}},{id:"sbp",name:"Система быстрых платежей",description:"СБП Сбербанк",icon:a.jsx(g.Z,{className:"h-6 w-6"}),fee:"0%",time:"Мгновенно",popular:!0,gradient:"from-emerald-500 to-green-600",bgGradient:"from-emerald-500/10 to-green-600/10",details:{phone:"+7 922 123 45 67",bank_name:"Сбербанк",instructions:"Переведите через СБП на указанный номер телефона. Укажите в комментарии ваш email."}},{id:"usdt_trc20",name:"USDT TRC-20",description:"Tether USDT TRC-20",icon:a.jsx(f.Z,{className:"h-6 w-6"}),fee:"0%",time:"5-15 минут",popular:!1,gradient:"from-amber-500 to-orange-500",bgGradient:"from-amber-500/10 to-orange-500/10",details:{address:"TQn9Y2khEsLJW1ChVWFMSMeRDow5KcbLSE",network:"TRON (TRC-20)",currency:"USDT",instructions:"Отправьте USDT только в сети TRC-20! Отправка в другой сети приведет к потере средств."}}],E=[50,100,250,500,1e3,2500];function Z({onDeposit:e}){let[t,s]=(0,r.useState)(""),[l,i]=(0,r.useState)(null),[n,p]=(0,r.useState)(1),[g,f]=(0,r.useState)(!1),[Z,_]=(0,r.useState)(!1),S=e=>{s(e)},T=()=>{if(1===n&&(""===t||0>=Number(t))){b.Am.error("Пожалуйста, введите сумму пополнения");return}if(1===n&&50>Number(t)){b.Am.error("Минимальная сумма пополнения: $50");return}if(2===n&&!l){b.Am.error("Пожалуйста, выберите способ оплаты");return}n<3?p(n+1):R()},z=()=>{n>1&&p(n-1)},R=async()=>{if(""===t||0>=Number(t)){b.Am.error("Пожалуйста, введите корректную сумму");return}if(!l){b.Am.error("Пожалуйста, выберите способ оплаты");return}f(!0);try{let a=C.find(e=>e.id===l);console.log("\uD83D\uDE80 Creating deposit request...");let r=localStorage.getItem("authToken");if(!r)throw Error("Не авторизован");let n=await fetch("/api/deposit-requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({amount:Number(t),method:a?.name||l,wallet_address:a?.details?.address||a?.details?.card_number||a?.details?.phone||"",network:a?.details?.network||"",payment_details:a?.details})}),d=await n.json();if(!n.ok)throw Error(d.error||"Ошибка создания запроса");console.log("✅ Deposit request created:",d),_(!0),b.Am.success(`Заявка на пополнение $${t} создана!`,{description:"Ожидает подтверждения администратора"}),e&&e(Number(t),a?.name||l,a?.details),setTimeout(()=>{s(""),i(null),p(1),_(!1)},3e3)}catch(e){console.error("❌ Deposit error:",e),b.Am.error(e instanceof Error?e.message:"Произошла ошибка при обработке платежа")}finally{f(!1)}},$=e=>{navigator.clipboard.writeText(e),b.Am.success("Скопировано в буфер обмена")},M=()=>C.find(e=>e.id===l);return Z?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-10 text-center animate-fade-in",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mb-4 animate-scale-in",children:a.jsx(j.Z,{className:"h-8 w-8 text-green-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Заявка создана!"}),(0,a.jsxs)("p",{className:"text-blue-200 mb-4",children:["Заявка на пополнение на сумму $",t," отправлена на рассмотрение"]}),(0,a.jsxs)(u.bZ,{className:"bg-blue-500/20 border-blue-500/30 text-blue-200 mb-4",children:[a.jsx(v.Z,{className:"h-4 w-4"}),a.jsx(u.X,{children:"Средства будут зачислены на баланс после подтверждения администратором"})]})]}):g?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-10 text-center animate-fade-in",children:[(0,a.jsxs)("div",{className:"relative mb-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-blue-200/30 border-t-blue-500 animate-spin"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(w.Z,{className:"h-6 w-6 text-blue-400"})})]}),a.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Создание заявки"}),a.jsx("p",{className:"text-blue-200 mb-6",children:"Пожалуйста, подождите..."})]}):(0,a.jsxs)(x.Zb,{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 border border-white/10 shadow-xl overflow-hidden backdrop-blur-sm",children:[a.jsx(x.Ol,{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border-b border-white/10",children:(0,a.jsxs)(x.ll,{className:"text-white flex items-center",children:[a.jsx(N.Z,{className:"h-5 w-5 mr-2 text-blue-400"}),"Пополнение счета"]})}),a.jsx(x.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between mb-6",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${n===e?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":n>e?"bg-green-500/20 text-green-400":"bg-white/10 text-white/50"}`,children:n>e?a.jsx(j.Z,{className:"h-5 w-5"}):e}),a.jsx("span",{className:`text-xs mt-2 transition-colors duration-300 ${n===e?"text-white":n>e?"text-green-400":"text-white/50"}`,children:1===e?"Сумма":2===e?"Способ":"Подтверждение"})]},e))}),1===n&&(0,a.jsxs)("div",{className:"space-y-6 animate-slide-in",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(c._,{htmlFor:"amount",className:"text-white",children:"Сумма пополнения (USD)"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(N.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/50"}),a.jsx(o.I,{id:"amount",type:"number",value:t,onChange:e=>{let t=e.target.value;if(""===t)s("");else{let e=Number.parseFloat(t);!isNaN(e)&&e>=0&&s(e)}},placeholder:"Введите сумму",min:"50",className:"pl-10 bg-white/10 border-white/20 text-white placeholder:text-white/50 focus:border-blue-400"})]}),a.jsx("p",{className:"text-white/60 text-sm",children:"Минимальная сумма: $50"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(c._,{className:"text-white",children:"Быстрый выбор"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:E.map(e=>(0,a.jsxs)(d.z,{type:"button",variant:"outline",onClick:()=>S(e),className:`border-white/20 transition-all duration-200 ${t===e?"bg-gradient-to-r from-blue-500/30 to-purple-500/30 border-blue-400":"bg-white/5 hover:bg-white/10 text-white"}`,children:["$",e]},e))})]}),a.jsx("div",{className:"pt-4",children:(0,a.jsxs)(d.z,{onClick:T,disabled:""===t||50>Number(t),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white transition-all duration-200",children:["Продолжить",a.jsx(y.Z,{className:"ml-2 h-4 w-4"})]})})]}),2===n&&(0,a.jsxs)("div",{className:"space-y-6 animate-slide-in",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(c._,{className:"text-white",children:"Выберите способ пополнения"}),a.jsx(m.E,{value:l||"",onValueChange:i,children:a.jsx("div",{className:"space-y-3",children:C.map(e=>(0,a.jsxs)("div",{className:`cursor-pointer rounded-lg border p-4 transition-all duration-200 hover:scale-[1.02] ${l===e.id?`bg-gradient-to-br ${e.bgGradient} border-blue-400`:"bg-white/5 border-white/20 hover:bg-white/10"}`,children:[a.jsx(m.m,{value:e.id,id:e.id,className:"sr-only"}),a.jsx(c._,{htmlFor:e.id,className:"cursor-pointer",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-full bg-gradient-to-r ${e.gradient} text-white`,children:e.icon}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("h4",{className:"font-medium text-white",children:e.name}),e.popular&&a.jsx(h.C,{className:"ml-2 bg-green-500/20 text-green-300 border border-green-500/30 px-2 py-1 text-xs",children:"Популярно"})]}),a.jsx("p",{className:"text-sm text-white/70",children:e.description})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-sm text-white/70",children:["Комиссия: ",e.fee]}),(0,a.jsxs)("div",{className:"text-xs text-white/60",children:["Время: ",e.time]})]})]})})]},e.id))})})]}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-4",children:[a.jsx(d.z,{onClick:z,variant:"outline",className:"flex-1 border-white/20 text-white hover:bg-white/10",children:"Назад"}),(0,a.jsxs)(d.z,{onClick:T,disabled:!l,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:["Показать реквизиты",a.jsx(y.Z,{className:"ml-2 h-4 w-4"})]})]})]}),3===n&&l&&a.jsx("div",{className:"space-y-6 animate-slide-in",children:(()=>{let e=M();return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Реквизиты для пополнения"}),a.jsx(x.Zb,{className:"bg-white/10 border-white/20",children:(0,a.jsxs)(x.aY,{className:"p-6 space-y-4",children:["card"===e.id&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 p-4 rounded-lg text-white",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm opacity-80",children:"Номер карты"}),a.jsx(d.z,{size:"sm",variant:"ghost",onClick:()=>$(e.details.card_number),className:"text-white hover:bg-white/20",children:a.jsx(k.Z,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"font-mono text-xl tracking-wider",children:e.details.card_number})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(c._,{className:"text-white/70",children:"Получатель"}),a.jsx("div",{className:"bg-white/10 p-3 rounded-lg",children:a.jsx("span",{className:"text-white font-medium",children:e.details.holder_name})})]}),(0,a.jsxs)("div",{children:[a.jsx(c._,{className:"text-white/70",children:"Банк"}),a.jsx("div",{className:"bg-white/10 p-3 rounded-lg",children:a.jsx("span",{className:"text-white font-medium",children:e.details.bank_name})})]})]})]}),"sbp"===e.id&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-green-700 p-4 rounded-lg text-white",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm opacity-80",children:"Номер телефона"}),a.jsx(d.z,{size:"sm",variant:"ghost",onClick:()=>$(e.details.phone),className:"text-white hover:bg-white/20",children:a.jsx(k.Z,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"font-mono text-xl",children:e.details.phone})]}),(0,a.jsxs)("div",{children:[a.jsx(c._,{className:"text-white/70",children:"Банк получателя"}),a.jsx("div",{className:"bg-white/10 p-3 rounded-lg",children:a.jsx("span",{className:"text-white font-medium",children:e.details.bank_name})})]})]}),"usdt_trc20"===e.id&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-orange-600 to-yellow-600 p-4 rounded-lg text-white",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm opacity-80",children:"Адрес кошелька"}),a.jsx(d.z,{size:"sm",variant:"ghost",onClick:()=>$(e.details.address),className:"text-white hover:bg-white/20",children:a.jsx(k.Z,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"font-mono text-sm break-all",children:e.details.address})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(c._,{className:"text-white/70",children:"Сеть"}),a.jsx("div",{className:"bg-white/10 p-3 rounded-lg",children:a.jsx("span",{className:"text-white font-medium",children:e.details.network})})]}),(0,a.jsxs)("div",{children:[a.jsx(c._,{className:"text-white/70",children:"Валюта"}),a.jsx("div",{className:"bg-white/10 p-3 rounded-lg",children:a.jsx("span",{className:"text-white font-medium",children:e.details.currency})})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-blue-500/20 p-4 rounded-lg border border-blue-500/30",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-blue-200",children:"Сумма к переводу"}),a.jsx(d.z,{size:"sm",variant:"ghost",onClick:()=>$(t.toString()),className:"text-blue-200 hover:bg-blue-500/20",children:a.jsx(k.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-white",children:["$",t]})]}),(0,a.jsxs)(u.bZ,{className:"bg-yellow-500/20 border-yellow-500/30 text-yellow-200",children:[a.jsx(D.Z,{className:"h-4 w-4"}),(0,a.jsxs)(u.X,{children:[a.jsx("strong",{children:"Важно:"})," ",e.details.instructions]})]})]})]})})]}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-4",children:[a.jsx(d.z,{onClick:z,variant:"outline",className:"flex-1 border-white/20 text-white hover:bg-white/10",children:"Назад"}),a.jsx(d.z,{onClick:R,disabled:g,className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white",children:g?(0,a.jsxs)(a.Fragment,{children:[a.jsx(w.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Создание заявки..."]}):"Отправить заявку на пополнение"})]})]}):null})()})]})})]})}var _=s(77455),S=s(84719),T=s(32978);let z=(0,s(26323).Z)("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);var R=s(57989),$=s(35216),M=s(5271),A=s(28339),I=s(20290),P=s(60961),F=s(62752),L=s(74022),U=s(82522),q=s(9527),V=s(79906),H=s(34178);function O(){let[e,t]=(0,r.useState)(new Date),[s,l]=(0,r.useState)(null),[o,c]=(0,r.useState)([]),[m,u]=(0,r.useState)([]),[g,f]=(0,r.useState)(!0),[j,w]=(0,r.useState)(null),[N,y]=(0,r.useState)(!1),[k,C]=(0,r.useState)(null),[E,O]=(0,r.useState)(!1),[B,G]=(0,r.useState)({}),{playInvestmentNotification:Y,playDepositNotification:J,playErrorNotification:W}=function(){let[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1),l=(0,r.useRef)(null),i=(0,r.useRef)([]),n=(0,r.useCallback)(async e=>{if(!s){console.log("Audio not supported or disabled");return}try{t(!0);let s=await fetch("/api/voice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();if(a.success&&a.audioUrl){l.current&&(l.current.pause(),l.current=null);let s=new Audio(a.audioUrl);l.current=s,s.onended=()=>{t(!1),d()},s.onerror=()=>{console.error("Audio playback error"),t(!1),d()},await s.play(),console.log("✅ Voice notification played:",e.type)}else t(!1),console.log("Voice notification not available")}catch(e){console.error("Error playing voice notification:",e),t(!1)}},[s]),d=(0,r.useCallback)(()=>{if(i.current.length>0&&!e){let e=i.current.shift();e&&n(e)}},[e,n]),o=(0,r.useCallback)(t=>{e?i.current.push(t):n(t)},[e,n]),c=(0,r.useCallback)(()=>{l.current&&(l.current.pause(),l.current=null),i.current=[],t(!1)},[]),x=(0,r.useCallback)((e,t)=>{o({type:"deposit",message:t||"Средства успешно зачислены",amount:e})},[o]),m=(0,r.useCallback)((e,t)=>{o({type:"withdrawal",message:t||"Запрос на вывод обрабатывается",amount:e})},[o]),u=(0,r.useCallback)((e,t,s)=>{o({type:"investment",message:s||"Инвестиция создана успешно",amount:e,planName:t})},[o]),h=(0,r.useCallback)(e=>{o({type:"success",message:e})},[o]),b=(0,r.useCallback)(e=>{o({type:"error",message:e})},[o]);return{isPlaying:e,audioEnabled:s,playVoiceNotification:o,stopVoiceNotification:c,playDepositNotification:x,playWithdrawalNotification:m,playInvestmentNotification:u,playSuccessNotification:h,playErrorNotification:b}}(),[X,K]=(0,r.useState)([]);(0,H.useRouter)();let Q=e=>({RU:"Россия",US:"США",GB:"Великобритания",DE:"Германия",FR:"Франция",IT:"Италия",ES:"Испания",CA:"Канада",AU:"Австралия",JP:"Япония",KR:"Южная Корея",CN:"Китай",IN:"Индия",BR:"Бразилия",MX:"Мексика",UA:"Украина",BY:"Беларусь",KZ:"Казахстан",UZ:"Узбекистан",PL:"Польша",TR:"Турция"})[e]||e,ee=async()=>{try{f(!0),w(null);let e=localStorage.getItem("authToken"),t=localStorage.getItem("userId");if(!e||!t)throw Error("Пользователь не авторизован");let s=`dashboard_${t}`,a=localStorage.getItem(s),r=localStorage.getItem(`${s}_time`);if(a&&r&&Date.now()-parseInt(r)<6e4){let e=JSON.parse(a),t={...e.user,name:e.user.full_name||e.user.email,totalInvested:e.user.total_invested||0,totalProfit:e.user.total_earned||0,referralCount:0,isAdmin:"admin"===e.user.role||"super_admin"===e.user.role};l(t),c(e.investments||[]),u(e.transactions||[]),f(!1);return}console.log("Dashboard: Fetching fresh data...");let i=await fetch(`/api/dashboard/all?userId=${t}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!i.ok){if(401===i.status){console.log("❌ Токен недействителен, перенаправляем на логин"),localStorage.clear(),window.location.href="/login";return}if(500===i.status){let e=await i.json().catch(()=>({}));throw console.error("❌ Ошибка сервера:",e),Error(e.error||`Ошибка сервера ${i.status}`)}throw Error(`Ошибка ${i.status}: ${i.statusText}`)}let n=await i.json();localStorage.setItem(s,JSON.stringify(n)),localStorage.setItem(`${s}_time`,Date.now().toString());let d={...n.user,name:n.user.full_name||n.user.email,totalInvested:n.user.total_invested||0,totalProfit:n.user.total_earned||0,referralCount:0,isAdmin:"admin"===n.user.role||"super_admin"===n.user.role};l(d),c(n.investments||[]),u(n.transactions||[]),console.log("Dashboard: All data loaded successfully")}catch(e){console.error("Dashboard: Error fetching data:",e),w(e instanceof Error?e.message:"Ошибка загрузки данных")}finally{f(!1)}},et=async(e,t,s)=>{try{console.log("\uD83D\uDCB0 Handling deposit:",{amount:e,method:t});let s=localStorage.getItem("userId");s&&(localStorage.removeItem(`dashboard_${s}`),localStorage.removeItem(`dashboard_${s}_time`)),setTimeout(()=>{ee(),y(!1)},500)}catch(e){console.error("❌ Error handling deposit:",e),b.Am.error("Ошибка обработки пополнения")}},es=[{title:"Пополнить баланс",subtitle:"Отправить запрос на пополнение",icon:a.jsx(T.Z,{className:"h-6 w-6"}),color:"from-green-500 to-emerald-600",action:()=>{y(!0)},limit:"Мин. $50"},{title:"Вывод средств",subtitle:"Запросить вывод прибыли",icon:a.jsx(z,{className:"h-6 w-6"}),color:"from-red-500 to-pink-600",action:()=>{window.location.href="/dashboard/withdraw"},limit:"24/7 доступно"},{title:"Пригласить друзей",subtitle:"Получайте бонусы за рефералов",icon:a.jsx(R.Z,{className:"h-6 w-6"}),color:"from-purple-500 to-violet-600",action:()=>{window.location.href="/dashboard/referrals"},limit:"до 10%"},{title:"Новая инвестиция",subtitle:"Выберите план инвестирования",icon:a.jsx($.Z,{className:"h-6 w-6"}),color:"from-orange-500 to-amber-600",action:()=>{window.location.href="/dashboard/investments"},limit:"От $100"},{title:"Мой профиль",subtitle:"Управление личными данными",icon:a.jsx(M.Z,{className:"h-6 w-6"}),color:"from-blue-500 to-cyan-600",action:()=>{window.location.href="/dashboard/profile"},limit:"Персонализация"},...s?.isAdmin?[{title:"Администратор",subtitle:"Панель управления сайтом",icon:a.jsx(D.Z,{className:"h-6 w-6"}),color:"from-red-600 to-rose-700",action:()=>{window.location.href="/admin/dashboard"},limit:"Только админ"}]:[]];return g?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(A.Z,{className:"h-16 w-16 animate-spin text-blue-500 mx-auto mb-4"}),a.jsx("div",{className:"absolute inset-0 h-16 w-16 rounded-full border-t-2 border-blue-500 animate-ping opacity-20"})]}),a.jsx("p",{className:"text-white text-lg mt-4 font-light",children:"Загрузка данных из базы..."})]})}):j?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:(0,a.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[a.jsx(I.Z,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Ошибка загрузки"}),a.jsx("p",{className:"text-red-200 mb-6",children:j}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(d.z,{onClick:ee,className:"bg-blue-600 hover:bg-blue-700 w-full",children:[a.jsx(A.Z,{className:"mr-2 h-4 w-4"}),"Попробовать снова"]}),a.jsx(d.z,{onClick:()=>{localStorage.clear(),window.location.href="/login"},variant:"outline",className:"border-white/20 text-white hover:bg-white/10 w-full",children:"Войти заново"})]})]})}):s?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-indigo-500/5 rounded-full blur-3xl animate-pulse delay-2000"})]}),a.jsx(i.x,{}),(0,a.jsxs)("div",{className:"flex relative z-10",children:[a.jsx(n.T,{activeItem:"dashboard"}),a.jsx("main",{className:"flex-1 p-4 md:p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsx(S.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative",children:(0,a.jsxs)("div",{className:"relative bg-gradient-to-r from-blue-600/20 via-purple-600/20 to-pink-600/20 backdrop-blur-2xl rounded-3xl p-8 border border-white/20 shadow-2xl overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-40 h-40 bg-blue-500/30 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-purple-500/30 rounded-full blur-3xl animate-pulse delay-1000"}),(0,a.jsxs)("div",{className:"relative z-10 text-center space-y-4",children:[(0,a.jsxs)(S.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"inline-flex items-center space-x-3 bg-white/90 backdrop-blur-xl rounded-full px-8 py-4 border-4 border-black shadow-2xl hover:bg-white hover:scale-105 transition-all duration-300",children:[a.jsx(S.E.span,{animate:{rotate:[0,14,-8,14,-4,10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"text-3xl",children:"\uD83D\uDC4B"}),(0,a.jsxs)("span",{className:"text-black font-bold text-lg",children:["Добро пожаловать, ",s.name,"!"]}),a.jsx(S.E.span,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"text-3xl",children:"\uD83D\uDCBC"})]}),a.jsx(S.E.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-5xl md:text-7xl font-black bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent mb-4",children:"Личный кабинет"}),a.jsx(S.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-blue-100 max-w-2xl mx-auto text-xl font-medium",children:"Управляйте своими инвестициями и следите за доходностью в реальном времени"}),(0,a.jsxs)(S.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5},className:"flex items-center justify-center space-x-3 bg-white/10 backdrop-blur-sm rounded-full px-6 py-3 border border-white/20 inline-flex",children:[a.jsx(v.Z,{className:"h-6 w-6 text-cyan-400 animate-pulse"}),a.jsx("span",{className:"font-mono text-2xl font-bold text-white",children:e.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]})]})]})}),a.jsx(S.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex justify-center",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl w-full",children:[a.jsx(S.E.div,{whileHover:{scale:1.05,y:-10},transition:{type:"spring",stiffness:300},children:(0,a.jsxs)(x.Zb,{className:"bg-white/95 backdrop-blur-xl border-4 border-green-500 shadow-2xl relative overflow-hidden group hover:shadow-green-500/50 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-green-400/20 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),(0,a.jsxs)(x.aY,{className:"p-6 relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-green-600 text-sm font-bold",children:"\uD83D\uDCB0 Реальный баланс"}),a.jsx("p",{className:"text-gray-600 text-xs",children:"Доступные средства"})]}),a.jsx(S.E.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0},className:"p-4 bg-green-100 rounded-2xl shadow-lg",children:a.jsx(P.Z,{className:"h-8 w-8 text-green-600"})})]}),(0,a.jsxs)(S.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.3},className:"text-4xl font-black text-green-600 mb-3",children:["$",Number(s.balance||0).toLocaleString(),".00"]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center text-gray-600 text-sm font-medium",children:[a.jsx(F.Z,{className:"h-4 w-4 mr-1 text-green-600"}),a.jsx("span",{children:"Доступно"})]}),a.jsx("div",{className:"bg-green-100 px-3 py-1 rounded-full",children:a.jsx("span",{className:"text-green-600 text-xs font-bold",children:"100%"})})]})]})]})}),a.jsx(S.E.div,{whileHover:{scale:1.05,y:-10},transition:{type:"spring",stiffness:300},children:(0,a.jsxs)(x.Zb,{className:"bg-white/95 backdrop-blur-xl border-4 border-blue-500 shadow-2xl relative overflow-hidden group hover:shadow-blue-500/50 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-blue-400/20 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),(0,a.jsxs)(x.aY,{className:"p-6 relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-blue-600 text-sm font-bold",children:"\uD83D\uDCC8 Инвестировано"}),a.jsx("p",{className:"text-gray-600 text-xs",children:"Работающий капитал"})]}),a.jsx(S.E.div,{animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0},className:"p-4 bg-blue-100 rounded-2xl shadow-lg",children:a.jsx(L.Z,{className:"h-8 w-8 text-blue-600"})})]}),(0,a.jsxs)(S.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.4},className:"text-4xl font-black text-blue-600 mb-3",children:["$",Number(s.totalInvested||0).toLocaleString(),".00"]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center text-gray-600 text-sm font-medium",children:[a.jsx($.Z,{className:"h-4 w-4 mr-1 text-blue-600"}),a.jsx("span",{children:"Активно"})]}),a.jsx("div",{className:"bg-blue-100 px-3 py-1 rounded-full",children:(0,a.jsxs)("span",{className:"text-blue-600 text-xs font-bold",children:["+",o.length]})})]})]})]})}),a.jsx(S.E.div,{whileHover:{scale:1.05,y:-10},transition:{type:"spring",stiffness:300},children:(0,a.jsxs)(x.Zb,{className:"bg-white/95 backdrop-blur-xl border-4 border-purple-500 shadow-2xl relative overflow-hidden group hover:shadow-purple-500/50 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-purple-400/20 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),(0,a.jsxs)(x.aY,{className:"p-6 relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-purple-600 text-sm font-bold",children:"\uD83D\uDC8E Прибыль"}),a.jsx("p",{className:"text-gray-600 text-xs",children:"Общая прибыль"})]}),a.jsx(S.E.div,{animate:{rotate:[0,360]},transition:{duration:4,repeat:1/0,ease:"linear"},className:"p-4 bg-purple-100 rounded-2xl shadow-lg",children:a.jsx($.Z,{className:"h-8 w-8 text-purple-600"})})]}),(0,a.jsxs)(S.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.5},className:"text-4xl font-black text-purple-600 mb-3",children:["$",Number(s.totalProfit||0).toLocaleString(),".00"]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center text-gray-600 text-sm font-medium",children:[a.jsx(L.Z,{className:"h-4 w-4 mr-1 text-purple-600"}),a.jsx("span",{children:"Заработано"})]}),a.jsx("div",{className:"bg-purple-100 px-3 py-1 rounded-full",children:a.jsx("span",{className:"text-purple-600 text-xs font-bold",children:"↑ ROI"})})]})]})]})}),a.jsx(S.E.div,{whileHover:{scale:1.05,y:-10},transition:{type:"spring",stiffness:300},children:(0,a.jsxs)(x.Zb,{className:"bg-white/95 backdrop-blur-xl border-4 border-orange-500 shadow-2xl relative overflow-hidden group hover:shadow-orange-500/50 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-400/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-orange-400/20 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),(0,a.jsxs)(x.aY,{className:"p-6 relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-orange-600 text-sm font-bold",children:"\uD83D\uDC65 Друзья"}),a.jsx("p",{className:"text-gray-600 text-xs",children:"Приглашенные друзья"})]}),a.jsx(S.E.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"p-4 bg-orange-100 rounded-2xl shadow-lg",children:a.jsx(R.Z,{className:"h-8 w-8 text-orange-600"})})]}),a.jsx(S.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.6},className:"text-4xl font-black text-orange-600 mb-3",children:s.referralCount||0}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center text-gray-600 text-sm font-medium",children:[a.jsx(R.Z,{className:"h-4 w-4 mr-1 text-orange-600"}),a.jsx("span",{children:"Рефералов"})]}),a.jsx("div",{className:"bg-orange-100 px-3 py-1 rounded-full",children:a.jsx("span",{className:"text-orange-600 text-xs font-bold",children:"10%"})})]})]})]})})]})}),(0,a.jsxs)(S.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)(S.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"inline-flex items-center space-x-2 bg-white/90 backdrop-blur-xl rounded-full px-6 py-3 border-4 border-black shadow-2xl mb-4 hover:bg-white hover:scale-105 transition-all duration-300",children:[a.jsx("span",{className:"text-2xl",children:"⚡"}),a.jsx("h2",{className:"text-xl font-bold text-black",children:"Быстрые действия"})]}),a.jsx("p",{className:"text-blue-200 text-base",children:"Управляйте своим портфелем одним кликом"})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 max-w-7xl",children:es.map((e,t)=>{let s=["border-green-500 hover:shadow-green-500/50","border-red-500 hover:shadow-red-500/50","border-purple-500 hover:shadow-purple-500/50","border-orange-500 hover:shadow-orange-500/50","border-blue-500 hover:shadow-blue-500/50","border-rose-600 hover:shadow-rose-600/50"],r=["text-green-600 bg-green-100","text-red-600 bg-red-100","text-purple-600 bg-purple-100","text-orange-600 bg-orange-100","text-blue-600 bg-blue-100","text-rose-600 bg-rose-100"],l=["text-green-600","text-red-600","text-purple-600","text-orange-600","text-blue-600","text-rose-600"];return(0,a.jsxs)(S.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5+.1*t},whileHover:{scale:1.1,y:-10},whileTap:{scale:.95},onClick:e.action,className:`relative bg-white/95 backdrop-blur-xl p-6 rounded-3xl text-center cursor-pointer shadow-2xl transition-all duration-500 border-4 ${s[t]} overflow-hidden group`,children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-100/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx("div",{className:"absolute -top-10 -right-10 w-24 h-24 bg-gray-200/30 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),a.jsx(S.E.div,{animate:{y:[0,-5,0],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,delay:.2*t},className:"mb-4 flex justify-center relative z-10",children:a.jsx("div",{className:`p-4 ${r[t]} rounded-2xl shadow-lg group-hover:scale-110 transition-transform`,children:e.icon})}),(0,a.jsxs)("div",{className:"relative z-10",children:[a.jsx("h3",{className:`${l[t]} font-bold text-base mb-2 group-hover:scale-110 transition-transform`,children:e.title}),a.jsx("p",{className:"text-gray-600 text-xs mb-3 leading-relaxed font-medium",children:e.subtitle}),a.jsx("div",{className:`${r[t]} rounded-full px-4 py-2 border-2 ${s[t].split(" ")[0]}`,children:a.jsx("p",{className:`${l[t]} font-bold text-xs`,children:e.limit})})]}),a.jsx("div",{className:"absolute inset-0 border-2 border-black/0 group-hover:border-black/20 rounded-3xl transition-all duration-500"})]},t)})})})]}),N&&(0,a.jsxs)(S.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl rounded-2xl p-6 border border-white/20",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Запрос на пополнение"}),a.jsx(d.z,{variant:"ghost",size:"sm",onClick:()=>y(!1),className:"text-white hover:bg-white/10",children:"✕"})]}),a.jsx(Z,{onDeposit:et})]}),(0,a.jsxs)(S.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"relative bg-gradient-to-br from-blue-600/20 via-purple-600/20 to-pink-600/20 backdrop-blur-2xl rounded-3xl p-8 border-2 border-white/20 shadow-2xl overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/20 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-purple-500/20 rounded-full blur-3xl animate-pulse delay-1000"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(S.E.div,{animate:{rotate:[0,360]},transition:{duration:10,repeat:1/0,ease:"linear"},className:"p-4 bg-gradient-to-br from-blue-500/30 to-purple-500/30 rounded-2xl shadow-lg border border-white/20",children:a.jsx($.Z,{className:"h-8 w-8 text-blue-300"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-white mb-1",children:"\uD83D\uDCCA Активные инвестиции"}),a.jsx("p",{className:"text-blue-200 text-sm",children:"Ваш портфель работает на вас"})]})]}),a.jsx(V.default,{href:"/dashboard/investments",children:a.jsx(S.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsx(d.z,{variant:"outline",size:"lg",className:"border-2 border-white/30 text-white hover:bg-white/20 backdrop-blur-sm font-bold",children:"Все инвестиции →"})})})]}),o.length>0?a.jsx("div",{className:"space-y-6",children:o.map((e,t)=>(0,a.jsxs)(S.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7+.1*t},whileHover:{scale:1.02,x:10},className:"relative bg-gradient-to-r from-white/10 to-white/5 backdrop-blur-xl rounded-2xl p-8 border-2 border-white/20 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-purple-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-blue-500/20 rounded-full blur-3xl group-hover:scale-150 transition-transform duration-700"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500/30 to-purple-500/30 rounded-xl",children:a.jsx(L.Z,{className:"h-6 w-6 text-blue-300"})}),a.jsx("h3",{className:"text-white font-bold text-xl",children:e.investment_plans?.name||"План инвестирования"})]}),a.jsx(S.E.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:a.jsx(h.C,{className:"bg-gradient-to-r from-green-500/30 to-emerald-500/30 text-green-300 border-2 border-green-400/50 px-4 py-2 text-sm font-bold",children:"✓ Активно"})})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-orange-500/20 via-red-500/20 to-pink-500/20 backdrop-blur-xl border-2 border-orange-400/30 rounded-2xl p-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[a.jsx(v.Z,{className:"h-5 w-5 text-orange-400 animate-pulse"}),a.jsx("h4",{className:"text-white font-bold text-lg",children:"⏰ Обратный отсчет до завершения"})]}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:(()=>{let t=new Date(e.end_date),s=new Date,r=t.getTime()-s.getTime();return r>0?[{label:"Дней",value:Math.floor(r/864e5),icon:"\uD83D\uDCC5"},{label:"Часов",value:Math.floor(r%864e5/36e5),icon:"⏰"},{label:"Минут",value:Math.floor(r%36e5/6e4),icon:"⏱️"},{label:"Секунд",value:Math.floor(r%6e4/1e3),icon:"⚡"}].map((e,t)=>(0,a.jsxs)(S.E.div,{animate:{scale:"Секунд"===e.label?[1,1.05,1]:1},transition:{duration:1,repeat:1/0},className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center border border-white/20",children:[a.jsx("div",{className:"text-3xl mb-1",children:e.icon}),a.jsx("div",{className:"text-3xl font-black text-white mb-1 tabular-nums",children:String(e.value).padStart(2,"0")}),a.jsx("div",{className:"text-xs text-gray-300 font-medium",children:e.label})]},t)):a.jsx("div",{className:"col-span-4 text-center text-white font-bold text-xl",children:"✅ Завершено"})})()})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-xl p-4 border border-blue-500/30",children:[(0,a.jsxs)("p",{className:"text-blue-200 text-xs mb-2 font-medium flex items-center",children:[a.jsx("span",{className:"mr-1",children:"\uD83D\uDCB0"})," Инвестировано"]}),(0,a.jsxs)("p",{className:"text-white font-black text-xl",children:["$",Number(e.amount).toLocaleString()]}),a.jsx("p",{className:"text-blue-300 text-xs mt-1",children:"Основная сумма"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-500/20 to-emerald-500/20 rounded-xl p-4 border border-green-500/30",children:[(0,a.jsxs)("p",{className:"text-green-200 text-xs mb-2 font-medium flex items-center",children:[a.jsx("span",{className:"mr-1",children:"\uD83D\uDCC8"})," Ежедневно"]}),(0,a.jsxs)("p",{className:"text-green-300 font-black text-xl",children:["$",Number(e.daily_profit).toFixed(2)]}),(0,a.jsxs)("p",{className:"text-green-300 text-xs mt-1",children:["+",(Number(e.daily_profit)/Number(e.amount)*100).toFixed(2),"% в день"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-xl p-4 border border-purple-500/30",children:[(0,a.jsxs)("p",{className:"text-purple-200 text-xs mb-2 font-medium flex items-center",children:[a.jsx("span",{className:"mr-1",children:"\uD83D\uDC8E"})," Заработано"]}),(0,a.jsxs)("p",{className:"text-purple-300 font-black text-xl",children:["$",(()=>{let t=new Date(e.start_date),s=new Date,a=new Date(e.end_date);if(s<t)return"0.00";let r=Math.floor((s.getTime()-t.getTime())/864e5),l=Math.ceil((a.getTime()-t.getTime())/864e5);return(Number(e.daily_profit)*Math.min(r,l)).toFixed(2)})()]}),(0,a.jsxs)("p",{className:"text-purple-300 text-xs mt-1",children:["+",(()=>{let t=new Date(e.start_date),s=new Date,a=new Date(e.end_date);if(s<t)return"0.0";let r=Math.floor((s.getTime()-t.getTime())/864e5),l=Math.ceil((a.getTime()-t.getTime())/864e5);return(Number(e.daily_profit)*Math.min(r,l)/Number(e.amount)*100).toFixed(1)})(),"% ROI"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 rounded-xl p-4 border border-yellow-500/30",children:[(0,a.jsxs)("p",{className:"text-yellow-200 text-xs mb-2 font-medium flex items-center",children:[a.jsx("span",{className:"mr-1",children:"\uD83C\uDFAF"})," Ожидается"]}),(0,a.jsxs)("p",{className:"text-yellow-300 font-black text-xl",children:["$",(()=>{let t=new Date(e.start_date),s=Math.ceil((new Date(e.end_date).getTime()-t.getTime())/864e5);return(Number(e.daily_profit)*s).toFixed(2)})()]}),a.jsx("p",{className:"text-yellow-300 text-xs mt-1",children:"К концу срока"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-red-500/20 to-pink-500/20 rounded-xl p-4 border border-red-500/30",children:[(0,a.jsxs)("p",{className:"text-red-200 text-xs mb-2 font-medium flex items-center",children:[a.jsx("span",{className:"mr-1",children:"⚡"})," Осталось"]}),a.jsx("p",{className:"text-red-300 font-black text-xl",children:(()=>{let t=Math.ceil((new Date(e.end_date).getTime()-new Date().getTime())/864e5);return t>0?t:0})()}),(0,a.jsxs)("p",{className:"text-red-300 text-xs mt-1",children:["из ",Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/864e5)," дней"]})]})]}),a.jsx("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10 mb-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-white/60 text-xs mb-1",children:"\uD83D\uDCC5 Дата начала"}),a.jsx("p",{className:"text-white font-semibold",children:new Date(e.start_date).toLocaleDateString("ru-RU")})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-white/60 text-xs mb-1",children:"\uD83C\uDFC1 Дата окончания"}),a.jsx("p",{className:"text-white font-semibold",children:new Date(e.end_date).toLocaleDateString("ru-RU")})]})]})}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-xl p-4 border border-white/10",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("span",{className:"text-white/80 font-medium",children:"\uD83D\uDCCA Прогресс инвестиции"}),(0,a.jsxs)("span",{className:"text-white font-bold text-lg",children:[Math.round((new Date().getTime()-new Date(e.start_date).getTime())/(new Date(e.end_date).getTime()-new Date(e.start_date).getTime())*100),"%"]})]}),a.jsx("div",{className:"relative h-4 bg-white/10 rounded-full overflow-hidden",children:a.jsx(S.E.div,{initial:{width:0},animate:{width:`${Math.round((new Date().getTime()-new Date(e.start_date).getTime())/(new Date(e.end_date).getTime()-new Date(e.start_date).getTime())*100)}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-full relative",children:a.jsx("div",{className:"absolute inset-0 bg-white/30 animate-pulse"})})})]})]})]},e.id))}):(0,a.jsxs)(S.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-2xl p-12 border-2 border-white/20 text-center",children:[a.jsx(S.E.div,{animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0},className:"text-6xl mb-6",children:"\uD83D\uDCCA"}),a.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Начните инвестировать сегодня!"}),a.jsx("p",{className:"text-white/70 mb-6 text-lg",children:"У вас пока нет активных инвестиций"}),a.jsx(V.default,{href:"/dashboard/investments",children:a.jsx(S.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsx(d.z,{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white font-bold text-lg px-8 py-6 rounded-xl shadow-2xl",children:"\uD83D\uDE80 Начать инвестировать"})})})]})]})]}),(0,a.jsxs)(S.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"relative bg-gradient-to-br from-green-600/20 via-emerald-600/20 to-teal-600/20 backdrop-blur-2xl rounded-3xl p-8 border-2 border-white/20 shadow-2xl overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-green-500/20 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-emerald-500/20 rounded-full blur-3xl animate-pulse delay-1000"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(S.E.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"p-4 bg-gradient-to-br from-green-500/30 to-emerald-500/30 rounded-2xl shadow-lg border border-white/20",children:a.jsx(p.Z,{className:"h-8 w-8 text-green-300"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-white mb-1",children:"\uD83D\uDCB3 Последние транзакции"}),a.jsx("p",{className:"text-green-200 text-sm",children:m.length>5?`Показано 5 из ${m.length} операций`:`История ваших операций (${m.length})`})]})]}),a.jsx(V.default,{href:"/dashboard/transactions",children:a.jsx(S.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsx(d.z,{variant:"outline",size:"lg",className:"border-2 border-white/30 text-white hover:bg-white/20 backdrop-blur-sm font-bold",children:"Все транзакции →"})})})]}),a.jsx("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10",children:a.jsx(_.R,{limit:5})})]})]}),(0,a.jsxs)(S.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(S.E.div,{whileHover:{scale:1.05,rotate:1},transition:{type:"spring"},children:(0,a.jsxs)(x.Zb,{className:"bg-gradient-to-br from-yellow-500 via-orange-500 to-red-600 text-white shadow-2xl border-2 border-yellow-400/50 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),a.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-yellow-400/30 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),(0,a.jsxs)(x.aY,{className:"p-8 text-center relative z-10",children:[a.jsx(S.E.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0},className:"flex items-center justify-center mb-4",children:a.jsx("div",{className:"p-4 bg-white/20 rounded-2xl",children:a.jsx(M.Z,{className:"h-10 w-10"})})}),a.jsx("h3",{className:"text-xl font-black mb-3",children:"\uD83D\uDC64 Статус аккаунта"}),a.jsx(S.E.p,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-3xl font-black mb-2",children:"active"===s.status?"Активный":"pending"===s.status?"На проверке":"suspended"===s.status?"Заблокирован":"Активный"}),a.jsx("div",{className:"bg-white/20 rounded-full px-4 py-2 backdrop-blur-sm",children:a.jsx("p",{className:"text-sm font-bold",children:s.email_verified?"✓ Верифицированный пользователь":"⏳ Требуется верификация"})})]})]})}),a.jsx(S.E.div,{whileHover:{scale:1.05,rotate:-1},transition:{type:"spring"},children:(0,a.jsxs)(x.Zb,{className:"bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-700 text-white shadow-2xl border-2 border-blue-400/50 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),a.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-blue-400/30 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),(0,a.jsxs)(x.aY,{className:"p-8 text-center relative z-10",children:[a.jsx(S.E.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"flex items-center justify-center mb-4",children:a.jsx("div",{className:"p-4 bg-white/20 rounded-2xl",children:a.jsx(D.Z,{className:"h-10 w-10"})})}),a.jsx("h3",{className:"text-xl font-black mb-3",children:"\uD83D\uDEE1️ Безопасность"}),a.jsx("div",{className:"flex items-center justify-center space-x-2 mb-2",children:s.email_verified?(0,a.jsxs)(a.Fragment,{children:[a.jsx(F.Z,{className:"h-6 w-6 text-green-400"}),a.jsx("p",{className:"text-3xl font-black",children:"Защищен"})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(I.Z,{className:"h-6 w-6 text-yellow-400"}),a.jsx("p",{className:"text-3xl font-black",children:"Частично"})]})}),a.jsx("div",{className:"bg-white/20 rounded-full px-4 py-2 backdrop-blur-sm",children:a.jsx("p",{className:"text-sm font-bold",children:s.email_verified?"✓ Аккаунт верифицирован":"⚠️ Завершите верификацию"})})]})]})}),a.jsx(S.E.div,{whileHover:{scale:1.05,rotate:1},transition:{type:"spring"},children:(0,a.jsxs)(x.Zb,{className:"bg-gradient-to-br from-red-500 via-pink-500 to-rose-600 text-white shadow-2xl border-2 border-red-400/50 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),a.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-red-400/30 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),(0,a.jsxs)(x.aY,{className:"p-8 text-center relative z-10",children:[a.jsx(S.E.div,{animate:{rotate:[0,360]},transition:{duration:10,repeat:1/0,ease:"linear"},className:"flex items-center justify-center mb-4",children:a.jsx("div",{className:"p-4 bg-white/20 rounded-2xl",children:a.jsx(U.Z,{className:"h-10 w-10"})})}),a.jsx("h3",{className:"text-xl font-black mb-3",children:"\uD83C\uDF0D Локация"}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[a.jsx(q.Z,{className:"h-6 w-6"}),a.jsx("p",{className:"text-3xl font-black",children:s.country?Q(s.country):"Не указана"})]}),a.jsx("div",{className:"bg-white/20 rounded-full px-4 py-2 backdrop-blur-sm",children:(0,a.jsxs)("p",{className:"text-sm font-bold flex items-center justify-center",children:[a.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),s.city?`${s.city}, ${Q(s.country)}`:"Подключено к БД"]})})]})]})})]})]})})]})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(I.Z,{className:"h-16 w-16 text-yellow-500 mx-auto mb-4"}),a.jsx("p",{className:"text-white text-lg",children:"Данные пользователя не найдены"})]})})}function B(){return console.log("Dashboard: Page component rendering"),a.jsx(l.a,{children:a.jsx(O,{})})}},2502:(e,t,s)=>{"use strict";s.d(t,{Cd:()=>o,X:()=>c,bZ:()=>d});var a=s(97247),r=s(28964),l=s(87972),i=s(25008);let n=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=r.forwardRef(({className:e,variant:t,...s},r)=>a.jsx("div",{ref:r,role:"alert",className:(0,i.cn)(n({variant:t}),e),...s}));d.displayName="Alert";let o=r.forwardRef(({className:e,...t},s)=>a.jsx("h5",{ref:s,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));o.displayName="AlertTitle";let c=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",e),...t}));c.displayName="AlertDescription"},22394:(e,t,s)=>{"use strict";s.d(t,{_:()=>o});var a=s(97247),r=s(28964),l=s(40768),i=s(87972),n=s(25008);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...t},s)=>a.jsx(l.f,{ref:s,className:(0,n.cn)(d(),e),...t}));o.displayName=l.f.displayName},14779:(e,t,s)=>{"use strict";s.d(t,{E:()=>d,m:()=>o});var a=s(97247),r=s(28964),l=s(18136),i=s(44161),n=s(25008);let d=r.forwardRef(({className:e,...t},s)=>a.jsx(l.fC,{className:(0,n.cn)("grid gap-2",e),...t,ref:s}));d.displayName=l.fC.displayName;let o=r.forwardRef(({className:e,...t},s)=>a.jsx(l.ck,{ref:s,className:(0,n.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(l.z$,{className:"flex items-center justify-center",children:a.jsx(i.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})}));o.displayName=l.ck.displayName},47358:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},67573:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]])},35216:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},20290:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},62752:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},26689:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},93587:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},8749:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9527:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},79438:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},33063:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(45347).createProxy)(String.raw`C:\Users\x4539\Downloads\Invest2025-main\Invest2025-main\app\dashboard\page.tsx#default`)},40768:(e,t,s)=>{"use strict";s.d(t,{f:()=>n});var a=s(28964),r=s(22251),l=s(97247),i=a.forwardRef((e,t)=>(0,l.jsx)(r.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var n=i},18136:(e,t,s)=>{"use strict";s.d(t,{ck:()=>P,fC:()=>I,z$:()=>F});var a=s(28964),r=s(70319),l=s(93191),i=s(20732),n=s(22251),d=s(5706),o=s(28469),c=s(71310),x=s(30255),m=s(45298),u=s(67264),h=s(97247),b="Radio",[p,g]=(0,i.b)(b),[f,j]=p(b),v=a.forwardRef((e,t)=>{let{__scopeRadio:s,name:i,checked:d=!1,required:o,disabled:c,value:x="on",onCheck:m,form:u,...b}=e,[p,g]=a.useState(null),j=(0,l.e)(t,e=>g(e)),v=a.useRef(!1),w=!p||u||!!p.closest("form");return(0,h.jsxs)(f,{scope:s,checked:d,disabled:c,children:[(0,h.jsx)(n.WV.button,{type:"button",role:"radio","aria-checked":d,"data-state":k(d),"data-disabled":c?"":void 0,disabled:c,value:x,...b,ref:j,onClick:(0,r.M)(e.onClick,e=>{d||m?.(),w&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),w&&(0,h.jsx)(y,{control:p,bubbles:!v.current,name:i,value:x,checked:d,required:o,disabled:c,form:u,style:{transform:"translateX(-100%)"}})]})});v.displayName=b;var w="RadioIndicator",N=a.forwardRef((e,t)=>{let{__scopeRadio:s,forceMount:a,...r}=e,l=j(w,s);return(0,h.jsx)(u.z,{present:a||l.checked,children:(0,h.jsx)(n.WV.span,{"data-state":k(l.checked),"data-disabled":l.disabled?"":void 0,...r,ref:t})})});N.displayName=w;var y=e=>{let{control:t,checked:s,bubbles:r=!0,...l}=e,i=a.useRef(null),n=(0,m.D)(s),d=(0,x.t)(t);return a.useEffect(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(n!==s&&t){let a=new Event("click",{bubbles:r});t.call(e,s),e.dispatchEvent(a)}},[n,s,r]),(0,h.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:s,...l,tabIndex:-1,ref:i,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function k(e){return e?"checked":"unchecked"}var D=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],C="RadioGroup",[E,Z]=(0,i.b)(C,[d.Pc,g]),_=(0,d.Pc)(),S=g(),[T,z]=E(C),R=a.forwardRef((e,t)=>{let{__scopeRadioGroup:s,name:a,defaultValue:r,value:l,required:i=!1,disabled:x=!1,orientation:m,dir:u,loop:b=!0,onValueChange:p,...g}=e,f=_(s),j=(0,c.gm)(u),[v,w]=(0,o.T)({prop:l,defaultProp:r,onChange:p});return(0,h.jsx)(T,{scope:s,name:a,required:i,disabled:x,value:v,onValueChange:w,children:(0,h.jsx)(d.fC,{asChild:!0,...f,orientation:m,dir:j,loop:b,children:(0,h.jsx)(n.WV.div,{role:"radiogroup","aria-required":i,"aria-orientation":m,"data-disabled":x?"":void 0,dir:j,...g,ref:t})})})});R.displayName=C;var $="RadioGroupItem",M=a.forwardRef((e,t)=>{let{__scopeRadioGroup:s,disabled:i,...n}=e,o=z($,s),c=o.disabled||i,x=_(s),m=S(s),u=a.useRef(null),b=(0,l.e)(t,u),p=o.value===n.value,g=a.useRef(!1);return a.useEffect(()=>{let e=e=>{D.includes(e.key)&&(g.current=!0)},t=()=>g.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,h.jsx)(d.ck,{asChild:!0,...x,focusable:!c,active:p,children:(0,h.jsx)(v,{disabled:c,required:o.required,checked:p,...m,...n,name:o.name,ref:b,onCheck:()=>o.onValueChange(n.value),onKeyDown:(0,r.M)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,r.M)(n.onFocus,()=>{g.current&&u.current?.click()})})})});M.displayName=$;var A=a.forwardRef((e,t)=>{let{__scopeRadioGroup:s,...a}=e,r=S(s);return(0,h.jsx)(N,{...r,...a,ref:t})});A.displayName="RadioGroupIndicator";var I=R,P=M,F=A},45298:(e,t,s)=>{"use strict";s.d(t,{D:()=>r});var a=s(28964);function r(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[7787,4947,3514,4719,7818,6018,9498,2866,3888],()=>s(48056));module.exports=a})();