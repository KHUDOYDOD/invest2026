(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9796],{88958:function(e,t,r){Promise.resolve().then(r.bind(r,42842))},42842:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var a=r(57437),l=r(2265),i=r(32660),n=r(11239),s=r(73247),o=r(90740),d=r(92369),c=r(91723),m=r(62869),u=r(95186),x=r(35974),h=r(27648),b=r(98239),p=r(14356),f=r(57043);function g(){let[e,t]=(0,l.useState)([]),[r,g]=(0,l.useState)(!0),[y,v]=(0,l.useState)(""),[w,j]=(0,l.useState)("all");(0,l.useEffect)(()=>{(async()=>{try{g(!0);let e=await fetch("/api/user-activity");if(e.ok){let r=await e.json();if(r.success&&Array.isArray(r.data)){let e=r.data.map(e=>({id:e.id,type:e.type,amount:e.amount,user_name:e.user_name,time:N(new Date(e.time)),plan_name:e.plan_name}));t(e)}else t([])}else console.warn("Failed to fetch user activity, showing empty list"),t([])}catch(e){console.error("Ошибка загрузки активности:",e)}finally{g(!1)}})()},[]);let N=e=>{let t=Math.floor((new Date().getTime()-e.getTime())/1e3);if(t<60)return"только что";if(t<3600){let e=Math.floor(t/60);return"".concat(e," ").concat(1===e?"минуту":e<5?"минуты":"минут"," назад")}if(t<86400){let e=Math.floor(t/3600);return"".concat(e," ").concat(1===e?"час":e<5?"часа":"часов"," назад")}{let e=Math.floor(t/86400);return"".concat(e," ").concat(1===e?"день":e<5?"дня":"дней"," назад")}},D=e=>{switch(e){case"deposit":return{gradient:"from-emerald-500 to-teal-600",bgGradient:"from-emerald-500/20 to-teal-600/20",borderColor:"border-emerald-500/30",textColor:"text-emerald-400",shadowColor:"shadow-emerald-500/25",icon:"\uD83D\uDCB0",name:"Пополнение",sign:"+",description:"Пополнение баланса"};case"withdrawal":return{gradient:"from-red-500 to-pink-600",bgGradient:"from-red-500/20 to-pink-600/20",borderColor:"border-red-500/30",textColor:"text-red-400",shadowColor:"shadow-red-500/25",icon:"\uD83D\uDCE4",name:"Вывод",sign:"-",description:"Вывод средств"};case"investment":return{gradient:"from-blue-500 to-indigo-600",bgGradient:"from-blue-500/20 to-indigo-600/20",borderColor:"border-blue-500/30",textColor:"text-blue-400",shadowColor:"shadow-blue-500/25",icon:"\uD83D\uDC8E",name:"Инвестиция",sign:"",description:"Создание инвестиции"};case"referral":return{gradient:"from-yellow-500 to-orange-600",bgGradient:"from-yellow-500/20 to-orange-600/20",borderColor:"border-yellow-500/30",textColor:"text-yellow-400",shadowColor:"shadow-yellow-500/25",icon:"\uD83D\uDC65",name:"Реферал",sign:"+",description:"Реферальный доход"};case"profit":return{gradient:"from-purple-500 to-violet-600",bgGradient:"from-purple-500/20 to-violet-600/20",borderColor:"border-purple-500/30",textColor:"text-purple-400",shadowColor:"shadow-purple-500/25",icon:"\uD83D\uDCC8",name:"Прибыль",sign:"+",description:"Прибыль от инвестиций"};default:return{gradient:"from-gray-500 to-slate-600",bgGradient:"from-gray-500/20 to-slate-600/20",borderColor:"border-gray-500/30",textColor:"text-gray-400",shadowColor:"shadow-gray-500/25",icon:"⚡",name:"Операция",sign:"",description:"Операция"}}},C=e=>{var t;let r=D(e.type),a=null===(t=e.amount)||void 0===t?void 0:t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});switch(e.type){case"deposit":return{main:"пополнил баланс",amount:"".concat(r.sign,"$").concat(a),detail:"\uD83D\uDCB3 Пополнение счета"};case"withdrawal":return{main:"вывел средства",amount:"".concat(r.sign,"$").concat(a),detail:"\uD83D\uDCE4 Вывод на кошелек"};case"investment":return{main:"создал инвестицию",amount:"$".concat(a),detail:"\uD83D\uDC8E План: ".concat(e.plan_name||"Не указан")};case"referral":return{main:"получил реферальный доход",amount:"".concat(r.sign,"$").concat(a),detail:"\uD83D\uDC65 Доход с рефералов"};case"profit":return{main:"получил прибыль",amount:"".concat(r.sign,"$").concat(a),detail:"\uD83D\uDCC8 Прибыль от инвестиций"};default:return{main:"совершил операцию",amount:"$".concat(a),detail:"⚡ Операция"}}},k=e.filter(e=>{let t=e.user_name.toLowerCase().includes(y.toLowerCase()),r="all"===w||e.type===w;return t&&r}),Z=Array.from(new Set(e.map(e=>e.type))),E=k.length,S=k.filter(e=>{let t=new Date;return new Date(e.time).toDateString()===t.toDateString()}).length,z=k.filter(e=>["deposit","profit","referral"].includes(e.type)),F=k.filter(e=>["withdrawal"].includes(e.type)),_=k.filter(e=>"investment"===e.type),M=z.reduce((e,t)=>e+(t.amount||0),0),$=F.reduce((e,t)=>e+(t.amount||0),0),A=_.reduce((e,t)=>e+(t.amount||0),0);return r?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-gray-900 to-slate-950 relative overflow-hidden",children:[(0,a.jsx)(p.Header,{}),(0,a.jsxs)("div",{className:"absolute inset-0",children:[(0,a.jsx)("div",{className:"absolute top-1/3 left-1/3 w-72 h-72 bg-gradient-to-r from-cyan-600/10 to-blue-600/10 rounded-full blur-3xl animate-pulse"}),(0,a.jsx)("div",{className:"absolute bottom-1/3 right-1/3 w-72 h-72 bg-gradient-to-r from-purple-600/10 to-pink-600/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,a.jsx)("div",{className:"container mx-auto max-w-7xl relative z-10 pt-32 pb-20",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-t-cyan-500 border-r-transparent border-b-purple-500 border-l-transparent rounded-full mx-auto mb-4 animate-spin"}),(0,a.jsx)("p",{className:"text-slate-300 text-lg",children:"Загрузка активности..."})]})}),(0,a.jsx)(f.Footer,{})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-gray-900 to-slate-950 relative overflow-hidden",children:[(0,a.jsx)(p.Header,{}),(0,a.jsxs)("div",{className:"absolute inset-0",children:[(0,a.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-r from-cyan-600/10 to-blue-600/10 rounded-full blur-3xl animate-pulse"}),(0,a.jsx)("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-gradient-to-r from-purple-600/10 to-pink-600/10 rounded-full blur-3xl animate-pulse delay-1000"}),(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-gradient-to-r from-emerald-600/5 to-teal-600/5 rounded-full blur-3xl animate-spin-slow"})]}),(0,a.jsxs)("div",{className:"container mx-auto max-w-7xl relative z-10 pt-20 pb-20 px-4",children:[(0,a.jsxs)(b.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative bg-gradient-to-r from-cyan-600/20 via-purple-600/20 to-pink-600/20 backdrop-blur-2xl rounded-3xl p-8 border-2 border-white/20 shadow-2xl overflow-hidden mb-12",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-40 h-40 bg-cyan-500/30 rounded-full blur-3xl animate-pulse"}),(0,a.jsx)("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-purple-500/30 rounded-full blur-3xl animate-pulse delay-1000"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)(h.default,{href:"/",className:"inline-flex items-center text-cyan-400 hover:text-cyan-300 transition-colors mb-6",children:[(0,a.jsx)(i.Z,{className:"h-5 w-5 mr-2"}),"Вернуться на главную"]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)(b.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"inline-flex items-center space-x-3 bg-gradient-to-r from-cyan-500/20 to-purple-500/20 backdrop-blur-xl rounded-full px-6 py-3 border-2 border-cyan-400/30 shadow-lg mb-6",children:[(0,a.jsx)(n.Z,{className:"h-6 w-6 text-cyan-400"}),(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"Полная история активности"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-cyan-400 rounded-full"})]}),(0,a.jsx)("h1",{className:"text-5xl md:text-7xl font-black bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent mb-6",children:"⚡ Вся активность"}),(0,a.jsx)("p",{className:"text-blue-100 max-w-2xl mx-auto text-xl font-medium",children:"Полная история всех операций пользователей на платформе"})]})]})]}),(0,a.jsxs)(b.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-6 mb-12",children:[(0,a.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-6 text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-cyan-400 mb-2",children:E}),(0,a.jsx)("div",{className:"text-slate-300 text-sm",children:"Всего операций"})]}),(0,a.jsxs)("div",{className:"bg-emerald-500/10 backdrop-blur-sm border border-emerald-500/30 rounded-2xl p-6 text-center",children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-emerald-400 mb-2",children:["+$",M.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,a.jsxs)("div",{className:"text-emerald-300 text-sm",children:["\uD83D\uDCB0 Доходы (",z.length,")"]})]}),(0,a.jsxs)("div",{className:"bg-red-500/10 backdrop-blur-sm border border-red-500/30 rounded-2xl p-6 text-center",children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-red-400 mb-2",children:["-$",$.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,a.jsxs)("div",{className:"text-red-300 text-sm",children:["\uD83D\uDCE4 Расходы (",F.length,")"]})]}),(0,a.jsxs)("div",{className:"bg-blue-500/10 backdrop-blur-sm border border-blue-500/30 rounded-2xl p-6 text-center",children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:["$",A.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,a.jsxs)("div",{className:"text-blue-300 text-sm",children:["\uD83D\uDC8E Инвестиции (",_.length,")"]})]}),(0,a.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-6 text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:S}),(0,a.jsx)("div",{className:"text-slate-300 text-sm",children:"Сегодня"})]})]}),(0,a.jsxs)(b.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-12 flex flex-col sm:flex-row gap-4 justify-between items-center",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,a.jsx)(s.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),(0,a.jsx)(u.I,{placeholder:"Поиск по имени пользователя...",value:y,onChange:e=>v(e.target.value),className:"pl-10 bg-white/5 border-white/10 text-white placeholder:text-slate-400 focus:border-cyan-500/50"})]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,a.jsxs)(m.z,{variant:"all"===w?"default":"outline",size:"sm",onClick:()=>j("all"),className:"".concat("all"===w?"bg-gradient-to-r from-cyan-500 to-purple-600 text-white":"bg-white/5 border-white/10 text-slate-300 hover:bg-white/10"),children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Все (",e.length,")"]}),Z.map(t=>{let r=e.filter(e=>e.type===t).length,l=D(t);return(0,a.jsxs)(m.z,{variant:w===t?"default":"outline",size:"sm",onClick:()=>j(t),className:"".concat(w===t?"bg-gradient-to-r from-cyan-500 to-purple-600 text-white":"bg-white/5 border-white/10 text-slate-300 hover:bg-white/10"),children:[l.icon," ",l.name," (",r,")"]},t)})]})]}),0===k.length&&!r&&(0,a.jsx)(b.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:(0,a.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl rounded-3xl p-12 border border-slate-700/50 max-w-2xl mx-auto",children:[(0,a.jsx)("div",{className:"text-6xl mb-6",children:"⚡"}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Активность не найдена"}),(0,a.jsx)("p",{className:"text-slate-400 text-lg",children:"Попробуйте изменить фильтры или поисковый запрос"})]})}),(0,a.jsx)(b.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:k.map((e,t)=>{let r=D(e.type),l=C(e);return(0,a.jsxs)(b.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"p-6 rounded-2xl border ".concat(r.borderColor," bg-gradient-to-br ").concat(r.bgGradient," backdrop-blur-xl shadow-xl ").concat(r.shadowColor," hover:shadow-2xl transition-all duration-500 relative overflow-hidden group"),children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-3 rounded-2xl bg-gradient-to-r ".concat(r.gradient," text-white shadow-lg group-hover:scale-110 transition-transform duration-300"),children:(0,a.jsx)("span",{className:"text-xl",children:r.icon})}),(0,a.jsx)(x.C,{className:"".concat(r.textColor," bg-white/10 border-white/20 font-medium px-3 py-1"),children:r.name})]}),(0,a.jsx)("div",{className:"text-2xl font-bold ".concat(r.textColor),children:l.amount})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 text-slate-400"}),(0,a.jsx)("span",{className:"font-semibold bg-gradient-to-r from-white to-slate-200 bg-clip-text text-transparent",children:e.user_name})]}),(0,a.jsx)("p",{className:"text-white text-lg leading-relaxed",children:l.main})]}),(0,a.jsx)("div",{className:"space-y-2 mb-4",children:(0,a.jsx)("div",{className:"text-sm ".concat(r.textColor," font-medium"),children:l.detail})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 pt-3 border-t border-white/10",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 text-slate-400"}),(0,a.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:e.time})]})]})]},e.id)})})]}),(0,a.jsx)(f.Footer,{})]})}},35974:function(e,t,r){"use strict";r.d(t,{C:function(){return s}});var a=r(57437);r(2265);var l=r(90535),i=r(94508);let n=(0,l.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function s(e){let{className:t,variant:r,...l}=e;return(0,a.jsx)("div",{className:(0,i.cn)(n({variant:r}),t),...l})}},32660:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},20265:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},91723:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},79219:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]])},90740:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},37760:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},89345:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},73247:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},42351:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},74767:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]])}},function(e){e.O(0,[9203,3513,282,2696,8239,9390,8391,1133,9225,2971,2117,1744],function(){return e(e.s=88958)}),_N_E=e.O()}]);