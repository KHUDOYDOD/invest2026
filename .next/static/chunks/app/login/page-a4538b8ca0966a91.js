(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2626],{69818:function(e,t,r){Promise.resolve().then(r.bind(r,66374))},66374:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var a=r(57437),s=r(2265),l=r(99376),n=r(27648),i=r(62869),o=r(95186),d=r(26815),u=r(66070),c=r(65613),m=r(14356),f=r(57043),x=r(88906),h=r(49322),p=r(41671),b=r(87769),g=r(42208),v=r(51817),y=r(29090),w=r(14438);function N(){let e=(0,l.useRouter)(),[t,r]=(0,s.useState)({email:"",password:""}),[N,j]=(0,s.useState)(!1),[k,Z]=(0,s.useState)(!1),[z,D]=(0,s.useState)(null),[S,C]=(0,s.useState)(null),I=e=>{let{name:t,value:a}=e.target;r(e=>({...e,[t]:a})),z&&D(null),S&&C(null)},A=async r=>{r.preventDefault(),j(!0),D(null),C(null);try{console.log("\uD83D\uDD10 Attempting login with:",t.email);let r=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email.trim(),password:t.password})}),a=await r.json();if(console.log("\uD83D\uDCE5 Login response:",a),!r.ok||!a.success){if(a.field){let e=document.getElementById(a.field);e&&(e.focus(),e.classList.add("border-red-400"),setTimeout(()=>{e.classList.remove("border-red-400")},3e3))}throw Error(a.error||"Ошибка входа")}C("✅ Вход выполнен успешно! Сейчас перенаправляем в личный кабинет..."),w.Am.success("✅ Добро пожаловать! Перенаправление в личный кабинет...",{duration:3e3,style:{background:"#10b981",color:"#fff",fontSize:"16px",fontWeight:"bold"}}),a.user&&(localStorage.setItem("user",JSON.stringify(a.user)),localStorage.setItem("userEmail",a.user.email),localStorage.setItem("userName",a.user.fullName),localStorage.setItem("userId",a.user.id),localStorage.setItem("userRole",a.user.role||"user"),localStorage.setItem("isAuthenticated","true"),a.token&&(localStorage.setItem("auth-token",a.token),localStorage.setItem("authToken",a.token)),(a.user.isAdmin||"admin"===a.user.role)&&(localStorage.setItem("adminAuth","true"),localStorage.setItem("adminUser",JSON.stringify(a.user)))),setTimeout(()=>{let t=a.redirect||"/dashboard";e.push(t),e.refresh()},1500)}catch(t){console.error("❌ Login error:",t);let e=t.message||"Произошла ошибка при входе. Проверьте данные и попробуйте еще раз.";D(e),w.Am.error("❌ ".concat(e),{duration:4e3,style:{background:"#ef4444",color:"#fff",fontSize:"16px"}})}finally{j(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-cyan-950 flex flex-col relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0",children:[(0,a.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-r from-blue-600/30 to-cyan-600/30 rounded-full blur-3xl animate-pulse"}),(0,a.jsx)("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-gradient-to-r from-emerald-600/30 to-teal-600/30 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),(0,a.jsx)("div",{className:"absolute top-1/2 right-1/3 w-[500px] h-[500px] bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),(0,a.jsx)("div",{className:"absolute top-20 left-20 w-2 h-2 bg-blue-400 rounded-full animate-ping"}),(0,a.jsx)("div",{className:"absolute top-40 right-40 w-2 h-2 bg-cyan-400 rounded-full animate-ping",style:{animationDelay:"0.5s"}}),(0,a.jsx)("div",{className:"absolute bottom-20 left-40 w-2 h-2 bg-green-400 rounded-full animate-ping",style:{animationDelay:"1s"}}),(0,a.jsx)("div",{className:"absolute bottom-40 right-20 w-2 h-2 bg-purple-400 rounded-full animate-ping",style:{animationDelay:"1.5s"}})]}),(0,a.jsx)(m.Header,{}),(0,a.jsx)("main",{className:"flex-grow flex items-center justify-center py-12 px-4 relative z-10",children:(0,a.jsxs)(u.Zb,{className:"w-full max-w-lg relative z-10 bg-gradient-to-br from-slate-900/90 via-slate-800/90 to-slate-900/90 backdrop-blur-xl border-2 border-blue-500/30 shadow-2xl shadow-blue-500/20 rounded-3xl",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 via-cyan-600/10 to-emerald-600/10 rounded-3xl animate-pulse pointer-events-none"}),(0,a.jsxs)(u.Ol,{className:"space-y-6 text-center pb-8 pt-8 relative z-10",children:[(0,a.jsxs)("div",{className:"mx-auto w-24 h-24 bg-gradient-to-br from-blue-500 via-cyan-500 to-emerald-500 rounded-full flex items-center justify-center shadow-2xl shadow-blue-500/50 animate-pulse relative group",children:[(0,a.jsx)(x.Z,{className:"w-12 h-12 text-white relative z-10"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-white/20 rounded-full animate-pulse"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(u.ll,{className:"text-4xl font-black bg-gradient-to-r from-cyan-400 via-blue-400 to-emerald-400 bg-clip-text text-transparent",children:"\uD83D\uDD10 Добро пожаловать!"}),(0,a.jsx)(u.SZ,{className:"text-white/90 text-xl font-bold",children:"Войдите в свой личный кабинет"})]})]}),(0,a.jsxs)(u.aY,{className:"space-y-8 px-8 relative z-20",children:[z&&(0,a.jsxs)(c.bZ,{variant:"destructive",className:"border-red-400/50 bg-red-500/20 backdrop-blur-sm relative z-20",children:[(0,a.jsx)(h.Z,{className:"h-5 w-5 text-red-400"}),(0,a.jsx)(c.X,{className:"text-red-300 font-medium",children:z})]}),S&&(0,a.jsxs)(c.bZ,{className:"border-green-400/50 bg-green-500/20 backdrop-blur-sm relative z-20",children:[(0,a.jsx)(p.Z,{className:"h-5 w-5 text-green-400"}),(0,a.jsx)(c.X,{className:"text-green-300 font-medium",children:S})]}),(0,a.jsxs)("form",{onSubmit:A,className:"space-y-8 relative z-20",children:[(0,a.jsxs)("div",{className:"space-y-3 relative z-20",children:[(0,a.jsx)(d._,{htmlFor:"email",className:"text-white font-medium text-base",children:"Email или логин"}),(0,a.jsx)(o.I,{id:"email",name:"email",type:"text",placeholder:"example@domain.com или ваш логин",value:t.email,onChange:I,required:!0,disabled:N,className:"h-12 text-base bg-white/10 border-white/20 text-white placeholder:text-white/50 rounded-xl transition-all duration-300 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/50 relative z-20",autoComplete:"email",style:{pointerEvents:"auto"}})]}),(0,a.jsxs)("div",{className:"space-y-3 relative z-20",children:[(0,a.jsx)(d._,{htmlFor:"password",className:"text-white font-medium text-base",children:"Пароль"}),(0,a.jsxs)("div",{className:"relative z-20",children:[(0,a.jsx)(o.I,{id:"password",name:"password",type:k?"text":"password",placeholder:"Введите ваш пароль",value:t.password,onChange:I,required:!0,disabled:N,className:"h-12 text-base pr-12 bg-white/10 border-white/20 text-white placeholder:text-white/50 rounded-xl transition-all duration-300 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/50 relative z-20",autoComplete:"current-password",style:{pointerEvents:"auto"}}),(0,a.jsx)("button",{type:"button",className:"absolute right-3 top-3 text-white/50 hover:text-white transition-colors z-30",onClick:()=>Z(!k),disabled:N,style:{pointerEvents:"auto"},children:k?(0,a.jsx)(b.Z,{className:"h-5 w-5"}):(0,a.jsx)(g.Z,{className:"h-5 w-5"})})]})]}),(0,a.jsxs)(i.z,{type:"submit",className:"w-full h-14 text-lg font-black bg-gradient-to-r from-blue-600 via-cyan-600 to-emerald-600 hover:from-blue-700 hover:via-cyan-700 hover:to-emerald-700 text-white border-2 border-white/20 rounded-xl shadow-2xl shadow-blue-500/30 hover:shadow-2xl hover:shadow-cyan-500/40 transform hover:scale-105 transition-all duration-300 relative overflow-hidden group",disabled:N||!t.email.trim()||!t.password,children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"}),(0,a.jsx)("span",{className:"relative z-10 flex items-center justify-center",children:N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Z,{className:"mr-3 h-6 w-6 animate-spin"}),"Выполняется вход..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.Z,{className:"mr-3 h-6 w-6"}),"\uD83D\uDE80 Войти в аккаунт"]})})]})]}),(0,a.jsx)("div",{className:"text-center pt-4",children:(0,a.jsx)(n.default,{href:"/register",className:"text-blue-400 hover:text-blue-300 font-semibold hover:underline transition-all duration-200 text-sm",children:"Забыли пароль? Восстановить доступ"})})]}),(0,a.jsx)(u.eW,{className:"flex flex-col space-y-6 pt-6 pb-8 px-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("span",{className:"text-white/70 text-sm",children:"Нет аккаунта? "}),(0,a.jsx)(n.default,{href:"/register",className:"text-blue-400 hover:text-blue-300 font-semibold hover:underline transition-colors duration-200 text-sm",children:"Создать бесплатный аккаунт"})]})})]})}),(0,a.jsx)(f.Footer,{})]})}},65613:function(e,t,r){"use strict";r.d(t,{Cd:function(){return d},X:function(){return u},bZ:function(){return o}});var a=r(57437),s=r(2265),l=r(90535),n=r(94508);let i=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,...l}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,n.cn)(i({variant:s}),r),...l})});o.displayName="Alert";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",r),...s})});d.displayName="AlertTitle";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",r),...s})});u.displayName="AlertDescription"},66070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return n},aY:function(){return u},eW:function(){return c},ll:function(){return o}});var a=r(57437),s=r(2265),l=r(94508);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});n.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...s})});d.displayName="CardDescription";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...s})});u.displayName="CardContent";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...s})});c.displayName="CardFooter"},26815:function(e,t,r){"use strict";r.d(t,{_:function(){return d}});var a=r(57437),s=r(2265),l=r(6394),n=r(90535),i=r(94508);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.f,{ref:t,className:(0,i.cn)(o(),r),...s})});d.displayName=l.f.displayName},20265:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},49322:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},41671:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},87769:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},42208:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},79219:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]])},37760:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},51817:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},29090:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},89345:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},42351:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},74767:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]])},6394:function(e,t,r){"use strict";r.d(t,{f:function(){return i}});var a=r(2265),s=r(66840),l=r(57437),n=a.forwardRef((e,t)=>(0,l.jsx)(s.WV.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var i=n}},function(e){e.O(0,[9203,3513,282,2696,8239,4438,9390,8391,1133,9225,2971,2117,1744],function(){return e(e.s=69818)}),_N_E=e.O()}]);