(()=>{var e={};e.id=3717,e.ids=[3717],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},72640:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),a(41801),a(70893),a(93678),a(90996);var t=a(30170),r=a(45002),n=a(83876),i=a.n(n),l=a(66299),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(s,o);let d=["",{children:["admin",{children:["roles",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,41801)),"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\admin\\roles\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,70893)),"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,93678)),"C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,90996,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\x4539\\Downloads\\Invest2025-main\\Invest2025-main\\app\\admin\\roles\\page.tsx"],m="/admin/roles/page",p={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/roles/page",pathname:"/admin/roles",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},60515:(e,s,a)=>{Promise.resolve().then(a.bind(a,50614))},50614:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>C});var t=a(97247),r=a(28964),n=a(27757),i=a(58053),l=a(70170),o=a(22394),d=a(88964),c=a(21539),m=a(93763),p=a(97792);let u=(0,a(26323).Z)("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);var x=a(57989),h=a(99219),f=a(94002),g=a(33841),v=a(17316),b=a(48799),y=a(37013),j=a(84719),N=a(17818);let w=[{id:1,name:"Супер Админ",description:"Полный доступ ко всем функциям системы",permissions:["all"],userCount:2,color:"from-red-500 to-pink-600",icon:m.Z},{id:2,name:"Администратор",description:"Управление пользователями и контентом",permissions:["users.manage","content.manage","transactions.view","settings.manage"],userCount:5,color:"from-purple-500 to-indigo-600",icon:p.Z},{id:3,name:"Модератор",description:"Модерация контента и поддержка пользователей",permissions:["content.moderate","users.view","support.manage"],userCount:12,color:"from-blue-500 to-cyan-600",icon:u},{id:4,name:"Пользователь",description:"Стандартные права пользователя",permissions:["profile.manage","investments.manage"],userCount:15420,color:"from-green-500 to-emerald-600",icon:x.Z}],k=[{id:"users.manage",name:"Управление пользователями",category:"Пользователи"},{id:"users.view",name:"Просмотр пользователей",category:"Пользователи"},{id:"users.delete",name:"Удаление пользователей",category:"Пользователи"},{id:"content.manage",name:"Управление контентом",category:"Контент"},{id:"content.moderate",name:"Модерация контента",category:"Контент"},{id:"transactions.manage",name:"Управление транзакциями",category:"Финансы"},{id:"transactions.view",name:"Просмотр транзакций",category:"Финансы"},{id:"settings.manage",name:"Управление настройками",category:"Система"},{id:"support.manage",name:"Управление поддержкой",category:"Поддержка"},{id:"profile.manage",name:"Управление профилем",category:"Профиль"},{id:"investments.manage",name:"Управление инвестициями",category:"Инвестиции"}];function C(){let[e,s]=(0,r.useState)(w),[a,u]=(0,r.useState)(null),[x,C]=(0,r.useState)(!1),[Z,P]=(0,r.useState)(!1),_=a=>{confirm("Вы уверены, что хотите удалить эту роль?")&&(s(e.filter(e=>e.id!==a)),N.Am.success("Роль успешно удалена!"))},M=e=>{if(!a)return;let s=a.permissions.includes(e)?a.permissions.filter(s=>s!==e):[...a.permissions,e];u({...a,permissions:s})};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-red-400 bg-clip-text text-transparent mb-2",children:"\uD83D\uDC51 Управление ролями"}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Настройка ролей и прав доступа пользователей"})]}),(0,t.jsxs)(i.z,{onClick:()=>{P(!0),u({id:Date.now(),name:"",description:"",permissions:[],userCount:0,color:"from-gray-500 to-gray-600",icon:p.Z})},className:"bg-gradient-to-r from-purple-600 to-pink-600",children:[t.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"Создать роль"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.map((e,s)=>t.jsx(j.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*s},children:t.jsx(n.Zb,{className:"bg-slate-800/50 border-slate-700 hover:border-slate-600 transition-all",children:t.jsx(n.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[t.jsx("div",{className:`p-3 bg-gradient-to-r ${e.color} rounded-xl`,children:t.jsx(e.icon,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:e.name}),(0,t.jsxs)(d.C,{variant:"secondary",className:"bg-slate-700",children:[e.userCount," ",1===e.userCount?"пользователь":"пользователей"]})]}),t.jsx("p",{className:"text-slate-400 mb-4",children:e.description}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.permissions.includes("all")?(0,t.jsxs)(d.C,{className:"bg-gradient-to-r from-yellow-500 to-orange-500",children:[t.jsx(m.Z,{className:"h-3 w-3 mr-1"}),"Все права"]}):e.permissions.slice(0,3).map(e=>t.jsx(d.C,{variant:"outline",className:"border-slate-600 text-slate-300",children:k.find(s=>s.id===e)?.name||e},e)),e.permissions.length>3&&!e.permissions.includes("all")&&(0,t.jsxs)(d.C,{variant:"outline",className:"border-slate-600 text-slate-300",children:["+",e.permissions.length-3," еще"]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(i.z,{size:"sm",variant:"ghost",onClick:()=>{u(e),C(!0),P(!1)},className:"text-blue-400 hover:text-blue-300 hover:bg-blue-400/10",children:t.jsx(f.Z,{className:"h-4 w-4"})}),e.id>2&&t.jsx(i.z,{size:"sm",variant:"ghost",onClick:()=>_(e.id),className:"text-red-400 hover:text-red-300 hover:bg-red-400/10",children:t.jsx(g.Z,{className:"h-4 w-4"})})]})]})})})},e.id))}),t.jsx("div",{className:"lg:col-span-1",children:(x||Z)&&a?(0,t.jsxs)(n.Zb,{className:"bg-slate-800/50 border-slate-700 sticky top-6",children:[t.jsx(n.Ol,{children:(0,t.jsxs)(n.ll,{className:"text-white flex items-center",children:[t.jsx(v.Z,{className:"mr-2 h-5 w-5"}),Z?"Создание роли":"Редактирование роли"]})}),(0,t.jsxs)(n.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(o._,{className:"text-white",children:"Название роли"}),t.jsx(l.I,{value:a.name,onChange:e=>u({...a,name:e.target.value}),placeholder:"Введите название",className:"bg-slate-700 border-slate-600 text-white"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(o._,{className:"text-white",children:"Описание"}),t.jsx(l.I,{value:a.description,onChange:e=>u({...a,description:e.target.value}),placeholder:"Введите описание",className:"bg-slate-700 border-slate-600 text-white"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx(o._,{className:"text-white",children:"Права доступа"}),t.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:Object.entries(k.reduce((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e),{})).map(([e,s])=>(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-slate-400",children:e}),s.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-slate-700/50 rounded",children:[t.jsx("span",{className:"text-sm text-slate-300",children:e.name}),t.jsx(c.r,{checked:a.permissions.includes(e.id),onCheckedChange:()=>M(e.id)})]},e.id))]},e))})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(i.z,{onClick:()=>{a&&(Z?(s([...e,a]),N.Am.success("Роль успешно создана!")):(s(e.map(e=>e.id===a.id?a:e)),N.Am.success("Роль успешно обновлена!")),P(!1),C(!1),u(null))},className:"flex-1 bg-green-600 hover:bg-green-700",children:[t.jsx(b.Z,{className:"h-4 w-4 mr-2"}),"Сохранить"]}),(0,t.jsxs)(i.z,{onClick:()=>{C(!1),P(!1),u(null)},variant:"outline",className:"flex-1 border-slate-600 text-slate-300",children:[t.jsx(y.Z,{className:"h-4 w-4 mr-2"}),"Отмена"]})]})]})]}):t.jsx(n.Zb,{className:"bg-slate-800/50 border-slate-700",children:(0,t.jsxs)(n.aY,{className:"p-12 text-center",children:[t.jsx(p.Z,{className:"h-16 w-16 mx-auto mb-4 text-slate-600"}),t.jsx("p",{className:"text-slate-400",children:"Выберите роль для редактирования или создайте новую"})]})})})]})]})}},27757:(e,s,a)=>{"use strict";a.d(s,{Ol:()=>l,SZ:()=>d,Zb:()=>i,aY:()=>c,eW:()=>m,ll:()=>o});var t=a(97247),r=a(28964),n=a(25008);let i=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let l=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let o=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));o.displayName="CardTitle";let d=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent";let m=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...s}));m.displayName="CardFooter"},70170:(e,s,a)=>{"use strict";a.d(s,{I:()=>i});var t=a(97247),r=a(28964),n=a(25008);let i=r.forwardRef(({className:e,type:s,...a},r)=>t.jsx("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...a}));i.displayName="Input"},22394:(e,s,a)=>{"use strict";a.d(s,{_:()=>d});var t=a(97247),r=a(28964),n=a(40768),i=a(87972),l=a(25008);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef(({className:e,...s},a)=>t.jsx(n.f,{ref:a,className:(0,l.cn)(o(),e),...s}));d.displayName=n.f.displayName},21539:(e,s,a)=>{"use strict";a.d(s,{r:()=>w});var t=a(97247),r=a(28964),n=a(70319),i=a(93191),l=a(20732),o=a(28469),d=a(45298),c=a(30255),m=a(22251),p="Switch",[u,x]=(0,l.b)(p),[h,f]=u(p),g=r.forwardRef((e,s)=>{let{__scopeSwitch:a,name:l,checked:d,defaultChecked:c,required:p,disabled:u,value:x="on",onCheckedChange:f,form:g,...v}=e,[b,N]=r.useState(null),w=(0,i.e)(s,e=>N(e)),k=r.useRef(!1),C=!b||g||!!b.closest("form"),[Z=!1,P]=(0,o.T)({prop:d,defaultProp:c,onChange:f});return(0,t.jsxs)(h,{scope:a,checked:Z,disabled:u,children:[(0,t.jsx)(m.WV.button,{type:"button",role:"switch","aria-checked":Z,"aria-required":p,"data-state":j(Z),"data-disabled":u?"":void 0,disabled:u,value:x,...v,ref:w,onClick:(0,n.M)(e.onClick,e=>{P(e=>!e),C&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),C&&(0,t.jsx)(y,{control:b,bubbles:!k.current,name:l,value:x,checked:Z,required:p,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});g.displayName=p;var v="SwitchThumb",b=r.forwardRef((e,s)=>{let{__scopeSwitch:a,...r}=e,n=f(v,a);return(0,t.jsx)(m.WV.span,{"data-state":j(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:s})});b.displayName=v;var y=e=>{let{control:s,checked:a,bubbles:n=!0,...i}=e,l=r.useRef(null),o=(0,d.D)(a),m=(0,c.t)(s);return r.useEffect(()=>{let e=l.current,s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==a&&s){let t=new Event("click",{bubbles:n});s.call(e,a),e.dispatchEvent(t)}},[o,a,n]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...i,tabIndex:-1,ref:l,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function j(e){return e?"checked":"unchecked"}var N=a(25008);let w=r.forwardRef(({className:e,...s},a)=>t.jsx(g,{className:(0,N.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:a,children:t.jsx(b,{className:(0,N.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));w.displayName=g.displayName},93763:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(26323).Z)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},99219:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(26323).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},94002:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(26323).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},33841:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(26323).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},41801:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(45347).createProxy)(String.raw`C:\Users\x4539\Downloads\Invest2025-main\Invest2025-main\app\admin\roles\page.tsx#default`)},40768:(e,s,a)=>{"use strict";a.d(s,{f:()=>l});var t=a(28964),r=a(22251),n=a(97247),i=t.forwardRef((e,s)=>(0,n.jsx)(r.WV.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var l=i},45298:(e,s,a)=>{"use strict";a.d(s,{D:()=>r});var t=a(28964);function r(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[7787,4947,3514,4268,4719,7818,9498,5976],()=>a(72640));module.exports=t})();